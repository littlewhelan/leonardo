<<<<<<< HEAD
var app=angular.module("leo",["ngRoute","ngAnimate","ui.bootstrap"]);app.config(["$routeProvider",function(t){t.when("/",{templateUrl:"static/login.html"}).when("/search",{templateUrl:"private/search.html"}).when("/register",{templateUrl:"static/register.html"}).when("/contactList",{templateUrl:"private/contactList.html"}).when("/addfamily",{templateUrl:"private/addfamily.html"}).when("/addcorp",{templateUrl:"private/addcorp.html"}).when("/contactlist",{templateUrl:"private/contactlist.html"}).otherwise({redirectTo:"/search"})}]),app.service("contactListData",function(){var t=[],e=0;return{newContactList:t,listNum:e}}),app.controller("newContactListController",["contactListData","$rootScope","$scope","$http",function(t,e,n,o){n.listname={},n.hide=function(){e.add=!0},n.config={headers:{Authorization:"Bearer ef5d5df2-a808-4c70-a5d9-eb71163cbeb9","Content-Type":"application/json"}},n.postList=function(){n.listReq={name:n.listname.input,status:"ACTIVE"},console.log("posting list . . . "),console.log(n.listReq),console.log(n.config),o.post("https://api.constantcontact.com/v2/lists?api_key=yg5p2qf549qacmbqayk5rn23",n.listReq,n.config).then(function(e){console.log("res"+e),e.id=t.listNum})}}]),app.controller("contactListController",["contactListData","$scope","$http",function(t,e,n){var o=[],a=JSON.stringify("list: ["+t.listNum+'],column_names:["EMAIL","FIRST NAME", "LAST NAME", "CITY","COMPANY NAME"]');e.contactChecked=function(t){e.checked.push([t])},e.sendPost=function(){var e=$.param({json:JSON.stringify({importData:o+", "+a})}),i={headers:{Authorization:"Bearer ef5d5df2-a808-4c70-a5d9-eb71163cbeb9"}};n.post("https://api.constantcontact.com/v2/activities/addcontacts?api_key=u8w59ztxe3294adczfvn7k9e",e,i).success(function(e,n,o,a){res.id=t.listNum}).error(function(t,e,n,o){})}}]),app.factory("authInterceptor",["$q","$location","authService",function(t,e,n){return{request:function(t){return t.headers=t.headers||{},n.isAuthed()&&(t.headers.Authorization="Bearer "+n.getToken()),t},response:function(n){return 401===n.status&&e.path("/"),n||t.when(n)},responseError:function(n){return 401===n.status?e.path("/"):console.log(n.status),t.reject(n)}}}]),app.service("authService",["$window",function(t){this.parseJwt=function(e){if(e){var n=e.split(".")[1],o=n.replace("-","+").replace("_","/");return JSON.parse(t.atob(o))}return{}},this.saveToken=function(e){t.localStorage.jwtToken=e},this.getToken=function(){return t.localStorage.jwtToken},this.isAuthed=function(){var t=this.getToken();if(t){var e=this.parseJwt(t),n=Math.round((new Date).getTime()/1e3)<=e.exp;return n||this.logout(),n}return!1},this.logout=function(){delete t.localStorage.jwtToken},this.getUser=function(){return this.parseJwt(this.getToken())}}]),app.controller("editCorpCtrl",["$scope","$uibModal","$log","ResultService",function(t,e,n,o){t.companies=o.companies,t.animationsEnabled=!0,t.openCorp=function(o){var a=e.open({animation:t.animationsEnabled,templateUrl:"private/editcorp.html",controller:"ModalInstanceCtrl",size:o,resolve:{items:function(){return t.items}}});a.result.then(function(e){t.selected=e},function(){n.info("Modal dismissed at: "+new Date)}),t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled}}}]),app.controller("createListSearch",["$scope","$rootScope","ContactListDataService",function(t,e,n){e.add=!1,t.listForm={},t.searchListBtn=function(){n.makeDataCall(t.listForm.data),t.listForm={}}}]),app.factory("ContactListDataService",["$http",function(t){var e=[],n=[],o=[],a=[],i=function(t){return http({method:"GET",URL:"../createMailList",params:{search:t}}).then(function(t){e=t.data,c(e),s(e),r(e)})},s=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"adult"==t.type&&a.push(t)})};return e(t),a},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"company"==t.type&&n.push(t)})};return e(t),n},r=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"child"==t.type&&kids.push(t)})};return e(t),o},l={makeDataCall:i,getCompanies:c,getKids:r,getAdults:s,results:e,allKids:o,allAdults:a,allCompanies:n};return l}]),app.controller("editFamilyCtrl",["$scope","$uibModal","$log","ResultService",function(t,e,n,o){t.adults=o.adults,t.kids=o.kids,t.animationsEnabled=!0,t.open=function(o){var a=e.open({animation:t.animationsEnabled,templateUrl:"private/editfamily.html",controller:"ModalInstanceCtrl",size:o,resolve:{items:function(){return t.items}}});a.result.then(function(e){t.selected=e},function(){n.info("Modal dismissed at: "+new Date)}),t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled}}}]),app.controller("loginCtrl",["$scope","$http","authService","$location","$rootScope",function(t,e,n,o,a){t.submit=function(){e.post("/login",t.form).then(function(t){n.saveToken(t.data),a.user=n.getUser(),o.path("/search")})}}]),app.controller("searchFunction",["$scope","$http","ResultService",function(t,e,n){t.formInput={},t.searchBtn=function(){n.makeDataCall(t.formInput.data),console.log("this is the input text",t.formInput),t.formInput={}}}]),app.factory("ResultService",["$http",function(t){var e=[],n=[],o=[],a=[],i=function(n){return t({method:"GET",url:"../search",params:{search:n}}).then(function(t){e=t.data,s(e),r(e),c(e)})},s=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"company"==t.type&&o.push(t)})};return e(t),console.log("this is getElement1",o),o},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"adult"==t.type&&n.push(t)})};return e(t),console.log("this is in getElement2",n),n},r=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"child"==t.type&&a.push(t)})};return e(t),console.log("this is getElements3",a),a},l={getKids:r,getAdults:c,getCompanies:s,makeDataCall:i,results:e,companies:o,adults:n,kids:a};return l}]),app.controller("ModalInstanceCtrl",["$scope","$modalInstance",function(t,e){t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("navCtrl",["authService","$scope","$rootScope","$location",function(t,e,n,o){n.user=t.getUser(),n.user&&n.user.username&&o.path("/home"),e.logout=function(){t.logout(),n.user=t.getUser(),o.path("/")}}]),app.service("contactListData",["contactListDataService","$scope","$http",function(t,e,n){function o(){$(":checked.type-element").each(function(){if(id=createListService.results.id){var t={email_addresses:[$(this).email],first_name:$(this).firstName,last_name:$(this).lastName,company_name:$(this).company,addresses:[{city:$(this).city}]};s.push(t)}})}var a=[],i="1499523610";e.postList=function(){n.post("/newContactList").success(function(t,e,n,o){console.log(t),i=t.id}),console.log(options)};var s=[{email_addresses:["user1@example.com"],first_name:"John",last_name:"Smith",company_name:"Company X",addresses:[{city:"anytown"}]},{email_addresses:["user2@example.com"],first_name:"Jane",last_name:"Smithy",company_name:"Company Y",addresses:[{city:"sometown"}]}];return e.popList=function(){o(),n.post("/populateContactList.js",s,i).success(function(t,e,n,o){console.log(t)}),console.log(options)},{newContactList:a,listNum:i}}]),app.controller("popListController",["contactListData","$scope","$http",function(t,e,n){e.listname={},e.populateList=function(){console.log("create list: "+scope.listname.input),t.popList(),e.listname={}}}]),app.controller("registerCtrl",["$scope","$http","$location",function(t,e,n){t.submit=function(){console.log("registerCtrl"),console.log("registerController submit:",t.form),e.post("/register",t.form).then(function(t){console.log(t),n.path("/index")})}}]),app.controller("resetCtrl",["$scope","$http","$location",function(t,e,n){t.submit=function(){console.log("edit password:",t.form),e.put("/admin",t.form).then(function(t){console.log(t),n.path("/index")})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhJbnRlcmNlcHRvci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiY29ycENvbnRyb2xsZXIuanMiLCJjcmVhdGVMaXN0Q29udG9sbGVyLmpzIiwiY3JlYXRlTGlzdFNlcnZpY2UuanMiLCJmYW1pbHlDb250cm9sbGVyLmpzIiwibG9naW5Db250cm9sbGVyLmpzIiwibWFpblNlYXJjaENvbnRyb2xsZXIuanMiLCJtYWluU2VhcmNoU2VydmljZS5qcyIsIm1vZGFsSW5zdGFuY2VDb250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0U2VydmljZS5qcyIsInBvcExpc3RDb250cm9sbGVyLmpzIiwicmVnaXN0ZXJDb250cm9sbGVyLmpzIiwicmVzZXRDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJzZXJ2aWNlIiwibmV3Q29udGFjdExpc3QiLCJsaXN0TnVtIiwiY29udHJvbGxlciIsImNvbnRhY3RMaXN0RGF0YSIsIiRyb290U2NvcGUiLCIkc2NvcGUiLCIkaHR0cCIsImxpc3RuYW1lIiwiaGlkZSIsImFkZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiQ29udGVudC1UeXBlIiwicG9zdExpc3QiLCJsaXN0UmVxIiwibmFtZSIsImlucHV0Iiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsInBvc3QiLCJ0aGVuIiwicmVzIiwiaWQiLCJpbXBvcnREYXRhQXJyYXkiLCJsaXN0RW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRhY3RDaGVja2VkIiwiY2hlY2tlZCIsInB1c2giLCJzZW5kUG9zdCIsImRhdGEiLCIkIiwicGFyYW0iLCJqc29uIiwiaW1wb3J0RGF0YSIsInN1Y2Nlc3MiLCJlcnJvciIsImZhY3RvcnkiLCIkcSIsIiRsb2NhdGlvbiIsImF1dGhTZXJ2aWNlIiwicmVxdWVzdCIsImlzQXV0aGVkIiwiZ2V0VG9rZW4iLCJyZXNwb25zZSIsInBhdGgiLCJyZXNwb25zZUVycm9yIiwicmVqZWN0IiwiJHdpbmRvdyIsInRoaXMiLCJwYXJzZUp3dCIsInRva2VuIiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwicGFyc2UiLCJhdG9iIiwic2F2ZVRva2VuIiwibG9jYWxTdG9yYWdlIiwiand0VG9rZW4iLCJwYXJhbXMiLCJub3RFeHBpcmVkIiwiTWF0aCIsInJvdW5kIiwiRGF0ZSIsImdldFRpbWUiLCJleHAiLCJsb2dvdXQiLCJnZXRVc2VyIiwiJHVpYk1vZGFsIiwiJGxvZyIsIlJlc3VsdFNlcnZpY2UiLCJjb21wYW5pZXMiLCJhbmltYXRpb25zRW5hYmxlZCIsIm9wZW5Db3JwIiwic2l6ZSIsIm1vZGFsSW5zdGFuY2UiLCJvcGVuIiwiYW5pbWF0aW9uIiwicmVzb2x2ZSIsIml0ZW1zIiwicmVzdWx0Iiwic2VsZWN0ZWRJdGVtIiwic2VsZWN0ZWQiLCJpbmZvIiwidG9nZ2xlQW5pbWF0aW9uIiwiQ29udGFjdExpc3REYXRhU2VydmljZSIsImxpc3RGb3JtIiwic2VhcmNoTGlzdEJ0biIsIm1ha2VEYXRhQ2FsbCIsInJlc3VsdHMiLCJhbGxDb21wYW5pZXMiLCJhbGxLaWRzIiwiYWxsQWR1bHRzIiwicGFzc2VkRGF0YSIsImh0dHAiLCJtZXRob2QiLCJVUkwiLCJzZWFyY2giLCJnZXRDb21wYW5pZXMiLCJnZXRBZHVsdHMiLCJnZXRLaWRzIiwiYXJyYXkiLCJnZXRFbGVtZW50MyIsInNwbGljZSIsImxlbmd0aCIsImZvckVhY2giLCJlbGVtZW50IiwidHlwZSIsImtpZHMiLCJkYXRhQXBpIiwiYWR1bHRzIiwic3VibWl0IiwiZm9ybSIsInVzZXIiLCJmb3JtSW5wdXQiLCJzZWFyY2hCdG4iLCJ1cmwiLCJnZXRFbGVtZW50MSIsImdldEVsZW1lbnQyIiwicHVibGljQXBpIiwiJG1vZGFsSW5zdGFuY2UiLCJvayIsImNsb3NlIiwiaXRlbSIsImNhbmNlbCIsImRpc21pc3MiLCJ1c2VybmFtZSIsImNvbnRhY3RMaXN0RGF0YVNlcnZpY2UiLCJnZXRDaGVja2VkIiwiZWFjaCIsImNyZWF0ZUxpc3RTZXJ2aWNlIiwiY29udGFjdE9iamVjdCIsImVtYWlsX2FkZHJlc3NlcyIsImVtYWlsIiwiZmlyc3RfbmFtZSIsImZpcnN0TmFtZSIsImxhc3RfbmFtZSIsImxhc3ROYW1lIiwiY29tcGFueV9uYW1lIiwiY29tcGFueSIsImFkZHJlc3NlcyIsImNpdHkiLCJvcHRpb25zIiwicG9wTGlzdCIsInBvcHVsYXRlTGlzdCIsInNjb3BlIiwicHV0Il0sIm1hcHBpbmdzIjoiQUFDQSxHQUFBQSxLQUFBQyxRQUFBQyxPQUFBLE9BQUEsVUFBQSxZQUFBLGdCQUVBRixLQUFBRyxRQUFBLGlCQUNBLFNBQUFDLEdBQ0FBLEVBQ0FDLEtBQUEsS0FDQUMsWUFBQSxzQkFFQUQsS0FBQSxXQUNBQyxZQUFBLHdCQUVBRCxLQUFBLGFBQ0FDLFlBQUEseUJBRUFELEtBQUEsZ0JBQ0FDLFlBQUEsNkJBRUFELEtBQUEsY0FDQUMsWUFBQSwyQkFFQUQsS0FBQSxZQUNBQyxZQUFBLHlCQUVBRCxLQUFBLGdCQUNBQyxZQUFBLDZCQUVBQyxXQUNBQyxXQUFBLGVBUUFSLElBQUFTLFFBQUEsa0JBQUEsV0FDQSxHQUNBQyxNQUNBQyxFQUFBLENBR0EsUUFDQUQsZUFBQUEsRUFDQUMsUUFBQUEsS0F3REFYLElBQUFZLFdBQUEsNEJBQUEsa0JBQUEsYUFBQSxTQUFBLFFBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUQsRUFBQUUsWUFFQUYsRUFBQUcsS0FBQSxXQUNBSixFQUFBSyxLQUFBLEdBSUFKLEVBQUFaLFFBQ0FpQixTQUFBQyxjQUFBLDhDQUVBQyxlQUFBLHFCQU1BUCxFQUFBUSxTQUFBLFdBQ0FSLEVBQUFTLFNBQUFDLEtBQUFWLEVBQUFFLFNBQUFTLE1BQUFDLE9BQUEsVUFDQUMsUUFBQUMsSUFBQSx1QkFDQUQsUUFBQUMsSUFBQWQs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cUJBRUFFLFdBQUEsT0FDQUUsVUFBQSxTQUNBRSxhQUFBLFlBQ0FFLFlBQ0FDLEtBQUEsY0E0Q0EsT0FqQ0E1SSxHQUFBOEksUUFBQSxXQUNBZixJQUNBOUgsRUFBQWMsS0FBQSwwQkFBQUksRUFBQXZCLEdBQUFvQyxRQUFBLFNBQUFMLEVBQUFmLEVBQUFQLEVBQUFqQixHQUNBeUIsUUFBQUMsSUFBQWEsS0FFQWQsUUFBQUMsSUFBQStILFdBNkJBbEosZUFBQUEsRUFDQUMsUUFBQUEsTUNwRkFYLElBQUFZLFdBQUEscUJBQUEsa0JBQUEsU0FBQSxRQUFBLFNBQUFDLEVBQUFFLEVBQUFDLEdBSUFELEVBQUFFLFlBRUFGLEVBQUErSSxhQUFBLFdBQ0FsSSxRQUFBQyxJQUFBLGdCQUFBa0ksTUFBQTlJLFNBQUFTLE9BRUFiLEVBQUFnSixVQVlBOUksRUFBQUUsZ0JDbkJBakIsSUFBQVksV0FBQSxnQkFBQSxTQUFBLFFBQUEsWUFBQSxTQUFBRyxFQUFBQyxFQUFBbUMsR0FDQXBDLEVBQUE4RyxPQUFBLFdBQ0FqRyxRQUFBQyxJQUFBLGdCQUNBRCxRQUFBQyxJQUFBLDZCQUFBZCxFQUFBK0csTUFDQTlHLEVBQUFjLEtBQUEsWUFBQWYsRUFBQStHLE1BQ0EvRixLQUFBLFNBQUF5QixHQUNBNUIsUUFBQUMsSUFBQTJCLEdBQ0FMLEVBQUFNLEtBQUEsZ0JDVEF6RCxJQUFBWSxXQUFBLGFBQUEsU0FBQSxRQUFBLFlBQUEsU0FBQUcsRUFBQUMsRUFBQW1DLEdBQ0FwQyxFQUFBOEcsT0FBQSxXQUNBakcsUUFBQUMsSUFBQSxpQkFBQWQsRUFBQStHLE1BQ0E5RyxFQUFBZ0osSUFBQSxTQUFBakosRUFBQStHLE1BQ0EvRixLQUFBLFNBQUF5QixHQUNBNUIsUUFBQUMsSUFBQTJCLEdBQ0FMLEVBQUFNLEtBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdsZW8nLCBbJ25nUm91dGUnLCAnbmdBbmltYXRlJywgJ3VpLmJvb3RzdHJhcCddKTtcblxuYXBwLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJyxcbiAgICBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlci5cbiAgICAgICAgICAgIHdoZW4oJy8nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzdGF0aWMvbG9naW4uaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvc2VhcmNoLmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9yZWdpc3RlcicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXRpYy9yZWdpc3Rlci5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvY29udGFjdExpc3QnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2NvbnRhY3RMaXN0Lmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9hZGRmYW1pbHknLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2FkZGZhbWlseS5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvYWRkY29ycCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvYWRkY29ycC5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvY29udGFjdGxpc3QnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2NvbnRhY3RsaXN0Lmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIG90aGVyd2lzZSh7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJy9zZWFyY2gnXG4gICAgICAgICAgICB9KTtcbiAgICB9XSk7XG5cblxuXG5cblxuYXBwLnNlcnZpY2UoJ2NvbnRhY3RMaXN0RGF0YScsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGluY2x1ZGVkRW1haWxzID0gW107XG4gICAgdmFyIG5ld0NvbnRhY3RMaXN0ID0gW107XG4gICAgdmFyIGxpc3ROdW0gPSAwO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXdDb250YWN0TGlzdDogbmV3Q29udGFjdExpc3QsXG4gICAgICAgIGxpc3ROdW06IGxpc3ROdW1cbiAgICB9O1xufSk7XG5cblxuXG5cblxuXG4vL2R1bW15IGRhdGEgZWRpdCBmYW1pbHkgYWRkaXRpb25hbCBtZW1iZXJzXG4vL2FwcC5jb250cm9sbGVyKCdhZGRpdGlvbmFsQ3RybCcsIFsgJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuLy8gICAgJHNjb3BlLmFkZGl0aW9uYWwgPSB7XG4vLyAgICB9O1xuLy8gICAgJHNjb3BlLnNldCA9IGZ1bmN0aW9uKGVkaXRfaW5mbykge1xuLy8gICAgICAgIHRoaXMuY29udGFjdC5mTmFtZSA9IGVkaXRfaW5mbyxcbi8vICAgICAgICB0aGlzLmNvbnRhY3QubE5hbWUgPSBlZGl0X2luZm8sXG4vLyAgICAgICAgdGhpcy5jb250YWN0LmJEYXkgPSBlZGl0X2luZm8sXG4vLyAgICAgICAgdGhpcy5jb250YWN0Lm5vdGVzID0gZWRpdF9pbmZvXG4vLyAgICB9O1xuLy99XSk7XG5cbi8vZHVtbXkgZGF0YSBmb3IgZmFtaWx5IGNvbnRhY3QgaW5mb3JtYXRpb25cbi8vYXBwLmNvbnRyb2xsZXIoJ2NvbnRhY3RDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAvLyRzY29wZS5jb250YWN0ID0ge1xuICAgIC8vfTtcbiAgICAvLyRzY29wZS5zZXQgPSBmdW5jdGlvbihlZGl0X2luZm8pIHtcbiAgICAvLyAgICB0aGlzLmNvbnRhY3QuZk5hbWUgPSBlZGl0X2luZm8sXG4gICAgLy8gICAgaXRfaW5mb1xuICAgIC8vfTtcblxuLy99XSk7XG5cbi8vZHVtbXkgZGF0YSBmb3IgZmFtaWx5IGVtZXJnZW5jeSBjb250YWN0IGluZm9ybWF0aW9uXG4vL2FwcC5jb250cm9sbGVyKCdlbWVyZ2VuY3lDdHJsJyxbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG4gICAgLy8kc2NvcGUuZW1lcmdlbmN5ID0ge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICB9O1xuICAgIC8vJHNjb3BlLnNldCA9IGZ1bmN0aW9uKGVkaXRfaW5mbykge1xuICAgIC8vICAgIHRoaXMuZW1lcmdlbmN5LmZOYW1lID0gZWRpdF9pbmZvLFxuXG4gICAgLy99O1xuLy99XSk7XG5cblxuLy9hcHAuc2VydmljZSgnY29udGFjdExpc3REYXRhJywgZnVuY3Rpb24oKXtcbi8vICAgIHZhciBpbmNsdWRlZEVtYWlscyA9IFtdO1xuLy8gICAgdmFyIG5ld0NvbnRhY3RMaXN0ID0gW107XG4vLyAgICB2YXIgbGlzdE51bSA9IDA7XG4vL1xuLy9cbi8vICAgIHJldHVybiB7XG4vLyAgICAgICAgbmV3Q29udGFjdExpc3Q6IG5ld0NvbnRhY3RMaXN0LFxuLy8gICAgICAgIGxpc3ROdW06IGxpc3ROdW1cbi8vICAgIH07XG4vL30pO1xuXG5cbmFwcC5jb250cm9sbGVyKCduZXdDb250YWN0TGlzdENvbnRyb2xsZXInLFsnY29udGFjdExpc3REYXRhJywnJHJvb3RTY29wZScsJyRzY29wZScsJyRodHRwJywgZnVuY3Rpb24oY29udGFjdExpc3REYXRhLCRyb290U2NvcGUsICRzY29wZSwgJGh0dHApIHtcbiAgICAvL2RhdGEgdG8gY3JlYXRlIGEgbmV3IGNvbnRhY3QgbGlzdFxuICAgICRzY29wZS5saXN0bmFtZSA9IHt9O1xuXG4gICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkcm9vdFNjb3BlLmFkZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8vaGVhZGVyc1xuICAgICRzY29wZS5jb25maWcgPSB7XG4gICAgICAgIGhlYWRlcnM6IHsnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgZWY1ZDVkZjItYTgwOC00YzcwLWE1ZDktZWI3MTE2M2NiZWI5JyxcblxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9mdW5jdGlvbiB0byBjcmVhdHMgdGhlIG5ldyBjb250YWN0IGxpc3RcbiAgICAkc2NvcGUucG9zdExpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5saXN0UmVxID0ge1wibmFtZVwiOiAkc2NvcGUubGlzdG5hbWUuaW5wdXQsIFwic3RhdHVzXCI6IFwiQUNUSVZFXCJ9O1xuICAgICAgICBjb25zb2xlLmxvZygncG9zdGluZyBsaXN0IC4gLiAuICcpO1xuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUubGlzdFJlcSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5jb25maWcpO1xuICAgICAgICAkaHR0cC5wb3N0KCdodHRwczovL2FwaS5jb25zdGFudGNvbnRhY3QuY29tL3YyL2xpc3RzP2FwaV9rZXk9eWc1cDJxZjU0OXFhY21icWF5azVybjIzJywgJHNjb3BlLmxpc3RSZXEsICRzY29wZS5jb25maWcpLlxuICAgICAgICAgICAgdGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXNcIiArIHJlcyk7XG5cbiAgICAgICAgICAgICAgICByZXMuaWQgPSBjb250YWN0TGlzdERhdGEubGlzdE51bTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAvLyAgICAvLyBsb2cgZXJyb3JcbiAgICAgICAgICAgIC8vfSk7XG5cblxuICAgIH07XG5cbn1dKTtcblxuXG5hcHAuY29udHJvbGxlcignY29udGFjdExpc3RDb250cm9sbGVyJyxbJ2NvbnRhY3RMaXN0RGF0YScsJyRzY29wZScsJyRodHRwJywgZnVuY3Rpb24oY29udGFjdExpc3REYXRhLCAkc2NvcGUsICRodHRwKSB7XG5cblxuICAgIHZhciBpbXBvcnREYXRhQXJyYXkgPSBbXTtcbiAgICB2YXIgbGlzdEVuZCA9IEpTT04uc3RyaW5naWZ5KFwibGlzdDogW1wiKyBjb250YWN0TGlzdERhdGEubGlzdE51bSArIFwiXSxjb2x1bW5fbmFtZXM6W1xcXCJFTUFJTFxcXCIsXFxcIkZJUlNUIE5BTUVcXFwiLCBcXFwiTEFTVCBOQU1FXFxcIiwgXFxcIkNJVFlcXFwiLFxcXCJDT01QQU5ZIE5BTUVcXFwiXVwiKTtcblxuICAgIC8vcHVzaCB0aGUgaW5jbHVkZWQvY2hlY2tlZCBpbmZvIHRvIHRoZSBlbWFpbCBsaXN0XG4gICAgJHNjb3BlLmNvbnRhY3RDaGVja2VkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICRzY29wZS5jaGVja2VkLnB1c2goW2lkXSk7XG4gICAgfTtcblxuXG4gICAgLy9Qb3N0IERhdGEgdG8gQ29uc3RhbnQgQ29udGFjdFxuICAgICRzY29wZS5zZW5kUG9zdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICQucGFyYW0oe1xuICAgICAgICAgICAganNvbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIFwiaW1wb3J0RGF0YVwiOiBpbXBvcnREYXRhQXJyYXkgKyBcIiwgXCIgKyBsaXN0RW5kXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIHZhciBjb25maWcgPSB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGVmNWQ1ZGYyLWE4MDgtNGM3MC1hNWQ5LWViNzExNjNjYmViOSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkaHR0cC5wb3N0KCdodHRwczovL2FwaS5jb25zdGFudGNvbnRhY3QuY29tL3YyL2FjdGl2aXRpZXMvYWRkY29udGFjdHM/YXBpX2tleT11OHc1OXp0eGUzMjk0YWRjemZ2bjdrOWUnLCBkYXRhLCBjb25maWcpLlxuICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXMuaWQgPSBjb250YWN0TGlzdERhdGEubGlzdE51bTtcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgLy8gbG9nIGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgfTtcbn1dKTtcblxuXG5cbiIsImFwcC5mYWN0b3J5KCdhdXRoSW50ZXJjZXB0b3InLCBbJyRxJywgJyRsb2NhdGlvbicsICdhdXRoU2VydmljZScsIGZ1bmN0aW9uICgkcSwgJGxvY2F0aW9uLCBhdXRoU2VydmljZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG4gICAgICAgICAgICBpZiAoYXV0aFNlcnZpY2UuaXNBdXRoZWQoKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZFxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSB8fCAkcS53aGVuKHJlc3BvbnNlKTtcbiAgICAgICAgfSwgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZFxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9O1xufV0pIiwiYXBwLnNlcnZpY2UoJ2F1dGhTZXJ2aWNlJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcblxuICAgIHRoaXMucGFyc2VKd3QgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB2YXIgYmFzZTY0VXJsID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgIHZhciBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgnLScsICcrJykucmVwbGFjZSgnXycsICcvJyk7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XG4gICAgICAgIH0gZWxzZSByZXR1cm4ge307XG4gICAgfTtcblxuICAgIHRoaXMuc2F2ZVRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuID0gdG9rZW47XG4gICAgICAgIC8vY29uc29sZS5sb2coJ1NhdmVkIHRva2VuOicsJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuand0VG9rZW4pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuand0VG9rZW47XG4gICAgfTtcblxuICAgIHRoaXMuaXNBdXRoZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuZ2V0VG9rZW4oKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXJzZUp3dCh0b2tlbik7XG4gICAgICAgICAgICB2YXIgbm90RXhwaXJlZCA9IE1hdGgucm91bmQobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSA8PSBwYXJhbXMuZXhwO1xuICAgICAgICAgICAgaWYgKCFub3RFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub3RFeHBpcmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGUgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuand0VG9rZW47XG4gICAgfTtcblxuICAgIC8vIGV4cG9zZSB1c2VyIGFzIGFuIG9iamVjdFxuICAgIHRoaXMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VKd3QodGhpcy5nZXRUb2tlbigpKVxuICAgIH07XG59XSkiLCIvL2VkaXQgY29ycG9yYXRpb24gbW9kYWwgdGVtcGxhdGVcbmFwcC5jb250cm9sbGVyKCdlZGl0Q29ycEN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAnJGxvZycsICdSZXN1bHRTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCAkbG9nLCBSZXN1bHRTZXJ2aWNlKSB7XG4gICAgLy9zZW5kcyB0aGUgY29tcGFuaWVzIGFmdGVyIHRoZSByZXN1bHRzIGhhdmUgYmVlbiBvcmdhbml6ZWRcbiAgICAkc2NvcGUuY29tcGFuaWVzID0gUmVzdWx0U2VydmljZS5jb21wYW5pZXM7XG5cbiAgICAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgJHNjb3BlLm9wZW5Db3JwID0gZnVuY3Rpb24gKHNpemUpIHtcblxuICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2VkaXRjb3JwLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ01vZGFsSW5zdGFuY2VDdHJsJyxcbiAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5pdGVtcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBzZWxlY3RlZEl0ZW07XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcbiAgICAgICAgICAgIH0pO1xuXG5cblxuICAgICAgICAkc2NvcGUudG9nZ2xlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkID0gISRzY29wZS5hbmltYXRpb25zRW5hYmxlZDtcbiAgICAgICAgfTtcbiAgICB9O1xufV0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ2NyZWF0ZUxpc3RTZWFyY2gnLFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnQ29udGFjdExpc3REYXRhU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgQ29udGFjdExpc3REYXRhU2VydmljZSl7XG4gICAgJHJvb3RTY29wZS5hZGQgPSBmYWxzZTtcbiAgICAkc2NvcGUubGlzdEZvcm09e307XG5cbiAgICAkc2NvcGUuc2VhcmNoTGlzdEJ0biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9wYXNzZXMgaW4gc2VhcmNoIHRleHQgdG8gc2VydmljZVxuICAgICAgICBDb250YWN0TGlzdERhdGFTZXJ2aWNlLm1ha2VEYXRhQ2FsbCgkc2NvcGUubGlzdEZvcm0uZGF0YSk7XG4gICAgICAgIC8vZW1wdHlzIHRoZSBzZWFyY2ggYm94XG4gICAgICAgICRzY29wZS5saXN0Rm9ybT17fTtcbiAgICB9O1xufV0pOyIsImFwcC5mYWN0b3J5KCdDb250YWN0TGlzdERhdGFTZXJ2aWNlJyxbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIGFsbENvbXBhbmllcyA9IFtdO1xuICAgIHZhciBhbGxLaWRzID0gW107XG4gICAgdmFyIGFsbEFkdWx0cyA9IFtdO1xuXG4gICAgdmFyIG1ha2VEYXRhQ2FsbCA9IGZ1bmN0aW9uIChwYXNzZWREYXRhKSB7XG4gICAgICAgIHJldHVybiBodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBVUkw6ICcuLi9jcmVhdGVNYWlsTGlzdCcsXG4gICAgICAgICAgICBwYXJhbXM6IHtzZWFyY2g6IHBhc3NlZERhdGF9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIGdldENvbXBhbmllcyhyZXN1bHRzKTtcbiAgICAgICAgICAgIGdldEFkdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgICAgIGdldEtpZHMocmVzdWx0cyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIHZhciBnZXRBZHVsdHMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQzID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgICAgICBhbGxBZHVsdHMuc3BsaWNlKDAsIGFsbEFkdWx0cy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2FkdWx0JylcbiAgICAgICAgICAgICAgICAgICAgYWxsQWR1bHRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBnZXRFbGVtZW50MyhhcnJheSk7XG4gICAgICAgIHJldHVybiBhbGxBZHVsdHNcbiAgICB9O1xuXG4gICAgdmFyIGdldENvbXBhbmllcyA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB2YXIgZ2V0RWxlbWVudDMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgIGFsbENvbXBhbmllcy5zcGxpY2UoMCwgYWxsQ29tcGFuaWVzLmxlbmd0aCk7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY29tcGFueScpXG4gICAgICAgICAgICAgICAgICAgIGFsbENvbXBhbmllcy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0RWxlbWVudDMoYXJyYXkpO1xuICAgICAgICByZXR1cm4gYWxsQ29tcGFuaWVzXG4gICAgfTtcblxuICAgIHZhciBnZXRLaWRzID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHZhciBnZXRFbGVtZW50MyA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICAgICAgYWxsS2lkcy5zcGxpY2UoMCwgYWxsS2lkcy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2NoaWxkJylcbiAgICAgICAgICAgICAgICAgICAga2lkcy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0RWxlbWVudDMoYXJyYXkpO1xuICAgICAgICByZXR1cm4gYWxsS2lkc1xuICAgIH07XG5cbiAgICB2YXIgZGF0YUFwaSA9IHtcbiAgICAgICAgbWFrZURhdGFDYWxsOiBtYWtlRGF0YUNhbGwsXG4gICAgICAgIGdldENvbXBhbmllczogZ2V0Q29tcGFuaWVzLFxuICAgICAgICBnZXRLaWRzOiBnZXRLaWRzLFxuICAgICAgICBnZXRBZHVsdHM6IGdldEFkdWx0cyxcbiAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgYWxsS2lkczogYWxsS2lkcyxcbiAgICAgICAgYWxsQWR1bHRzOiBhbGxBZHVsdHMsXG4gICAgICAgIGFsbENvbXBhbmllczogYWxsQ29tcGFuaWVzXG4gICAgfTtcblxuICAgIHJldHVybiBkYXRhQXBpO1xuXG59XSk7XG4iLCIvL2VkaXQgZmFtaWx5IG1vZGFsIHRlbXBsYXRlXG5hcHAuY29udHJvbGxlcignZWRpdEZhbWlseUN0cmwnLFsnJHNjb3BlJywgJyR1aWJNb2RhbCcsICckbG9nJywnUmVzdWx0U2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgJGxvZywgUmVzdWx0U2VydmljZSkge1xuICAgIC8vc2VuZHMgdGhlIGFkdWx0cyBhZnRlciB0aGUgcmVzdWx0cyBoYXZlIGJlZW4gb3JnYW5pemVkXG4gICAgJHNjb3BlLmFkdWx0cyA9IFJlc3VsdFNlcnZpY2UuYWR1bHRzO1xuICAgIC8vc2VuZHMgdGhlIGtpZHMgYWZ0ZXIgdGhlIHJlc3VsdHMgaGF2ZSBiZWVuIG9yZ2FuaXplZFxuICAgICRzY29wZS5raWRzID0gUmVzdWx0U2VydmljZS5raWRzO1xuXG5cbiAgICAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgIGFuaW1hdGlvbjogJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2VkaXRmYW1pbHkuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTW9kYWxJbnN0YW5jZUN0cmwnLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLml0ZW1zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZUFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9ICEkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQ7XG4gICAgICAgIH07XG5cbiAgICB9O1xufV0pOyIsIi8vY29udHJvbGxlcnMgZm9yIGxvZ2luXG5hcHAuY29udHJvbGxlcignbG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnYXV0aFNlcnZpY2UnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCBhdXRoU2VydmljZSwgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKXtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJGh0dHAucG9zdCgnL2xvZ2luJywgJHNjb3BlLmZvcm0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBhdXRoU2VydmljZS5zYXZlVG9rZW4ocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL3NlYXJjaFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCJcbi8vVGhpcyBzaG91bGQgZ2V0IHRoZSBzZWFyY2ggaXRlbVxuYXBwLmNvbnRyb2xsZXIoJ3NlYXJjaEZ1bmN0aW9uJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnUmVzdWx0U2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCBSZXN1bHRTZXJ2aWNlKSB7XG4gICAgJHNjb3BlLmZvcm1JbnB1dD17fTtcblxuICAgICRzY29wZS5zZWFyY2hCdG4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vcGFzc2VzIGluIHNlYXJjaCB0ZXh0IHRvIHNlcnZpY2VcbiAgICAgICBSZXN1bHRTZXJ2aWNlLm1ha2VEYXRhQ2FsbCgkc2NvcGUuZm9ybUlucHV0LmRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyB0aGUgaW5wdXQgdGV4dCcsICRzY29wZS5mb3JtSW5wdXQpO1xuICAgICAgICAvL2VtcHR5cyB0aGUgc2VhcmNoIGJveFxuICAgICAgICAkc2NvcGUuZm9ybUlucHV0PXt9O1xuICAgIH07XG5cbn1dKTtcbiIsIi8vVGhpcyBzZXJ2aWNlIHNob3VsZCBwYXNzIGRhdGEgYmV0d2VlbiBjb250cm9sbGVyc1xuYXBwLmZhY3RvcnkoJ1Jlc3VsdFNlcnZpY2UnLCBbJyRodHRwJyxmdW5jdGlvbigkaHR0cCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIGFkdWx0cyA9IFtdO1xuICAgIHZhciBjb21wYW5pZXMgPSBbXTtcbiAgICB2YXIga2lkcyA9IFtdO1xuXG4gICAgdmFyIG1ha2VEYXRhQ2FsbCA9IGZ1bmN0aW9uKHBhc3NlZERhdGEpIHtcbiAgICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6ICcuLi9zZWFyY2gnLFxuICAgICAgICAgICAgcGFyYW1zOntzZWFyY2g6cGFzc2VkRGF0YX1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgZ2V0Q29tcGFuaWVzKHJlc3VsdHMpO1xuICAgICAgICAgICAgZ2V0S2lkcyhyZXN1bHRzKTtcbiAgICAgICAgICAgIGdldEFkdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgZ2V0Q29tcGFuaWVzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQxID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIGNvbXBhbmllcy5zcGxpY2UoMCxjb21wYW5pZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY29tcGFueScpXG4gICAgICAgICAgICAgICAgY29tcGFuaWVzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIGdldEVsZW1lbnQxKGFycmF5KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgZ2V0RWxlbWVudDEnLGNvbXBhbmllcyk7XG4gICAgICAgIHJldHVybiBjb21wYW5pZXNcbiAgICB9O1xuXG4gICAgdmFyIGdldEFkdWx0cyA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIHZhciBnZXRFbGVtZW50MiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgICAgICBhZHVsdHMuc3BsaWNlKDAsYWR1bHRzLmxlbmd0aCk7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2FkdWx0JylcbiAgICAgICAgICAgICAgICAgICAgYWR1bHRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBnZXRFbGVtZW50MihhcnJheSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIGluIGdldEVsZW1lbnQyJywgYWR1bHRzKTtcbiAgICAgICAgcmV0dXJuIGFkdWx0c1xuICAgIH07XG5cbiAgICB2YXIgZ2V0S2lkcyA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIHZhciBnZXRFbGVtZW50MyA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgICAgICBraWRzLnNwbGljZSgwLGtpZHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY2hpbGQnKVxuICAgICAgICAgICAgICAgICAgICBraWRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBnZXRFbGVtZW50MyhhcnJheSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIGdldEVsZW1lbnRzMycsIGtpZHMpO1xuICAgICAgICByZXR1cm4ga2lkc1xuICAgIH07XG5cbiAgICAvL3B1YmxpY1xuICAgIHZhciBwdWJsaWNBcGkgPSB7XG4gICAgICAgIGdldEtpZHM6IGdldEtpZHMsXG4gICAgICAgIGdldEFkdWx0czogZ2V0QWR1bHRzLFxuICAgICAgICBnZXRDb21wYW5pZXM6IGdldENvbXBhbmllcyxcbiAgICAgICAgbWFrZURhdGFDYWxsOiBtYWtlRGF0YUNhbGwsXG4gICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICAgIGNvbXBhbmllczogY29tcGFuaWVzLFxuICAgICAgICBhZHVsdHM6IGFkdWx0cyxcbiAgICAgICAga2lkczoga2lkc1xuICAgIH07XG4gICAgcmV0dXJuIHB1YmxpY0FwaTtcbn1dKTsiLCIvLyBQbGVhc2Ugbm90ZSB0aGF0ICRtb2RhbEluc3RhbmNlIHJlcHJlc2VudHMgYSBtb2RhbCB3aW5kb3cgKGluc3RhbmNlKSBkZXBlbmRlbmN5LlxuLy8gSXQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSAkdWliTW9kYWwgc2VydmljZSB1c2VkIGFib3ZlLlxuXG4vL25lZWRlZCBmb3IgbW9kYWw/PyBwcmV0dHkgc3VyZVxuYXBwLmNvbnRyb2xsZXIoJ01vZGFsSW5zdGFuY2VDdHJsJyxbJyRzY29wZScsJyRtb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJG1vZGFsSW5zdGFuY2UpIHtcblxuICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoJHNjb3BlLnNlbGVjdGVkLml0ZW0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICB9O1xufV0pOyIsImFwcC5jb250cm9sbGVyKCduYXZDdHJsJywgWydhdXRoU2VydmljZScsJyRzY29wZScsJyRyb290U2NvcGUnLCckbG9jYXRpb24nLCBmdW5jdGlvbihhdXRoU2VydmljZSwgJHNjb3BlLCAkcm9vdFNjb3BlLCAkbG9jYXRpb24pe1xuICAgICRyb290U2NvcGUudXNlciA9IGF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcblxuICAgIGlmKCRyb290U2NvcGUudXNlciAmJiAkcm9vdFNjb3BlLnVzZXIudXNlcm5hbWUpe1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2hvbWUnKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XG4gICAgICAgICRyb290U2NvcGUudXNlciA9IGF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvXCIpO1xuICAgIH1cbn1dKTtcbiIsIi8vc2VydmljZSBmb3IgYWpheCBjYWxscyB0byBjb25zdGFudCBjb250YWN0XG5cbmFwcC5zZXJ2aWNlKCdjb250YWN0TGlzdERhdGEnLCBbJ2NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCckc2NvcGUnLCckaHR0cCcsIGZ1bmN0aW9uKGNvbnRhY3RMaXN0RGF0YVNlcnZpY2UsICRzY29wZSwgJGh0dHApIHtcblxuICAgIHZhciBuZXdDb250YWN0TGlzdCA9IFtdO1xuICAgIHZhciBsaXN0TnVtID0gXCIxNDk5NTIzNjEwXCI7XG5cblxuICAgICRzY29wZS5wb3N0TGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGh0dHAucG9zdCgnL25ld0NvbnRhY3RMaXN0Jykuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIGxpc3ROdW0gPSBkYXRhLmlkXG5cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpXG4gICAgfTtcblxuXG4gICAgdmFyIGltcG9ydERhdGFBcnJheSA9W1xuICAgICAgICB7XG4gICAgICAgICAgICBcImVtYWlsX2FkZHJlc3Nlc1wiOiBbXG4gICAgICAgICAgICAgICAgXCJ1c2VyMUBleGFtcGxlLmNvbVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJmaXJzdF9uYW1lXCI6IFwiSm9oblwiLFxuICAgICAgICAgICAgXCJsYXN0X25hbWVcIjogXCJTbWl0aFwiLFxuICAgICAgICAgICAgXCJjb21wYW55X25hbWVcIjogXCJDb21wYW55IFhcIixcbiAgICAgICAgICAgIFwiYWRkcmVzc2VzXCI6IFt7XG4gICAgICAgICAgICAgICAgY2l0eTogXCJhbnl0b3duXCJcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiZW1haWxfYWRkcmVzc2VzXCI6IFtcbiAgICAgICAgICAgICAgICBcInVzZXIyQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcImZpcnN0X25hbWVcIjogXCJKYW5lXCIsXG4gICAgICAgICAgICBcImxhc3RfbmFtZVwiOiBcIlNtaXRoeVwiLFxuICAgICAgICAgICAgXCJjb21wYW55X25hbWVcIjogXCJDb21wYW55IFlcIixcbiAgICAgICAgICAgIFwiYWRkcmVzc2VzXCI6IFt7XG4gICAgICAgICAgICAgICAgY2l0eTogXCJzb21ldG93blwiXG4gICAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgXTtcblxuICAgIC8vdmFyIGNvbnRhY3RMaXN0T2JqZWN0ID0oe1xuICAgIC8vICAgIFwiSW1wb3J0IERhdGFcIiA6IGltcG9ydERhdGFBcnJheSxcbiAgICAvLyAgICBcImxpc3RcIjogW2xpc3ROdW1dLFxuICAgIC8vICAgIFwiY29sdW1uX25hbWVzXCI6W1wiRU1BSUxcIixcIkZJUlNUIE5BTUVcIiwgXCJMQVNUIE5BTUVcIiwgXCJDSVRZXCIsXCJDT01QQU5ZIE5BTUVcIl19KTtcblxuXG4gICAgJHNjb3BlLnBvcExpc3QgPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgZ2V0Q2hlY2tlZCgpO1xuICAgICAgICAkaHR0cC5wb3N0KCcvcG9wdWxhdGVDb250YWN0TGlzdC5qcycsIGltcG9ydERhdGFBcnJheSxsaXN0TnVtKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2cob3B0aW9ucyk7XG5cbiAgICB9O1xuICAgIC8vZ2V0IGFsbCB0aGUgY2hlY2tlZCBlbGVtZW50cyBhbmQgc3R1ZmYgdGhlbSBpbiBhbiBhcnJheVxuICAgIGZ1bmN0aW9uIGdldENoZWNrZWQoKXtcbiAgICAgICAgJChcIjpjaGVja2VkLnR5cGUtZWxlbWVudFwiKS5lYWNoKFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkID0gY3JlYXRlTGlzdFNlcnZpY2UucmVzdWx0cy5pZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdE9iamVjdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbWFpbF9hZGRyZXNzZXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZpcnN0X25hbWVcIjogJCh0aGlzKS5maXJzdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsYXN0X25hbWVcIjogJCh0aGlzKS5sYXN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbXBhbnlfbmFtZVwiOiAkKHRoaXMpLmNvbXBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRyZXNzZXNcIjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogJCh0aGlzKS5jaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydERhdGFBcnJheS5wdXNoKGNvbnRhY3RPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH07XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIG5ld0NvbnRhY3RMaXN0OiBuZXdDb250YWN0TGlzdCxcbiAgICAgICAgbGlzdE51bTogbGlzdE51bVxuICAgIH07XG59XSk7IiwiYXBwLmNvbnRyb2xsZXIoJ3BvcExpc3RDb250cm9sbGVyJyxbJ2NvbnRhY3RMaXN0RGF0YScsJyRzY29wZScsJyRodHRwJywgZnVuY3Rpb24oY29udGFjdExpc3REYXRhLCAkc2NvcGUsICRodHRwKSB7XG4gICAgLy9kYXRhIHRvIGNyZWF0ZSBhIG5ldyBjb250YWN0IGxpc3RcblxuXG4gICAgJHNjb3BlLmxpc3RuYW1lID0ge307XG5cbiAgICAkc2NvcGUucG9wdWxhdGVMaXN0ICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGUgbGlzdDogXCIgKyBzY29wZS5saXN0bmFtZS5pbnB1dCk7XG4gICAgICAgIC8vcGFzc2VzIGluIHNlYXJjaCB0ZXh0IHRvIHNlcnZpY2VcbiAgICAgICAgY29udGFjdExpc3REYXRhLnBvcExpc3QoKTtcbiAgICAgICAgLy92YXIgbGlzdEVuZCA9IHtcbiAgICAgICAgLy8gICAgXCJsaXN0c1wiOiBbbGlzdE51bV0sXG4gICAgICAgIC8vICAgIFwiY29sdW1uX25hbWVzXCI6IFtcbiAgICAgICAgLy8gICAgXCJFTUFJTFwiLFxuICAgICAgICAvLyAgICBcIkZJUlNUIE5BTUVcIixcbiAgICAgICAgLy8gICAgXCJMQVNUIE5BTUVcIixcbiAgICAgICAgLy8gICAgXCJDSVRZXCIsXG4gICAgICAgIC8vICAgIFwiQ09NUEFOWSBOQU1FXCJcbiAgICAgICAgLy9dfVxuXG5cbiAgICAgICAgJHNjb3BlLmxpc3RuYW1lPXt9O1xuICAgIH07XG59XSk7XG5cbiIsIlxuLy9yZWdpc3RlciBjb250cm9sbGVyXG5hcHAuY29udHJvbGxlcigncmVnaXN0ZXJDdHJsJywgWyAnJHNjb3BlJywgJyRodHRwJywgJyRsb2NhdGlvbicsICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uKSB7XG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWdpc3RlckN0cmxcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWdpc3RlckNvbnRyb2xsZXIgc3VibWl0OicsICRzY29wZS5mb3JtKTtcbiAgICAgICAgJGh0dHAucG9zdCgnL3JlZ2lzdGVyJywgJHNjb3BlLmZvcm0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvaW5kZXhcIilcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1dKTtcbiIsImFwcC5jb250cm9sbGVyKCdyZXNldEN0cmwnLCBbICckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkbG9jYXRpb24pIHtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZWRpdCBwYXNzd29yZDonLCAkc2NvcGUuZm9ybSk7XG4gICAgICAgICRodHRwLnB1dCgnL2FkbWluJywgJHNjb3BlLmZvcm0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvaW5kZXhcIilcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
=======
var app=angular.module("leo",["ngRoute","ngAnimate","ui.bootstrap"]);app.config(["$routeProvider",function(t){t.when("/",{templateUrl:"static/login.html"}).when("/search",{templateUrl:"private/search.html"}).when("/register",{templateUrl:"static/register.html"}).when("/contactList",{templateUrl:"private/contactList.html"}).when("/addfamily",{templateUrl:"private/addfamily.html"}).when("/addcorp",{templateUrl:"private/addcorp.html"}).when("/contactlist",{templateUrl:"private/contactlist.html"}).otherwise({redirectTo:"/search"})}]),app.service("contactListData",function(){var t=[],e=0;return{newContactList:t,listNum:e}}),app.controller("newContactListController",["contactListData","$scope","$http",function(t,e,n){e.listname={},e.config={headers:{Authorization:"Bearer ef5d5df2-a808-4c70-a5d9-eb71163cbeb9","Content-Type":"application/json"}},e.postList=function(){e.listReq={name:e.listname.input,status:"ACTIVE"},console.log("posting list . . . "),console.log(e.listReq),console.log(e.config),n.post("https://api.constantcontact.com/v2/lists?api_key=yg5p2qf549qacmbqayk5rn23",e.listReq,e.config).then(function(e){console.log("res"+e),e.id=t.listNum})}}]),app.controller("contactListController",["contactListData","$scope","$http",function(t,e,n){var o=[],a=JSON.stringify("list: ["+t.listNum+'],column_names:["EMAIL","FIRST NAME", "LAST NAME", "CITY","COMPANY NAME"]');e.contactChecked=function(t){e.checked.push([t])},e.sendPost=function(){var e=$.param({json:JSON.stringify({importData:o+", "+a})}),i={headers:{Authorization:"Bearer ef5d5df2-a808-4c70-a5d9-eb71163cbeb9"}};n.post("https://api.constantcontact.com/v2/activities/addcontacts?api_key=u8w59ztxe3294adczfvn7k9e",e,i).success(function(e,n,o,a){res.id=t.listNum}).error(function(t,e,n,o){})}}]),app.factory("authInterceptor",["$q","$location","authService",function(t,e,n){return{request:function(t){return t.headers=t.headers||{},n.isAuthed()&&(t.headers.Authorization="Bearer "+n.getToken()),t},response:function(n){return 401===n.status&&e.path("/"),n||t.when(n)},responseError:function(n){return 401===n.status?e.path("/"):console.log(n.status),t.reject(n)}}}]),app.service("authService",["$window",function(t){this.parseJwt=function(e){if(e){var n=e.split(".")[1],o=n.replace("-","+").replace("_","/");return JSON.parse(t.atob(o))}return{}},this.saveToken=function(e){t.localStorage.jwtToken=e},this.getToken=function(){return t.localStorage.jwtToken},this.isAuthed=function(){var t=this.getToken();if(t){var e=this.parseJwt(t),n=Math.round((new Date).getTime()/1e3)<=e.exp;return n||this.logout(),n}return!1},this.logout=function(){delete t.localStorage.jwtToken},this.getUser=function(){return this.parseJwt(this.getToken())}}]),app.controller("editCorpCtrl",["$scope","$uibModal","$log","ResultService","$http",function(t,e,n,o,a){t.companies=o.companies,t.animationsEnabled=!0,t.openCorp=function(o,i){return console.log("corp call",i),a({method:"GET",url:"../corporation",params:{id:i}}).then(function(a){results=a.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"private/editcorp.html",controller:"ModalInstanceCtrl",size:o});i.result.then(function(e){t.selected=e},function(){n.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled}}]),app.controller("createListSearch",["$scope","ContactListDataService",function(t,e){t.listForm={},t.searchListBtn=function(){e.makeDataCall(t.listForm.data),t.listForm={}}}]),app.factory("ContactListDataService",["$http",function(t){var e=[],n=[],o=[],a=[],i=function(t){return http({method:"GET",URL:"../createMailList",params:{search:t}}).then(function(t){e=t.data,c(e),r(e),s(e)})},r=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"adult"==t.type&&a.push(t)})};return e(t),a},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"company"==t.type&&n.push(t)})};return e(t),n},s=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"child"==t.type&&kids.push(t)})};return e(t),o},l={makeDataCall:i,getCompanies:c,getKids:s,getAdults:r,results:e,allKids:o,allAdults:a,allCompanies:n};return l}]),app.controller("editFamilyCtrl",["$scope","$uibModal","$log","ResultService","$http",function(t,e,n,o,a){t.adults=o.adults,t.kids=o.kids,t.animationsEnabled=!0,t.open=function(o,i){return console.log("family call",i),a({method:"GET",url:"../family",params:{id:i}}).then(function(a){results=a.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"private/editfamily.html",controller:"ModalInstanceCtrl",size:o});i.result.then(function(e){t.selected=e},function(){n.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled}}]),app.controller("loginCtrl",["$scope","$http","authService","$location","$rootScope",function(t,e,n,o,a){t.submit=function(){e.post("/login",t.form).then(function(t){n.saveToken(t.data),a.user=n.getUser(),o.path("/search")})}}]),app.controller("searchFunction",["$scope","$http","ResultService",function(t,e,n){t.formInput={},t.searchBtn=function(){n.makeDataCall(t.formInput.data),console.log("this is the input text",t.formInput),t.formInput={}}}]),app.factory("ResultService",["$http",function(t){var e=[],n=[],o=[],a=[],i=function(n){return t({method:"GET",url:"../search",params:{search:n}}).then(function(t){e=t.data,r(e),s(e),c(e)})},r=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"company"==t.type&&o.push(t)})};return e(t),console.log("this is getElement1",o),o},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"adult"==t.type&&n.push(t)})};return e(t),console.log("this is in getElement2",n),n},s=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"child"==t.type&&a.push(t)})};return e(t),console.log("this is getElements3",a),a},l={getKids:s,getAdults:c,getCompanies:r,makeDataCall:i,results:e,companies:o,adults:n,kids:a};return l}]),app.controller("ModalInstanceCtrl",["$scope","$modalInstance",function(t,e){t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("navCtrl",["authService","$scope","$rootScope","$location",function(t,e,n,o){n.user=t.getUser(),n.user&&n.user.username&&o.path("/home"),e.logout=function(){t.logout(),n.user=t.getUser(),o.path("/")}}]),app.controller("registerCtrl",["$scope","$http","$location",function(t,e,n){t.submit=function(){console.log("registerCtrl"),console.log("registerController submit:",t.form),e.post("/register",t.form).then(function(t){console.log(t),n.path("/index")})}}]),app.controller("resetCtrl",["$scope","$http","$location",function(t,e,n){t.submit=function(){console.log("edit password:",t.form),e.put("/admin",t.form).then(function(t){console.log(t),n.path("/index")})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhJbnRlcmNlcHRvci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiY29ycENvbnRyb2xsZXIuanMiLCJjcmVhdGVMaXN0Q29udG9sbGVyLmpzIiwiY3JlYXRlTGlzdFNlcnZpY2UuanMiLCJmYW1pbHlDb250cm9sbGVyLmpzIiwibG9naW5Db250cm9sbGVyLmpzIiwibWFpblNlYXJjaENvbnRyb2xsZXIuanMiLCJtYWluU2VhcmNoU2VydmljZS5qcyIsIm1vZGFsSW5zdGFuY2VDb250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsInJlZ2lzdGVyQ29udHJvbGxlci5qcyIsInJlc2V0Q29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwic2VydmljZSIsIm5ld0NvbnRhY3RMaXN0IiwibGlzdE51bSIsImNvbnRyb2xsZXIiLCJjb250YWN0TGlzdERhdGEiLCIkc2NvcGUiLCIkaHR0cCIsImxpc3RuYW1lIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJDb250ZW50LVR5cGUiLCJwb3N0TGlzdCIsImxpc3RSZXEiLCJuYW1lIiwiaW5wdXQiLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwicG9zdCIsInRoZW4iLCJyZXMiLCJpZCIsImltcG9ydERhdGFBcnJheSIsImxpc3RFbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGFjdENoZWNrZWQiLCJjaGVja2VkIiwicHVzaCIsInNlbmRQb3N0IiwiZGF0YSIsIiQiLCJwYXJhbSIsImpzb24iLCJpbXBvcnREYXRhIiwic3VjY2VzcyIsImVycm9yIiwiZmFjdG9yeSIsIiRxIiwiJGxvY2F0aW9uIiwiYXV0aFNlcnZpY2UiLCJyZXF1ZXN0IiwiaXNBdXRoZWQiLCJnZXRUb2tlbiIsInJlc3BvbnNlIiwicGF0aCIsInJlc3BvbnNlRXJyb3IiLCJyZWplY3QiLCIkd2luZG93IiwidGhpcyIsInBhcnNlSnd0IiwidG9rZW4iLCJiYXNlNjRVcmwiLCJzcGxpdCIsImJhc2U2NCIsInJlcGxhY2UiLCJwYXJzZSIsImF0b2IiLCJzYXZlVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJqd3RUb2tlbiIsInBhcmFtcyIsIm5vdEV4cGlyZWQiLCJNYXRoIiwicm91bmQiLCJEYXRlIiwiZ2V0VGltZSIsImV4cCIsImxvZ291dCIsImdldFVzZXIiLCIkdWliTW9kYWwiLCIkbG9nIiwiUmVzdWx0U2VydmljZSIsImNvbXBhbmllcyIsImFuaW1hdGlvbnNFbmFibGVkIiwib3BlbkNvcnAiLCJzaXplIiwibWV0aG9kIiwidXJsIiwicmVzdWx0cyIsIm1vZGFsSW5zdGFuY2UiLCJvcGVuIiwiYW5pbWF0aW9uIiwicmVzdWx0Iiwic2VsZWN0ZWRJdGVtIiwic2VsZWN0ZWQiLCJpbmZvIiwidG9nZ2xlQW5pbWF0aW9uIiwiQ29udGFjdExpc3REYXRhU2VydmljZSIsImxpc3RGb3JtIiwic2VhcmNoTGlzdEJ0biIsIm1ha2VEYXRhQ2FsbCIsImFsbENvbXBhbmllcyIsImFsbEtpZHMiLCJhbGxBZHVsdHMiLCJwYXNzZWREYXRhIiwiaHR0cCIsIlVSTCIsInNlYXJjaCIsImdldENvbXBhbmllcyIsImdldEFkdWx0cyIsImdldEtpZHMiLCJhcnJheSIsImdldEVsZW1lbnQzIiwic3BsaWNlIiwibGVuZ3RoIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJ0eXBlIiwia2lkcyIsImRhdGFBcGkiLCJhZHVsdHMiLCIkcm9vdFNjb3BlIiwic3VibWl0IiwiZm9ybSIsInVzZXIiLCJmb3JtSW5wdXQiLCJzZWFyY2hCdG4iLCJnZXRFbGVtZW50MSIsImdldEVsZW1lbnQyIiwicHVibGljQXBpIiwiJG1vZGFsSW5zdGFuY2UiLCJvayIsImNsb3NlIiwiaXRlbSIsImNhbmNlbCIsImRpc21pc3MiLCJ1c2VybmFtZSIsInB1dCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBQUEsS0FB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LEVBQUFHLEtBQUEzRSxFQUFBNkIsVUFFQTJDLEVBQUFHLE1BQUFILEVBQUFHLEtBQUFZLFVBQ0F4RixFQUFBTSxLQUFBLFNBR0F4QyxFQUFBK0QsT0FBQSxXQUNBNUIsRUFBQTRCLFNBQ0E0QyxFQUFBRyxLQUFBM0UsRUFBQTZCLFVBQ0E5QixFQUFBTSxLQUFBLFNDUkF0RCxJQUFBWSxXQUFBLGdCQUFBLFNBQUEsUUFBQSxZQUFBLFNBQUFFLEVBQUFDLEVBQUFpQyxHQUNBbEMsRUFBQTRHLE9BQUEsV0FDQWpHLFFBQUFDLElBQUEsZ0JBQ0FELFFBQUFDLElBQUEsNkJBQUFaLEVBQUE2RyxNQUNBNUcsRUFBQVksS0FBQSxZQUFBYixFQUFBNkcsTUFDQS9GLEtBQUEsU0FBQXlCLEdBQ0E1QixRQUFBQyxJQUFBMkIsR0FDQUwsRUFBQU0sS0FBQSxnQkNUQXRELElBQUFZLFdBQUEsYUFBQSxTQUFBLFFBQUEsWUFBQSxTQUFBRSxFQUFBQyxFQUFBaUMsR0FDQWxDLEVBQUE0RyxPQUFBLFdBQ0FqRyxRQUFBQyxJQUFBLGlCQUFBWixFQUFBNkcsTUFDQTVHLEVBQUEwSCxJQUFBLFNBQUEzSCxFQUFBNkcsTUFDQS9GLEtBQUEsU0FBQXlCLEdBQ0E1QixRQUFBQyxJQUFBMkIsR0FDQUwsRUFBQU0sS0FBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2xlbycsIFsnbmdSb3V0ZScsICduZ0FuaW1hdGUnLCAndWkuYm9vdHN0cmFwJ10pO1xuXG5hcHAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLFxuICAgIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLlxuICAgICAgICAgICAgd2hlbignLycsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXRpYy9sb2dpbi5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvc2VhcmNoJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJpdmF0ZS9zZWFyY2guaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL3JlZ2lzdGVyJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3RhdGljL3JlZ2lzdGVyLmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9jb250YWN0TGlzdCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvY29udGFjdExpc3QuaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL2FkZGZhbWlseScsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvYWRkZmFtaWx5Lmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9hZGRjb3JwJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJpdmF0ZS9hZGRjb3JwLmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9jb250YWN0bGlzdCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvY29udGFjdGxpc3QuaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgb3RoZXJ3aXNlKHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAnL3NlYXJjaCdcbiAgICAgICAgICAgIH0pO1xuICAgIH1dKTtcblxuXG5hcHAuc2VydmljZSgnY29udGFjdExpc3REYXRhJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgaW5jbHVkZWRFbWFpbHMgPSBbXTtcbiAgICB2YXIgbmV3Q29udGFjdExpc3QgPSBbXTtcbiAgICB2YXIgbGlzdE51bSA9IDA7XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIG5ld0NvbnRhY3RMaXN0OiBuZXdDb250YWN0TGlzdCxcbiAgICAgICAgbGlzdE51bTogbGlzdE51bVxuICAgIH07XG59KTtcblxuXG5hcHAuY29udHJvbGxlcignbmV3Q29udGFjdExpc3RDb250cm9sbGVyJyxbJ2NvbnRhY3RMaXN0RGF0YScsJyRzY29wZScsJyRodHRwJywgZnVuY3Rpb24oY29udGFjdExpc3REYXRhLCAkc2NvcGUsICRodHRwKSB7XG4gICAgLy9kYXRhIHRvIGNyZWF0ZSBhIG5ldyBjb250YWN0IGxpc3RcbiAgICAkc2NvcGUubGlzdG5hbWUgPSB7fTtcblxuXG4gICAgLy9oZWFkZXJzXG4gICAgJHNjb3BlLmNvbmZpZyA9IHtcbiAgICAgICAgaGVhZGVyczogeydBdXRob3JpemF0aW9uJzogJ0JlYXJlciBlZjVkNWRmMi1hODA4LTRjNzAtYTVkOS1lYjcxMTYzY2JlYjknLFxuXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vZnVuY3Rpb24gdG8gY3JlYXRlcyB0aGUgbmV3IGNvbnRhY3QgbGlzdFxuICAgICRzY29wZS5wb3N0TGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLmxpc3RSZXEgPSB7XCJuYW1lXCI6ICRzY29wZS5saXN0bmFtZS5pbnB1dCwgXCJzdGF0dXNcIjogXCJBQ1RJVkVcIn07XG4gICAgICAgIGNvbnNvbGUubG9nKCdwb3N0aW5nIGxpc3QgLiAuIC4gJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5saXN0UmVxKTtcbiAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmNvbmZpZyk7XG4gICAgICAgICRodHRwLnBvc3QoJ2h0dHBzOi8vYXBpLmNvbnN0YW50Y29udGFjdC5jb20vdjIvbGlzdHM/YXBpX2tleT15ZzVwMnFmNTQ5cWFjbWJxYXlrNXJuMjMnLCAkc2NvcGUubGlzdFJlcSwgJHNjb3BlLmNvbmZpZykuXG4gICAgICAgICAgICB0aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc1wiICsgcmVzKTtcblxuICAgICAgICAgICAgICAgIHJlcy5pZCA9IGNvbnRhY3RMaXN0RGF0YS5saXN0TnVtO1xuXG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG59XSk7XG5cblxuYXBwLmNvbnRyb2xsZXIoJ2NvbnRhY3RMaXN0Q29udHJvbGxlcicsWydjb250YWN0TGlzdERhdGEnLCckc2NvcGUnLCckaHR0cCcsIGZ1bmN0aW9uKGNvbnRhY3RMaXN0RGF0YSwgJHNjb3BlLCAkaHR0cClcbntcblxuXG4gICAgdmFyIGltcG9ydERhdGFBcnJheSA9IFtdO1xuICAgIHZhciBsaXN0RW5kID0gSlNPTi5zdHJpbmdpZnkoXCJsaXN0OiBbXCIrIGNvbnRhY3RMaXN0RGF0YS5saXN0TnVtICsgXCJdLGNvbHVtbl9uYW1lczpbXFxcIkVNQUlMXFxcIixcXFwiRklSU1QgTkFNRVxcXCIsIFxcXCJMQVNUIE5BTUVcXFwiLCBcXFwiQ0lUWVxcXCIsXFxcIkNPTVBBTlkgTkFNRVxcXCJdXCIpO1xuXG4gICAgLy9wdXNoIHRoZSBpbmNsdWRlZC9jaGVja2VkIGluZm8gdG8gdGhlIGVtYWlsIGxpc3RcbiAgICAkc2NvcGUuY29udGFjdENoZWNrZWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgJHNjb3BlLmNoZWNrZWQucHVzaChbaWRdKTtcbiAgICB9O1xuXG5cbiAgICAvL1Bvc3QgRGF0YSB0byBDb25zdGFudCBDb250YWN0XG4gICAgJHNjb3BlLnNlbmRQb3N0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkYXRhID0gJC5wYXJhbSh7XG4gICAgICAgICAgICBqc29uOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgXCJpbXBvcnREYXRhXCI6IGltcG9ydERhdGFBcnJheSArIFwiLCBcIiArIGxpc3RFbmRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgZWY1ZDVkZjItYTgwOC00YzcwLWE1ZDktZWI3MTE2M2NiZWI5J1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRodHRwLnBvc3QoJ2h0dHBzOi8vYXBpLmNvbnN0YW50Y29udGFjdC5jb20vdjIvYWN0aXZpdGllcy9hZGRjb250YWN0cz9hcGlfa2V5PXU4dzU5enR4ZTMyOTRhZGN6ZnZuN2s5ZScsIGRhdGEsIGNvbmZpZykuXG4gICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJlcy5pZCA9IGNvbnRhY3RMaXN0RGF0YS5saXN0TnVtO1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBlcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2cgZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICB9O1xufV0pXG5cblxuXG4iLCJhcHAuZmFjdG9yeSgnYXV0aEludGVyY2VwdG9yJywgWyckcScsICckbG9jYXRpb24nLCAnYXV0aFNlcnZpY2UnLCBmdW5jdGlvbiAoJHEsICRsb2NhdGlvbiwgYXV0aFNlcnZpY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICAgICAgaWYgKGF1dGhTZXJ2aWNlLmlzQXV0aGVkKCkpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgJHEud2hlbihyZXNwb25zZSk7XG4gICAgICAgIH0sIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1dKSIsImFwcC5zZXJ2aWNlKCdhdXRoU2VydmljZScsIFsnJHdpbmRvdycsIGZ1bmN0aW9uICgkd2luZG93KSB7XG5cbiAgICB0aGlzLnBhcnNlSnd0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCAnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHt9O1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbiA9IHRva2VuO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdTYXZlZCB0b2tlbjonLCR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuO1xuICAgIH07XG5cbiAgICB0aGlzLmlzQXV0aGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmdldFRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMucGFyc2VKd3QodG9rZW4pO1xuICAgICAgICAgICAgdmFyIG5vdEV4cGlyZWQgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgPD0gcGFyYW1zLmV4cDtcbiAgICAgICAgICAgIGlmICghbm90RXhwaXJlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm90RXhwaXJlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlICR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuO1xuICAgIH07XG5cbiAgICAvLyBleHBvc2UgdXNlciBhcyBhbiBvYmplY3RcbiAgICB0aGlzLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlSnd0KHRoaXMuZ2V0VG9rZW4oKSlcbiAgICB9O1xufV0pIiwiLy9lZGl0IGNvcnBvcmF0aW9uIG1vZGFsIHRlbXBsYXRlXG5hcHAuY29udHJvbGxlcignZWRpdENvcnBDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJyRsb2cnLCAnUmVzdWx0U2VydmljZScsICckaHR0cCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgJGxvZywgUmVzdWx0U2VydmljZSwgJGh0dHApIHtcbiAgICAvL3NlbmRzIHRoZSBjb21wYW5pZXMgYWZ0ZXIgdGhlIHJlc3VsdHMgaGF2ZSBiZWVuIG9yZ2FuaXplZFxuICAgICAgICAkc2NvcGUuY29tcGFuaWVzID0gUmVzdWx0U2VydmljZS5jb21wYW5pZXM7XG5cbiAgICAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuXG4gICAgJHNjb3BlLm9wZW5Db3JwID0gZnVuY3Rpb24gKHNpemUsIGlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb3JwIGNhbGwnLCBpZCk7XG4gICAgICAgIHJldHVybiAkaHR0cCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgdXJsOiAnLi4vY29ycG9yYXRpb24nLFxuICAgICAgICAgICAgcGFyYW1zOntpZDppZH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvZWRpdGNvcnAuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNb2RhbEluc3RhbmNlQ3RybCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUudG9nZ2xlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSAhJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkO1xuICAgIH07XG5cbn1dKTtcbiIsImFwcC5jb250cm9sbGVyKCdjcmVhdGVMaXN0U2VhcmNoJyxbJyRzY29wZScsJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCBmdW5jdGlvbigkc2NvcGUsIENvbnRhY3RMaXN0RGF0YVNlcnZpY2Upe1xuICAgICRzY29wZS5saXN0Rm9ybT17fTtcblxuICAgICRzY29wZS5zZWFyY2hMaXN0QnRuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL3Bhc3NlcyBpbiBzZWFyY2ggdGV4dCB0byBzZXJ2aWNlXG4gICAgICAgIENvbnRhY3RMaXN0RGF0YVNlcnZpY2UubWFrZURhdGFDYWxsKCRzY29wZS5saXN0Rm9ybS5kYXRhKTtcbiAgICAgICAgLy9lbXB0eXMgdGhlIHNlYXJjaCBib3hcbiAgICAgICAgJHNjb3BlLmxpc3RGb3JtPXt9O1xuICAgIH07XG59XSk7IiwiYXBwLmZhY3RvcnkoJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgYWxsQ29tcGFuaWVzID0gW107XG4gICAgdmFyIGFsbEtpZHMgPSBbXTtcbiAgICB2YXIgYWxsQWR1bHRzID0gW107XG5cbiAgICB2YXIgbWFrZURhdGFDYWxsID0gZnVuY3Rpb24gKHBhc3NlZERhdGEpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAoe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIFVSTDogJy4uL2NyZWF0ZU1haWxMaXN0JyxcbiAgICAgICAgICAgIHBhcmFtczoge3NlYXJjaDogcGFzc2VkRGF0YX1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgZ2V0Q29tcGFuaWVzKHJlc3VsdHMpO1xuICAgICAgICAgICAgZ2V0QWR1bHRzKHJlc3VsdHMpO1xuICAgICAgICAgICAgZ2V0S2lkcyhyZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgdmFyIGdldEFkdWx0cyA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB2YXIgZ2V0RWxlbWVudDMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgIGFsbEFkdWx0cy5zcGxpY2UoMCwgYWxsQWR1bHRzLmxlbmd0aCk7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnYWR1bHQnKVxuICAgICAgICAgICAgICAgICAgICBhbGxBZHVsdHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGdldEVsZW1lbnQzKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFsbEFkdWx0c1xuICAgIH07XG5cbiAgICB2YXIgZ2V0Q29tcGFuaWVzID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHZhciBnZXRFbGVtZW50MyA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICAgICAgYWxsQ29tcGFuaWVzLnNwbGljZSgwLCBhbGxDb21wYW5pZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdjb21wYW55JylcbiAgICAgICAgICAgICAgICAgICAgYWxsQ29tcGFuaWVzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBnZXRFbGVtZW50MyhhcnJheSk7XG4gICAgICAgIHJldHVybiBhbGxDb21wYW5pZXNcbiAgICB9O1xuXG4gICAgdmFyIGdldEtpZHMgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQzID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgICAgICBhbGxLaWRzLnNwbGljZSgwLCBhbGxLaWRzLmxlbmd0aCk7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY2hpbGQnKVxuICAgICAgICAgICAgICAgICAgICBraWRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBnZXRFbGVtZW50MyhhcnJheSk7XG4gICAgICAgIHJldHVybiBhbGxLaWRzXG4gICAgfTtcblxuICAgIHZhciBkYXRhQXBpID0ge1xuICAgICAgICBtYWtlRGF0YUNhbGw6IG1ha2VEYXRhQ2FsbCxcbiAgICAgICAgZ2V0Q29tcGFuaWVzOiBnZXRDb21wYW5pZXMsXG4gICAgICAgIGdldEtpZHM6IGdldEtpZHMsXG4gICAgICAgIGdldEFkdWx0czogZ2V0QWR1bHRzLFxuICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICBhbGxLaWRzOiBhbGxLaWRzLFxuICAgICAgICBhbGxBZHVsdHM6IGFsbEFkdWx0cyxcbiAgICAgICAgYWxsQ29tcGFuaWVzOiBhbGxDb21wYW5pZXNcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRhdGFBcGk7XG5cbn1dKTtcbiIsIi8vZWRpdCBmYW1pbHkgbW9kYWwgdGVtcGxhdGVcbmFwcC5jb250cm9sbGVyKCdlZGl0RmFtaWx5Q3RybCcsWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJyRsb2cnLCdSZXN1bHRTZXJ2aWNlJywgJyRodHRwJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCAkbG9nLCBSZXN1bHRTZXJ2aWNlLCAkaHR0cCkge1xuXG4gICAgLy9zZW5kcyB0aGUgYWR1bHRzIGFuZCBraWRzIGFmdGVyIHRoZSByZXN1bHRzIGhhdmUgYmVlbiBvcmdhbml6ZWRcbiAgICAgICAgJHNjb3BlLmFkdWx0cyA9IFJlc3VsdFNlcnZpY2UuYWR1bHRzO1xuICAgICAgICAkc2NvcGUua2lkcyA9IFJlc3VsdFNlcnZpY2Uua2lkcztcblxuICAgICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XG5cbiAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uIChzaXplLCBpZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZmFtaWx5IGNhbGwnLGlkKTtcbiAgICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6ICcuLi9mYW1pbHknLFxuICAgICAgICAgICAgcGFyYW1zOntpZDppZH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvZWRpdGZhbWlseS5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNb2RhbEluc3RhbmNlQ3RybCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUudG9nZ2xlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSAhJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkO1xuICAgIH07XG5cblxufV0pOyIsIi8vY29udHJvbGxlcnMgZm9yIGxvZ2luXG5hcHAuY29udHJvbGxlcignbG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnYXV0aFNlcnZpY2UnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCBhdXRoU2VydmljZSwgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKXtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJGh0dHAucG9zdCgnL2xvZ2luJywgJHNjb3BlLmZvcm0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBhdXRoU2VydmljZS5zYXZlVG9rZW4ocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL3NlYXJjaFwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCJcbi8vVGhpcyBzaG91bGQgZ2V0IHRoZSBzZWFyY2ggaXRlbVxuYXBwLmNvbnRyb2xsZXIoJ3NlYXJjaEZ1bmN0aW9uJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnUmVzdWx0U2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCBSZXN1bHRTZXJ2aWNlKSB7XG4gICAgJHNjb3BlLmZvcm1JbnB1dD17fTtcblxuICAgICRzY29wZS5zZWFyY2hCdG4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vcGFzc2VzIGluIHNlYXJjaCB0ZXh0IHRvIHNlcnZpY2VcbiAgICAgICBSZXN1bHRTZXJ2aWNlLm1ha2VEYXRhQ2FsbCgkc2NvcGUuZm9ybUlucHV0LmRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyB0aGUgaW5wdXQgdGV4dCcsICRzY29wZS5mb3JtSW5wdXQpO1xuICAgICAgICAvL2VtcHR5cyB0aGUgc2VhcmNoIGJveFxuICAgICAgICAkc2NvcGUuZm9ybUlucHV0PXt9O1xuICAgIH07XG5cbn1dKTtcbiIsIi8vVGhpcyBzZXJ2aWNlIHNob3VsZCBwYXNzIGRhdGEgYmV0d2VlbiBjb250cm9sbGVyc1xuYXBwLmZhY3RvcnkoJ1Jlc3VsdFNlcnZpY2UnLCBbJyRodHRwJyxmdW5jdGlvbigkaHR0cCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIGFkdWx0cyA9IFtdO1xuICAgIHZhciBjb21wYW5pZXMgPSBbXTtcbiAgICB2YXIga2lkcyA9IFtdO1xuXG4gICAgdmFyIG1ha2VEYXRhQ2FsbCA9IGZ1bmN0aW9uKHBhc3NlZERhdGEpIHtcbiAgICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6ICcuLi9zZWFyY2gnLFxuICAgICAgICAgICAgcGFyYW1zOntzZWFyY2g6cGFzc2VkRGF0YX1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgZ2V0Q29tcGFuaWVzKHJlc3VsdHMpO1xuICAgICAgICAgICAgZ2V0S2lkcyhyZXN1bHRzKTtcbiAgICAgICAgICAgIGdldEFkdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRDb21wYW5pZXMgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICB2YXIgZ2V0RWxlbWVudDEgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAgY29tcGFuaWVzLnNwbGljZSgwLGNvbXBhbmllcy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdjb21wYW55JylcbiAgICAgICAgICAgICAgICBjb21wYW5pZXMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgZ2V0RWxlbWVudDEoYXJyYXkpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBnZXRFbGVtZW50MScsY29tcGFuaWVzKTtcbiAgICAgICAgcmV0dXJuIGNvbXBhbmllc1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QWR1bHRzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQyID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIGFkdWx0cy5zcGxpY2UoMCxhZHVsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnYWR1bHQnKVxuICAgICAgICAgICAgICAgICAgICBhZHVsdHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGdldEVsZW1lbnQyKGFycmF5KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgaW4gZ2V0RWxlbWVudDInLCBhZHVsdHMpO1xuICAgICAgICByZXR1cm4gYWR1bHRzXG4gICAgfTtcblxuICAgIHZhciBnZXRLaWRzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIGtpZHMuc3BsaWNlKDAsa2lkcy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdjaGlsZCcpXG4gICAgICAgICAgICAgICAgICAgIGtpZHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGdldEVsZW1lbnQzKGFycmF5KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgZ2V0RWxlbWVudHMzJywga2lkcyk7XG4gICAgICAgIHJldHVybiBraWRzXG4gICAgfTtcblxuICAgIC8vcHVibGljXG4gICAgdmFyIHB1YmxpY0FwaSA9IHtcbiAgICAgICAgZ2V0S2lkczogZ2V0S2lkcyxcbiAgICAgICAgZ2V0QWR1bHRzOiBnZXRBZHVsdHMsXG4gICAgICAgIGdldENvbXBhbmllczogZ2V0Q29tcGFuaWVzLFxuICAgICAgICBtYWtlRGF0YUNhbGw6IG1ha2VEYXRhQ2FsbCxcbiAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgY29tcGFuaWVzOiBjb21wYW5pZXMsXG4gICAgICAgIGFkdWx0czogYWR1bHRzLFxuICAgICAgICBraWRzOiBraWRzXG4gICAgfTtcbiAgICByZXR1cm4gcHVibGljQXBpO1xufV0pOyIsIi8vIFBsZWFzZSBub3RlIHRoYXQgJG1vZGFsSW5zdGFuY2UgcmVwcmVzZW50cyBhIG1vZGFsIHdpbmRvdyAoaW5zdGFuY2UpIGRlcGVuZGVuY3kuXG4vLyBJdCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlICR1aWJNb2RhbCBzZXJ2aWNlIHVzZWQgYWJvdmUuXG5cbi8vbmVlZGVkIGZvciBtb2RhbD8/IHByZXR0eSBzdXJlXG5hcHAuY29udHJvbGxlcignTW9kYWxJbnN0YW5jZUN0cmwnLFsnJHNjb3BlJywnJG1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xuXG4gICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUuc2VsZWN0ZWQuaXRlbSk7XG4gICAgfTtcblxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgIH07XG59XSk7IiwiYXBwLmNvbnRyb2xsZXIoJ25hdkN0cmwnLCBbJ2F1dGhTZXJ2aWNlJywnJHNjb3BlJywnJHJvb3RTY29wZScsJyRsb2NhdGlvbicsIGZ1bmN0aW9uKGF1dGhTZXJ2aWNlLCAkc2NvcGUsICRyb290U2NvcGUsICRsb2NhdGlvbil7XG4gICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuXG4gICAgaWYoJHJvb3RTY29wZS51c2VyICYmICRyb290U2NvcGUudXNlci51c2VybmFtZSl7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvaG9tZScpO1xuICAgIH1cblxuICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcbiAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIik7XG4gICAgfVxufV0pO1xuIiwiXG4vL3JlZ2lzdGVyIGNvbnRyb2xsZXJcbmFwcC5jb250cm9sbGVyKCdyZWdpc3RlckN0cmwnLCBbICckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkbG9jYXRpb24pIHtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlZ2lzdGVyQ3RybFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlZ2lzdGVyQ29udHJvbGxlciBzdWJtaXQ6JywgJHNjb3BlLmZvcm0pO1xuICAgICAgICAkaHR0cC5wb3N0KCcvcmVnaXN0ZXInLCAkc2NvcGUuZm9ybSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9pbmRleFwiKVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufV0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIFsgJyRzY29wZScsICckaHR0cCcsICckbG9jYXRpb24nLCAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbikge1xuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlZGl0IHBhc3N3b3JkOicsICRzY29wZS5mb3JtKTtcbiAgICAgICAgJGh0dHAucHV0KCcvYWRtaW4nLCAkc2NvcGUuZm9ybSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9pbmRleFwiKVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
>>>>>>> masterToDate
