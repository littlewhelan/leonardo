var app=angular.module("leo",["ngRoute","ngAnimate","ui.bootstrap","checklist-model","toastr","angular-momentjs"]);app.config(["$routeProvider",function(t){t.when("/",{templateUrl:"static/login.html"}).when("/search",{templateUrl:"private/search.html"}).when("/register",{templateUrl:"static/register.html"}).when("/contactList",{templateUrl:"private/contactList.html"}).when("/addfamily",{templateUrl:"private/addfamily.html",controller:"editFamilyCtrl"}).when("/addcorp",{templateUrl:"private/addcorp.html",controller:"editCorpCtrl"}).when("/contactlist",{templateUrl:"private/contactlist.html"}).otherwise({redirectTo:"/search"})}]),app.factory("authInterceptor",["$q","$location","authService",function(t,e,a){return{request:function(t){return t.headers=t.headers||{},a.isAuthed()&&(t.headers.Authorization="Bearer "+a.getToken()),t},response:function(a){return 401===a.status&&e.path("/"),a||t.when(a)},responseError:function(a){return 401===a.status?e.path("/"):console.log(a.status),t.reject(a)}}}]),app.service("authService",["$window",function(t){this.parseJwt=function(e){if(e){var a=e.split(".")[1],o=a.replace("-","+").replace("_","/");return JSON.parse(t.atob(o))}return{}},this.saveToken=function(e){t.localStorage.jwtToken=e},this.getToken=function(){return t.localStorage.jwtToken},this.isAuthed=function(){var t=this.getToken();if(t){var e=this.parseJwt(t),a=Math.round((new Date).getTime()/1e3)<=e.exp;return a||this.logout(),a}return!1},this.logout=function(){delete t.localStorage.jwtToken},this.getUser=function(){return this.parseJwt(this.getToken())}}]),app.controller("editCorpCtrl",["$scope","$uibModal","$log","ResultService","$http","validService","dateService","toastr",function(t,e,a,o,n,i,l,r){t.validateInput=i.validateInput,t.companies=o.companies,t.corp={info:{},contact:{},donations:[]},t.newDonation={},t.animationsEnabled=!0,t.clearCorp=function(e){r.error("Cancelled"),t.corp={info:{},contact:{},donations:[]},t.newDonation={},e.forEach(function(t){$("#"+t+" .js-validate").each(function(){$(this).removeClass("invalid").attr("placeholder",$(this).data("placeholder"))})})},t.open=function(o,i){return console.log("corp call",i),n({method:"GET",url:"../corporation",params:{id:i}}).then(function(n){n.data.donations.forEach(function(t,e,a){a[e].date=l.fromDB(t.date)}),t.corp=n.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"private/editcorp.html",controller:"ModalInstanceCtrl",size:o,scope:t,resolve:{items:function(){return t.corp}}});i.result.then(function(e){t.selected=e},function(){a.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.save=function(){console.log("Save submitted",t.corp),t.corp.donations.length&&t.corp.donations.forEach(function(t,e,a){a[e].date=l.toDB(t.date)}),t.corp.id?i.validateForm(["EditCorpInfoForm","EditCorpContactForm"])?(console.log("update corp",t.corp),n({method:"PUT",url:"/corporation",data:{corp:t.corp}}).then(function(e){console.log("Put corp, got id ",e.data),t.corp.id=e.data.id,t.corp.info=e.data.info?e.data.info:{},t.contact=e.data.contact?e.data.contact:{},t.corp.donations.length&&(t.corp.donations=[]),t.donations=e.data.donations?e.data.donations:{}})):console.log("Edit corp input tests failed"):i.validateForm(["AddCorpInfoForm","AddCorpContactForm"])?n({method:"POST",url:"/corporation",data:{corp:t.corp}}).then(function(e){console.log("Posted corp, got id ",e.data),t.corp.id=e.data.id,t.corp.info=e.data.info?e.data.info:{},t.contact=e.data.contact?e.data.contact:{},t.corp.donations.length&&(t.corp.donations=[]),t.donations=e.data.donations?e.data.donations:{},r.success("Corporation added!")},function(){r.error("Failed to add corporation")}):(r.error("Unauthorized character"),console.log("Add corp input tests failed"))},t.addDonation=function(){var e=t.newDonation;e.date=l.toDB(e.date),t.corp.donations.push(t.newDonation),t.newDonation={},console.log("added donation",e,t.corp.donations)}}]),app.controller("createListSearch",["$scope","$http","ContactListDataService","newContactListData","toastr","$rootScope",function(t,e,a,o,n,i){t.type={},t.age={},t.zip={},t.emails={},t.emails.includedEmails=[],t.includedEmails=[],t.totalDisplayed=50,t.totalResults=0,t.emailList=[],t.searchListBtn=function(){if(t.emailList=[],"zipCk"==t.type&&a.makeDataCall("zip",t.zip.data).then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")}),"ageCk"==t.type){var e=a.makeDataCall("age",t.age.data);e.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}if("fam"==t.type){var o=a.makeDataCall("family","");o.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}if("corp"==t.type){var i=a.makeDataCall("company","");i.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}t.type={},t.age={},t.zip={}},t.populateList=function(){console.log(t.emails.includedEmails),o.popList(t.emails.includedEmails)?n.success("Successfully deployed contact list."):n.error("Failed to deploy contact list.")},t.loadMore=function(){t.totalDisplayed+=50},t.showAll=function(){t.totalDisplayed=t.totalResults},t.checkAll=function(e){var a=angular.element(e.target);t.emails.includedEmails.length==t.totalResults?(t.emails.includedEmails=[],a.val("Check All")):(t.emails.includedEmails=angular.copy(t.emailList),a.val("Uncheck All"))}}]),app.factory("ContactListDataService",["$http","$q",function(t,e){function a(a,o){var n=e.defer();return console.log("this is in the make data call",a,o),t({method:"GET",url:"../createMailList",params:{type:a,search:o}}).then(function(t){data=t.data,n.resolve(t.data)}),n.promise}return{data:[],makeDataCall:a}}]),app.service("dateService",["MomentJS",function(t){var e="YYYY-MM-DD",a="M/D/YYYY",o=function(a){return t(a).format(e)},n=function(e){return t(e).format(a)};return{toDB:o,fromDB:n}}]),app.controller("editFamilyCtrl",["$scope","$uibModal","$log","ResultService","$http","validService","toastr","dateService",function(t,e,a,o,n,i,l,r){t.validateInput=i.validateInput,t.adults=o.adults,t.kids=o.kids,t.family={adultOne:{},adultTwo:{},emergency:{},children:[],donations:[]},t.newChild={},t.newDonation={},t.clearFamily=function(e){l.error("Cancelled"),t.family={adultOne:{},adultTwo:{},emergency:{},children:[],donations:[]},t.newChild={},t.newDonation={},e.forEach(function(t){$("#"+t+" .js-validate").each(function(){$(this).removeClass("invalid").attr("placeholder",$(this).data("placeholder"))})})},t.animationsEnabled=!0,t.open=function(o,i){return console.log("family call",i),n({method:"GET",url:"../family",params:{id:i}}).then(function(n){console.log(n.data),n.data.children.forEach(function(t,e,a){console.log("reformatted",r.fromDB(a[e].birthdate)),a[e].birthdate=r.fromDB(t.birthdate)}),n.data.donations.forEach(function(t,e,a){a[e].date=r.fromDB(t.date)}),t.family=n.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"private/editfamily.html",controller:"ModalInstanceCtrl",size:o,scope:t,resolve:{items:function(){return t.family}}});i.result.then(function(e){t.selected=e},function(){a.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.save=function(){console.log("Save submitted",t.family),t.family.children.length&&t.family.children.forEach(function(t,e,a){a[e].birthdate=r.toDB(t.birthdate)}),t.family.donations.length&&t.family.donations.forEach(function(t,e,a){a[e].date=r.toDB(t.date)}),console.log("Saving family, after toDB birthdates",t.family),t.family.id?i.validateForm(["EditFamInfoForm","EditFamEmerForm"])?(console.log("update family",t.family),n({method:"PUT",url:"/family",data:{family:t.family}}).then(function(e){console.log("Put family, got id ",e.data),t.family.id=e.data.id,t.family.adultOne=e.data.adultOne?e.data.adultOne:{},t.family.adultTwo=e.data.adultTwo?e.data.adultTwo:{},t.family.emergency=e.data.emergency?e.data.emergency:{},t.family.children.length&&(t.family.children=[]),t.family.children=e.data.children?e.data.children:[],t.family.donations.length&&(t.family.donations=[]),t.family.donations=e.data.donations?e.data.donations:[]})):console.log("Edit family failed input tests"):i.validateForm(["AddFamInfoForm","AddFamEmerForm"])?n({method:"POST",url:"/family",data:{family:t.family}}).then(function(e){console.log("Posted family, got id ",e.data),t.family.id=e.data.id,t.family.adultOne=e.data.adultOne?e.data.adultOne:{},t.family.adultTwo=e.data.adultTwo?e.data.adultTwo:{},t.family.emergency=e.data.emergency?e.data.emergency:{},t.family.children.length&&(t.family.children=[]),t.family.children=e.data.children?e.data.children:[],t.family.donations.length&&(t.family.donations=[]),t.family.donations=e.data.donations?e.data.donations:[],l.success("Family saved!")},function(){l.error("Failed to add family")}):(l.error("Unauthorized character"),console.log("Add family failed input tests"))},t.addChild=function(){console.log("child added",t.newChild,t.family.children),t.editingChild?(t.family.children[t.editingChild]=t.newChild,t.editingChild=!1,l.success("Child updated!")):(t.family.children.push(t.newChild),l.success("Child added!")),t.newChild={}},t.editChild=function(e){t.editingChild=e,t.newChild=t.family.children[e]},t.removeChild=function(e){console.log("in remove child index",e," edit ",t.editingChild),t.family.children.splice(e,1),e==t.editingChild?(console.log("edit match"),t.clearChild()):console.log("no edit match")},t.clearChild=function(){console.log("in clear child"),t.newChild={firstName:"",lastName:"",birthdate:"",school:"",notes:""},t.editingChild=!1},t.addDonation=function(){var e=t.newDonation;e.date=r.toDB(e.date),t.family.donations.push(t.newDonation),t.newDonation={},console.log("added donation",e,t.family.donations)}}]),app.controller("loginCtrl",["$scope","$http","authService","$location","$rootScope","toastr",function(t,e,a,o,n,i){t.submit=function(){e.post("/login",t.form).then(function(t){a.saveToken(t.data),n.user=a.getUser(),o.path("/search")},function(){i.error("incorrect username or password")})}}]),app.controller("searchFunction",["$scope","$http","ResultService",function(t,e,a){t.formInput={},t.searchBtn=function(){a.makeDataCall(t.formInput.data),console.log("this is the input text",t.formInput),t.formInput={}}}]),app.factory("ResultService",["$http",function(t){var e=[],a=[],o=[],n=[],i=function(a){return t({method:"GET",url:"../search",params:{search:a}}).then(function(t){e=t.data,l(e),c(e),r(e)})},l=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"company"==t.type&&o.push(t)})};return e(t),console.log("this is getElement1",o),o},r=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"adult"==t.type&&a.push(t)})};return e(t),console.log("this is in getElement2",a),a},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"child"==t.type&&n.push(t)})};return e(t),console.log("this is getElements3",n),n},s={getKids:c,getAdults:r,getCompanies:l,makeDataCall:i,results:e,companies:o,adults:a,kids:n};return s}]),app.controller("ModalInstanceCtrl",["$scope","$modalInstance",function(t,e){t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("navCtrl",["authService","$scope","$rootScope","$location",function(t,e,a,o){a.user=t.getUser(),a.user&&a.user.username&&o.path("/home"),e.logout=function(){t.logout(),a.user=t.getUser(),o.path("/")}}]),app.controller("newContactListController",["newContactListData","$scope","$rootScope","toastr",function(t,e,a,o){e.hide=function(){console.log("hide"),a.hide=!0},e.listname={},e.createList=function(){console.log("create list: "+e.listname.input),t.postList(e.listname.input,function(t){t===!0?(e.listname={},o.success("Successfully created list"),e.hide()):(console.log("failed to create list"),o.error("Failed to create list"))})}}]),app.service("newContactListData",["ContactListDataService","$http","$timeout",function(t,e,a){var o="",n=[];this.postList=function(t,a){console.log("did the name make it to the service? "+t),e.post("/newContactList",{name:t}).then(function(t){console.log(t.data),o=t.data,console.log("Id? ",o),a(!0)},function(t){console.log("failed to create",t),a(!1)})},this.popList=function(t){this.dataObject={importDataArray:n,listNum:o},console.log("got to popList"),console.log("importDataArray: ",this.importDataArray,"\ntype: ",typeof this.importDataArray),i(t),e.post("/populateContactList",this.dataObject).then(function(t,e,a,o){return console.log("posted"),console.log(t),console.log("importDataArray: ",this.importDataArray,"\ntype: ",typeof this.importDataArray),!0},function(){return!1})};var i=function(t){console.log("getChecked is running"),t.forEach(function(t){this.contactObject={email_addresses:[t.email||""],first_name:t.firstName||"",last_name:t.lastName||"",company_name:t.company||"",addresses:[{city:t.city||""}]},console.log(this.contactObject),n.push(this.contactObject)})}}]),app.controller("popListController",["newContactListData","$scope","$http",function(t,e,a){e.listName={},e.populateList=function(){console.log("create list: "+scope.listName.input),t.popList(),e.listName={}}}]),app.controller("registerCtrl",["$scope","$http","$location","toastr",function(t,e,a,o){t.submit=function(){console.log("registerCtrl"),console.log("registerController submit:",t.form),e.post("/register",t.form).then(function(t){console.log(t),a.path("/index"),o.success("admin created")},function(){o.error("failed to add admin")})}}]),app.controller("resetCtrl",["$scope","$http","$location","authService","toastr",function(t,e,a,o,n){t.submit=function(){console.log("edit password:",t.form);var i=o.getUser();console.log("auth user",i);var l=t.form;l.id=i.id,l.username=i.username,console.log("prepared",l),e.put("/admin",l).then(function(t){console.log(t),n.success("password changed"),a.path("/index")},function(){n.error("failed to update password")})}}]),app.service("validService",[function(){var t=function(t,e){var a,o=e?$("#"+e):!1;switch(console.log("object is ",o,t,e),t){case"name":case"city":case"state":a=/^[a-zA-z\s,.'-]{0,28}/;break;case"corpName":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+-]{0,75}/;break;case"address":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+:()%&-]{0,50}/;break;case"zip":a=/^[0-9]{5}$/;break;case"phone":a=/^([(][0-9]{3}[)]|[0-9]{3})[\s\-.]?[0-9]{3}[\s\-.]?[0-9]{4}$/;break;case"email":a=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;break;case"notes":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+:()%&<>\[\]{}\-="|`\\\/]{0,250}/;break;case"ext":a=/^[a-zA-Z0-9\s:-]{0,15}$/;break;case"date":a=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[01])\/20[0-9]{2}$/;break;case"birthdate":a=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[01])\/((199[0-9]|20)[0-9]{2})$/;break;case"amount":a=/^([\$]?[\d]+([.][\d]{2})?){1,10}$/;break;case"username":case"password":a=/^([a-z]+[A-Z]+[0-9]+){8,20}$/;break;case"search":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+-]{0,75}$/;break;case"age":a=/^[0-9]{1,2}$/;break;default:return console.log("invalid class search"),!1}return o.attr("required")||o.val()?!a.test(o.val().trim())||0==o.val().trim().length&&o.attr("required")?(o.addClass("invalid").attr("placeholder",o.data("invalid")).val(""),console.log(t," failed test",a),!1):(o.removeClass("invalid").attr("placeholder",o.data("placeholder")),console.log(t," passed test",a),!0):void 0},e=function(e){var a=!0;return e.forEach(function(e,o,n){$("#"+e+" .js-validate").each(function(){0==t($(this).data("type"),$(this).attr("id"))&&(console.log($(this).attr("id")+" failed the test "+$(this).data("type")+" entered info: "+$(this).val()),a=!1)})}),a};return{validateInput:t,validateForm:e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhJbnRlcmNlcHRvci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiY29ycENvbnRyb2xsZXIuanMiLCJjcmVhdGVMaXN0Q29udHJvbGxlci5qcyIsImNyZWF0ZUxpc3RTZXJ2aWNlLmpzIiwiZGF0ZVNlcnZpY2UuanMiLCJmYW1pbHlDb250cm9sbGVyLmpzIiwibG9naW5Db250cm9sbGVyLmpzIiwibWFpblNlYXJjaENvbnRyb2xsZXIuanMiLCJtYWluU2VhcmNoU2VydmljZS5qcyIsIm1vZGFsSW5zdGFuY2VDb250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0U2VydmljZS5qcyIsInBvcExpc3RDb250cm9sbGVyLmpzIiwicmVnaXN0ZXJDb250cm9sbGVyLmpzIiwicmVzZXRDb250cm9sbGVyLmpzIiwidmFsaWRTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiZmFjdG9yeSIsIiRxIiwiJGxvY2F0aW9uIiwiYXV0aFNlcnZpY2UiLCJyZXF1ZXN0IiwiaGVhZGVycyIsImlzQXV0aGVkIiwiQXV0aG9yaXphdGlvbiIsImdldFRva2VuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJwYXRoIiwicmVzcG9uc2VFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJyZWplY3QiLCJzZXJ2aWNlIiwiJHdpbmRvdyIsInRoaXMiLCJwYXJzZUp3dCIsInRva2VuIiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNhdmVUb2tlbiIsImxvY2FsU3RvcmFnZSIsImp3dFRva2VuIiwicGFyYW1zIiwibm90RXhwaXJlZCIsIk1hdGgiLCJyb3VuZCIsIkRhdGUiLCJnZXRUaW1lIiwiZXhwIiwibG9nb3V0IiwiZ2V0VXNlciIsIiRzY29wZSIsIiR1aWJNb2RhbCIsIiRsb2ciLCJSZXN1bHRTZXJ2aWNlIiwiJGh0dHAiLCJ2YWxpZFNlcnZpY2UiLCJkYXRlU2VydmljZSIsInRvYXN0ciIsInZhbGlkYXRlSW5wdXQiLCJjb21wYW5pZXMiLCJjb3JwIiwiaW5mbyIsImNvbnRhY3QiLCJkb25hdGlvbnMiLCJuZXdEb25hdGlvbiIsImFuaW1hdGlvbnNFbmFibGVkIiwiY2xlYXJDb3JwIiwiZm9ybXNBcnJheSIsImVycm9yIiwiZm9yRWFjaCIsInYiLCIkIiwiZWFjaCIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImRhdGEiLCJvcGVuIiwic2l6ZSIsImlkIiwibWV0aG9kIiwidXJsIiwidGhlbiIsImkiLCJhIiwiZGF0ZSIsImZyb21EQiIsIm1vZGFsSW5zdGFuY2UiLCJhbmltYXRpb24iLCJzY29wZSIsInJlc29sdmUiLCJpdGVtcyIsInJlc3VsdCIsInNlbGVjdGVkSXRlbSIsInNlbGVjdGVkIiwidG9nZ2xlQW5pbWF0aW9uIiwic2F2ZSIsImxlbmd0aCIsInRvREIiLCJ2YWxpZGF0ZUZvcm0iLCJyZXMiLCJzdWNjZXNzIiwiYWRkRG9uYXRpb24iLCJ0ZW1wIiwicHVzaCIsIkNvbnRhY3RMaXN0RGF0YVNlcnZpY2UiLCJuZXdDb250YWN0TGlzdERhdGEiLCIkcm9vdFNjb3BlIiwidHlwZSIsImFnZSIsInppcCIsImVtYWlscyIsImluY2x1ZGVkRW1haWxzIiwidG90YWxEaXNwbGF5ZWQiLCJ0b3RhbFJlc3VsdHMiLCJlbWFpbExpc3QiLCJzZWFyY2hMaXN0QnRuIiwibWFrZURhdGFDYWxsIiwiZmFtIiwiY29tcCIsInBvcHVsYXRlTGlzdCIsInBvcExpc3QiLCJsb2FkTW9yZSIsInNob3dBbGwiLCJjaGVja0FsbCIsImV2ZW50IiwiJGJ1dHRvbiIsImVsZW1lbnQiLCJ0YXJnZXQiLCJ2YWwiLCJjb3B5IiwicGFzc2VkRGF0YSIsImRlZmVycmVkIiwiZGVmZXIiLCJzZWFyY2giLCJwcm9taXNlIiwibW9tZW50IiwiZGJGb3JtYXQiLCJ1aUZvcm1hdCIsInRvRGJGb3JtYXQiLCJmb3JtYXQiLCJmcm9tRGJGb3JtYXQiLCJhZHVsdHMiLCJraWRzIiwiZmFtaWx5IiwiYWR1bHRPbmUiLCJhZHVsdFR3byIsImVtZXJnZW5jeSIsImNoaWxkcmVuIiwibmV3Q2hpbGQiLCJjbGVhckZhbWlseSIsImJpcnRoZGF0ZSIsImFkZENoaWxkIiwiZWRpdGluZ0NoaWxkIiwiZWRpdENoaWxkIiwiaW5kZXgiLCJyZW1vdmVDaGlsZCIsInNwbGljZSIsImNsZWFyQ2hpbGQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInNjaG9vbCIsIm5vdGVzIiwic3VibWl0IiwicG9zdCIsImZvcm0iLCJ1c2VyIiwiZm9ybUlucHV0Iiwic2VhcmNoQnRuIiwicmVzdWx0cyIsImdldENvbXBhbmllcyIsImdldEtpZHMiLCJnZXRBZHVsdHMiLCJhcnJheSIsImdldEVsZW1lbnQxIiwiZ2V0RWxlbWVudDIiLCJnZXRFbGVtZW50MyIsInB1YmxpY0FwaSIsIiRtb2RhbEluc3RhbmNlIiwib2siLCJjbG9zZSIsIml0ZW0iLCJjYW5jZWwiLCJkaXNtaXNzIiwidXNlcm5hbWUiLCJoaWRlIiwibGlzdG5hbWUiLCJjcmVhdGVMaXN0IiwiaW5wdXQiLCJwb3N0TGlzdCIsIiR0aW1lb3V0IiwibGlzdE51bSIsImltcG9ydERhdGFBcnJheSIsIm5hbWUiLCJjYiIsImxpc3QiLCJkYXRhT2JqZWN0IiwiZ2V0Q2hlY2tlZCIsImwiLCJvYmplY3QiLCJjb250YWN0T2JqZWN0IiwiZW1haWxfYWRkcmVzc2VzIiwiZW1haWwiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiY29tcGFueV9uYW1lIiwiY29tcGFueSIsImFkZHJlc3NlcyIsImNpdHkiLCJsaXN0TmFtZSIsInRlbXBVc2VyIiwicHV0IiwicGF0dGVybiIsIiRvYmoiLCJ0ZXN0IiwidHJpbSIsImFkZENsYXNzIiwiZm9ybXMiLCJwYXNzIl0s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QSxFQUtBLE1BQUE0TCxHQUFBMUksS0FBQSxhQUFBMEksRUFBQXBGLE9BRUFtRixFQUFBRSxLQUFBRCxFQUFBcEYsTUFBQXNGLFNBQUEsR0FBQUYsRUFBQXBGLE1BQUFzRixPQUFBdEgsUUFBQW9ILEVBQUExSSxLQUFBLGFBRUEwSSxFQUFBRyxTQUFBLFdBQUE3SSxLQUFBLGNBQUEwSSxFQUFBekksS0FBQSxZQUFBcUQsSUFBQSxJQUNBekcsUUFBQUMsSUFBQW1GLEVBQUEsZUFBQXdHLElBQ0EsSUFHQUMsRUFBQTNJLFlBQUEsV0FBQUMsS0FBQSxjQUFBMEksRUFBQXpJLEtBQUEsZ0JBQ0FwRCxRQUFBQyxJQUFBbUYsRUFBQSxlQUFBd0csSUFDQSxHQVhBLFFBZ0JBakgsRUFBQSxTQUFBc0gsR0FDQSxHQUFBQyxJQUFBLENBU0EsT0FSQUQsR0FBQW5KLFFBQUEsU0FBQUMsRUFBQVksRUFBQUMsR0FDQVosRUFBQSxJQUFBRCxFQUFBLGlCQUFBRSxLQUFBLFdBQ0EsR0FBQWQsRUFBQWEsRUFBQTNDLE1BQUErQyxLQUFBLFFBQUFKLEVBQUEzQyxNQUFBOEMsS0FBQSxTQUNBbkQsUUFBQUMsSUFBQStDLEVBQUEzQyxNQUFBOEMsS0FBQSxNQUFBLG9CQUFBSCxFQUFBM0MsTUFBQStDLEtBQUEsUUFBQSxrQkFBQUosRUFBQTNDLE1BQUFvRyxPQUNBeUYsR0FBQSxPQUlBQSxFQUdBLFFBQ0EvSixjQUFBQSxFQUNBd0MsYUFBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbGVvJywgWyduZ1JvdXRlJywgJ25nQW5pbWF0ZScsICd1aS5ib290c3RyYXAnLCAnY2hlY2tsaXN0LW1vZGVsJywgJ3RvYXN0cicsICdhbmd1bGFyLW1vbWVudGpzJ10pO1xuXG5cbmFwcC5jb25maWcoWyckcm91dGVQcm92aWRlcicsXG4gICAgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIuXG4gICAgICAgICAgICB3aGVuKCcvJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3RhdGljL2xvZ2luLmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9zZWFyY2gnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL3NlYXJjaC5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvcmVnaXN0ZXInLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzdGF0aWMvcmVnaXN0ZXIuaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL2NvbnRhY3RMaXN0Jywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJpdmF0ZS9jb250YWN0TGlzdC5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvYWRkZmFtaWx5Jywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJpdmF0ZS9hZGRmYW1pbHkuaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdlZGl0RmFtaWx5Q3RybCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL2FkZGNvcnAnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2FkZGNvcnAuaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdlZGl0Q29ycEN0cmwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9jb250YWN0bGlzdCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvY29udGFjdGxpc3QuaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgb3RoZXJ3aXNlKHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiAnL3NlYXJjaCdcbiAgICAgICAgICAgIH0pO1xuICAgIH1dKTtcblxuXG5cblxuIiwiYXBwLmZhY3RvcnkoJ2F1dGhJbnRlcmNlcHRvcicsIFsnJHEnLCAnJGxvY2F0aW9uJywgJ2F1dGhTZXJ2aWNlJywgZnVuY3Rpb24gKCRxLCAkbG9jYXRpb24sIGF1dGhTZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWVzdDogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcbiAgICAgICAgICAgIGlmIChhdXRoU2VydmljZS5pc0F1dGhlZCgpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8ICRxLndoZW4ocmVzcG9uc2UpO1xuICAgICAgICB9LCByZXNwb25zZUVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvXCIpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH07XG59XSkiLCJhcHAuc2VydmljZSgnYXV0aFNlcnZpY2UnLCBbJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHdpbmRvdykge1xuXG4gICAgdGhpcy5wYXJzZUp3dCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJhc2U2NFVybC5yZXBsYWNlKCctJywgJysnKS5yZXBsYWNlKCdfJywgJy8nKTtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcbiAgICAgICAgfSBlbHNlIHJldHVybiB7fTtcbiAgICB9O1xuXG4gICAgdGhpcy5zYXZlVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuand0VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnU2F2ZWQgdG9rZW46Jywkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbik7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0VG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbjtcbiAgICB9O1xuXG4gICAgdGhpcy5pc0F1dGhlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy5nZXRUb2tlbigpO1xuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnBhcnNlSnd0KHRva2VuKTtcbiAgICAgICAgICAgIHZhciBub3RFeHBpcmVkID0gTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApIDw9IHBhcmFtcy5leHA7XG4gICAgICAgICAgICBpZiAoIW5vdEV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vdEV4cGlyZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbjtcbiAgICB9O1xuXG4gICAgLy8gZXhwb3NlIHVzZXIgYXMgYW4gb2JqZWN0XG4gICAgdGhpcy5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUp3dCh0aGlzLmdldFRva2VuKCkpXG4gICAgfTtcbn1dKTsiLCIvL2VkaXQgY29ycG9yYXRpb24gbW9kYWwgdGVtcGxhdGVcbmFwcC5jb250cm9sbGVyKCdlZGl0Q29ycEN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAnJGxvZycsICdSZXN1bHRTZXJ2aWNlJywgJyRodHRwJywgJ3ZhbGlkU2VydmljZScsICdkYXRlU2VydmljZScsICd0b2FzdHInLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWwsICRsb2csIFJlc3VsdFNlcnZpY2UsICRodHRwLCB2YWxpZFNlcnZpY2UsIGRhdGVTZXJ2aWNlLCB0b2FzdHIpIHtcblxuXHQvLyBzZXRzIHZhbGlkYXRpb24gZnJvbSBzZXJ2aWNlIGZvciBkb20gY2FsbHNcblx0JHNjb3BlLnZhbGlkYXRlSW5wdXQgPSB2YWxpZFNlcnZpY2UudmFsaWRhdGVJbnB1dDtcblx0Ly9zZW5kcyB0aGUgY29tcGFuaWVzIGFmdGVyIHRoZSByZXN1bHRzIGhhdmUgYmVlbiBvcmdhbml6ZWRcblx0JHNjb3BlLmNvbXBhbmllcyA9IFJlc3VsdFNlcnZpY2UuY29tcGFuaWVzO1xuXHQkc2NvcGUuY29ycCA9IHtcblx0XHRpbmZvOiB7fSxcblx0XHRjb250YWN0OiB7fSxcblx0XHRkb25hdGlvbnM6IFtdXG5cdH07XG5cdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xuXHQkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuXG5cdCRzY29wZS5jbGVhckNvcnAgPSBmdW5jdGlvbiAoZm9ybXNBcnJheSkge1xuXHRcdHRvYXN0ci5lcnJvcignQ2FuY2VsbGVkJyk7XG5cdFx0JHNjb3BlLmNvcnAgPSB7XG5cdFx0XHRpbmZvOnt9LFxuXHRcdFx0Y29udGFjdDp7fSxcblx0XHRcdGRvbmF0aW9uczpbXVxuXHRcdH07XG5cdFx0JHNjb3BlLm5ld0RvbmF0aW9uID0ge307XG5cdFx0Zm9ybXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG5cdFx0XHQkKCcjJysgdiArJyAuanMtdmFsaWRhdGUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnaW52YWxpZCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJCh0aGlzKS5kYXRhKCdwbGFjZWhvbGRlcicpKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS5vcGVuID0gZnVuY3Rpb24gKHNpemUsIGlkKSB7XG5cdFx0Y29uc29sZS5sb2coJ2NvcnAgY2FsbCcsIGlkKTtcblx0XHRyZXR1cm4gJGh0dHAoe1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdHVybDogJy4uL2NvcnBvcmF0aW9uJyxcblx0XHRcdHBhcmFtczoge2lkOiBpZH1cblx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXG5cdFx0XHRyZXNwb25zZS5kYXRhLmRvbmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpLCBhKSB7XG5cdFx0XHRcdGFbaV0uZGF0ZSA9IGRhdGVTZXJ2aWNlLmZyb21EQih2LmRhdGUpO1xuXHRcdFx0fSk7XG5cblx0XHRcdCRzY29wZS5jb3JwID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuXHRcdFx0XHRhbmltYXRpb246ICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCxcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwcml2YXRlL2VkaXRjb3JwLmh0bWwnLFxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdFx0XHRzaXplOiBzaXplLFxuXHRcdFx0XHRzY29wZTogJHNjb3BlLFxuXHRcdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdFx0aXRlbXM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHJldHVybiAkc2NvcGUuY29ycDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcblx0XHRcdFx0JHNjb3BlLnNlbGVjdGVkID0gc2VsZWN0ZWRJdGVtO1xuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLnRvZ2dsZUFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHQkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSAhJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkO1xuXHR9O1xuXG5cdC8vIHNhdmUgY29ycFxuXHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRjb25zb2xlLmxvZyhcIlNhdmUgc3VibWl0dGVkXCIsICRzY29wZS5jb3JwKTtcblx0XHQvL2FsZXJ0KFwiU3VibWl0dGVkXCIpO1xuXG5cdFx0Ly8gY2hlY2sgZm9yIGRvbmF0aW9uLCBydW4gdG9EQiBmb3JtYXR0aW5nIGJlZm9yZSBzZW5kaW5nXG5cdFx0aWYoJHNjb3BlLmNvcnAuZG9uYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0JHNjb3BlLmNvcnAuZG9uYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHYsIGksIGEpIHtcblx0XHRcdFx0YVtpXS5kYXRlID0gZGF0ZVNlcnZpY2UudG9EQih2LmRhdGUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gaWYgaGFzIGlkLCB0aGVuIHB1dFxuXHRcdGlmKCEkc2NvcGUuY29ycC5pZCkge1xuXHRcdFx0aWYodmFsaWRTZXJ2aWNlLnZhbGlkYXRlRm9ybShbXCJBZGRDb3JwSW5mb0Zvcm1cIiwgXCJBZGRDb3JwQ29udGFjdEZvcm1cIl0pKSB7XG5cdFx0XHRcdCRodHRwKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0XHR1cmw6ICcvY29ycG9yYXRpb24nLFxuXHRcdFx0XHRcdGRhdGE6IHtjb3JwOiAkc2NvcGUuY29ycH1cblx0XHRcdFx0fSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJQb3N0ZWQgY29ycCwgZ290IGlkIFwiLCByZXMuZGF0YSk7XG5cdFx0XHRcdFx0JHNjb3BlLmNvcnAuaWQgPSByZXMuZGF0YS5pZDtcblx0XHRcdFx0XHQkc2NvcGUuY29ycC5pbmZvID0gKHJlcy5kYXRhLmluZm8pID8gcmVzLmRhdGEuaW5mbyA6IHt9O1xuXHRcdFx0XHRcdCRzY29wZS5jb250YWN0ID0gKHJlcy5kYXRhLmNvbnRhY3QpID8gcmVzLmRhdGEuY29udGFjdCA6IHt9O1xuXHRcdFx0XHRcdC8vIGluaXRpYWxpemUgZG9uYXRpb25zIGlmIHRoZXJlIGFyZSBhbnlcblx0XHRcdFx0XHRpZiAoJHNjb3BlLmNvcnAuZG9uYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0JHNjb3BlLmNvcnAuZG9uYXRpb25zID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCRzY29wZS5kb25hdGlvbnMgPSAocmVzLmRhdGEuZG9uYXRpb25zKSA/IHJlcy5kYXRhLmRvbmF0aW9ucyA6IHt9O1xuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdDb3Jwb3JhdGlvbiBhZGRlZCEnKTtcblx0XHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGFkZCBjb3Jwb3JhdGlvbicpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0dG9hc3RyLmVycm9yKCdVbmF1dGhvcml6ZWQgY2hhcmFjdGVyJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiQWRkIGNvcnAgaW5wdXQgdGVzdHMgZmFpbGVkXCIpO1xuXHRcdFx0fVxuXHRcdH1lbHNlIHtcblx0XHRcdGlmKHZhbGlkU2VydmljZS52YWxpZGF0ZUZvcm0oW1wiRWRpdENvcnBJbmZvRm9ybVwiLCBcIkVkaXRDb3JwQ29udGFjdEZvcm1cIl0pKSB7XG5cdFx0XHRcdC8vIGluc2VydCBjb3JwIC0gaGFzIG5vIGlkXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwidXBkYXRlIGNvcnBcIiwgJHNjb3BlLmNvcnApO1xuXHRcdFx0XHQkaHR0cCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0XHR1cmw6ICcvY29ycG9yYXRpb24nLFxuXHRcdFx0XHRcdGRhdGE6IHtjb3JwOiAkc2NvcGUuY29ycH1cblx0XHRcdFx0fSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJQdXQgY29ycCwgZ290IGlkIFwiLCByZXMuZGF0YSk7XG5cblx0XHRcdFx0XHQkc2NvcGUuY29ycC5pZCA9IHJlcy5kYXRhLmlkO1xuXHRcdFx0XHRcdCRzY29wZS5jb3JwLmluZm8gPSAocmVzLmRhdGEuaW5mbykgPyByZXMuZGF0YS5pbmZvIDoge307XG5cdFx0XHRcdFx0JHNjb3BlLmNvbnRhY3QgPSAocmVzLmRhdGEuY29udGFjdCkgPyByZXMuZGF0YS5jb250YWN0IDoge307XG5cdFx0XHRcdFx0Ly8gaW5pdGlhbGl6ZSBkb25hdGlvbnMgaWYgdGhlcmUgYXJlIGFueVxuXHRcdFx0XHRcdGlmICgkc2NvcGUuY29ycC5kb25hdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkc2NvcGUuY29ycC5kb25hdGlvbnMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHNjb3BlLmRvbmF0aW9ucyA9IChyZXMuZGF0YS5kb25hdGlvbnMpID8gcmVzLmRhdGEuZG9uYXRpb25zIDoge307XG5cdFx0XHRcdH0pO1xuXHRcdFx0fWVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkVkaXQgY29ycCBpbnB1dCB0ZXN0cyBmYWlsZWRcIik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIGFkZHMgZG9uYXRpb24gdG8gZmFtaWx5IG9iamVjdFxuXHQkc2NvcGUuYWRkRG9uYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRlbXAgPSAkc2NvcGUubmV3RG9uYXRpb247XG5cdFx0dGVtcC5kYXRlID0gZGF0ZVNlcnZpY2UudG9EQih0ZW1wLmRhdGUpO1xuXHRcdCRzY29wZS5jb3JwLmRvbmF0aW9ucy5wdXNoKCRzY29wZS5uZXdEb25hdGlvbik7XG5cdFx0JHNjb3BlLm5ld0RvbmF0aW9uID0ge307XG5cdFx0Y29uc29sZS5sb2coXCJhZGRlZCBkb25hdGlvblwiLCB0ZW1wLCAkc2NvcGUuY29ycC5kb25hdGlvbnMpO1xuXHR9O1xuXG59XSk7IiwiYXBwLmNvbnRyb2xsZXIoJ2NyZWF0ZUxpc3RTZWFyY2gnLCBbJyRzY29wZScsICckaHR0cCcsICdDb250YWN0TGlzdERhdGFTZXJ2aWNlJywgJ25ld0NvbnRhY3RMaXN0RGF0YScsICd0b2FzdHInLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCBDb250YWN0TGlzdERhdGFTZXJ2aWNlLG5ld0NvbnRhY3RMaXN0RGF0YSwgdG9hc3RyLCAkcm9vdFNjb3BlKSB7XG4gICAgJHNjb3BlLnR5cGUgPXt9O1xuICAgICRzY29wZS5hZ2U9e307XG4gICAgJHNjb3BlLnppcD17fTtcblx0Ly8gaW5jbHVkZSBsaXN0IG5lZWRzIHRvIGJlIHdpdGhpbiBhbiBvYmplY3QgZHVlIHRvIHRoZSBjaGVja2JveGVzIGJlaW5nIGluIGEgdGFibGVcblx0JHNjb3BlLmVtYWlscyA9IHt9O1xuICAgICRzY29wZS5lbWFpbHMuaW5jbHVkZWRFbWFpbHMgPSBbXTtcblx0JHNjb3BlLmluY2x1ZGVkRW1haWxzID0gW107XG5cdCRzY29wZS50b3RhbERpc3BsYXllZCA9IDUwO1xuXHQkc2NvcGUudG90YWxSZXN1bHRzID0gMDtcbiAgICAvLyRyb290U2NvcGUuaGlkZSA9IHRydWU7XG5cblxuXG4gICAgJHNjb3BlLmVtYWlsTGlzdCA9IFsgXTtcbiAgICAkc2NvcGUuc2VhcmNoTGlzdEJ0biA9IGZ1bmN0aW9uICgpIHtcblx0XHQkc2NvcGUuZW1haWxMaXN0ID0gW107XG5cblxuICAgICAgICAvL1RISVMgV09SS1MgIC0tIHdpbGwgc2VhcmNoIGJ5IHppcFxuICAgICAgICBpZiAoJHNjb3BlLnR5cGUgPT0gJ3ppcENrJykge1xuXG4gICAgICAgICAgICBDb250YWN0TGlzdERhdGFTZXJ2aWNlLm1ha2VEYXRhQ2FsbCgnemlwJywgJHNjb3BlLnppcC5kYXRhKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5lbWFpbExpc3QgPSBkYXRhO1xuXHRcdFx0XHRcdCRzY29wZS50b3RhbFJlc3VsdHMgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygkc2NvcGUuZW1haWxMaXN0KTtcblx0XHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnTG9hZGVkICcrICRzY29wZS50b3RhbFJlc3VsdHMgKycgcmVzdWx0cycpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJlc3VsdHMnKTtcblx0XHRcdFx0fSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vVEhJUyBXT1JLUyAtIHdpbGwgc2VhcmNoIGJ5IGFnZVxuICAgICAgICBpZiAoJHNjb3BlLnR5cGUgPT0gJ2FnZUNrJykge1xuICAgICAgICAgICAgdmFyIGFnZSA9IENvbnRhY3RMaXN0RGF0YVNlcnZpY2UubWFrZURhdGFDYWxsKCdhZ2UnLCAkc2NvcGUuYWdlLmRhdGEpO1xuICAgICAgICAgICAgYWdlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgICRzY29wZS5lbWFpbExpc3QgPSBkYXRhO1xuXHRcdFx0XHQkc2NvcGUudG90YWxSZXN1bHRzID0gZGF0YS5sZW5ndGg7XG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdMb2FkZWQgJysgJHNjb3BlLnRvdGFsUmVzdWx0cyArJyByZXN1bHRzJyk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVzdWx0cycpO1xuXHRcdFx0fSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL1RISVMgV09SS1MgLS1nZXQgYWxsIGZhbWlsaWVzIGlmIGZhbSBpcyB0cnVlXG4gICAgICAgIGlmICgkc2NvcGUudHlwZSA9PSAnZmFtJykge1xuICAgICAgICAgICAgdmFyIGZhbSA9IENvbnRhY3RMaXN0RGF0YVNlcnZpY2UubWFrZURhdGFDYWxsKCdmYW1pbHknLCAnJyk7XG4gICAgICAgICAgICBmYW0udGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lbWFpbExpc3QgPSBkYXRhO1xuXHRcdFx0XHQkc2NvcGUudG90YWxSZXN1bHRzID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0xvYWRlZCAnKyAkc2NvcGUudG90YWxSZXN1bHRzICsnIHJlc3VsdHMnKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCByZXN1bHRzJyk7XG5cdFx0XHR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vZ2V0IGFsbCBjb3JwIGlmIGNvcnAgaXMgdHJ1ZVxuICAgICAgICBpZiAoJHNjb3BlLnR5cGUgPT0gJ2NvcnAnKSB7XG4gICAgICAgICAgICB2YXIgY29tcCA9IENvbnRhY3RMaXN0RGF0YVNlcnZpY2UubWFrZURhdGFDYWxsKCdjb21wYW55JywgJycpO1xuICAgICAgICAgICAgY29tcC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XG5cdFx0XHRcdCRzY29wZS50b3RhbFJlc3VsdHMgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnTG9hZGVkICcrICRzY29wZS50b3RhbFJlc3VsdHMgKycgcmVzdWx0cycpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJlc3VsdHMnKTtcblx0XHRcdH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9lbXB0eSB0aGUgc2VhcmNoIGJveFxuICAgICAgICRzY29wZS50eXBlPXt9O1xuICAgICAgICAkc2NvcGUuYWdlPXt9O1xuICAgICAgICAkc2NvcGUuemlwPXt9O1xuXG4gICAgfTtcbiAgICAkc2NvcGUucG9wdWxhdGVMaXN0ICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9hbGVydCgnd29ya2luZycpO1xuICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuZW1haWxzLmluY2x1ZGVkRW1haWxzKTtcbiAgICAgICAgaWYobmV3Q29udGFjdExpc3REYXRhLnBvcExpc3QoJHNjb3BlLmVtYWlscy5pbmNsdWRlZEVtYWlscykpIHtcblx0XHRcdHRvYXN0ci5zdWNjZXNzKCdTdWNjZXNzZnVsbHkgZGVwbG95ZWQgY29udGFjdCBsaXN0LicpO1xuXHRcdH1lbHNlIHtcblx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGRlcGxveSBjb250YWN0IGxpc3QuJyk7XG5cdFx0fVxuICB9O1xuXG5cdCRzY29wZS5sb2FkTW9yZSA9IGZ1bmN0aW9uICgpIHtcblx0XHQkc2NvcGUudG90YWxEaXNwbGF5ZWQgKz0gNTA7XG5cdH07XG5cblx0JHNjb3BlLnNob3dBbGwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0JHNjb3BlLnRvdGFsRGlzcGxheWVkID0gJHNjb3BlLnRvdGFsUmVzdWx0cztcblx0fTtcblxuXHQkc2NvcGUuY2hlY2tBbGwgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciAkYnV0dG9uID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LnRhcmdldCk7XG5cdFx0aWYoJHNjb3BlLmVtYWlscy5pbmNsdWRlZEVtYWlscy5sZW5ndGggPT0gJHNjb3BlLnRvdGFsUmVzdWx0cykge1xuXHRcdFx0JHNjb3BlLmVtYWlscy5pbmNsdWRlZEVtYWlscyA9IFtdO1xuXHRcdFx0JGJ1dHRvbi52YWwoXCJDaGVjayBBbGxcIik7XG5cdFx0fWVsc2V7XG5cdFx0XHQkc2NvcGUuZW1haWxzLmluY2x1ZGVkRW1haWxzID0gYW5ndWxhci5jb3B5KCRzY29wZS5lbWFpbExpc3QpO1xuXHRcdFx0JGJ1dHRvbi52YWwoXCJVbmNoZWNrIEFsbFwiKTtcblx0XHR9XG5cdH07XG59XSk7XG5cblxuIiwiYXBwLmZhY3RvcnkoJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCBbJyRodHRwJywgJyRxJywgZnVuY3Rpb24gKCRodHRwLCAkcSkge1xuXG4gICAgZnVuY3Rpb24gbWFrZURhdGFDYWxsKHR5cGUsIHBhc3NlZERhdGEpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgaW4gdGhlIG1ha2UgZGF0YSBjYWxsJywgdHlwZSwgcGFzc2VkRGF0YSk7XG4gICAgICAgICRodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6ICcuLi9jcmVhdGVNYWlsTGlzdCcsXG4gICAgICAgICAgICBwYXJhbXM6IHt0eXBlOiB0eXBlLCBzZWFyY2g6IHBhc3NlZERhdGF9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgbWFrZURhdGFDYWxsOiBtYWtlRGF0YUNhbGxcbiAgICB9O1xuXG5cbn1dKTsiLCJhcHAuc2VydmljZSgnZGF0ZVNlcnZpY2UnLCBbJ01vbWVudEpTJywgZnVuY3Rpb24gKG1vbWVudCkge1xuXHR2YXIgZGJGb3JtYXQgPSBcIllZWVktTU0tRERcIjtcblx0dmFyIHVpRm9ybWF0ID0gXCJNL0QvWVlZWVwiO1xuXG5cdHZhciB0b0RiRm9ybWF0ID0gZnVuY3Rpb24gKGRhdGUpIHtcblx0XHRyZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChkYkZvcm1hdCk7XG5cdH07XG5cblx0dmFyIGZyb21EYkZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQodWlGb3JtYXQpO1xuXHR9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9EQjogdG9EYkZvcm1hdCxcblx0XHRmcm9tREI6IGZyb21EYkZvcm1hdFxuICAgIH07XG59XSk7IiwiLy9lZGl0IGZhbWlseSBtb2RhbCB0ZW1wbGF0ZVxuYXBwLmNvbnRyb2xsZXIoJ2VkaXRGYW1pbHlDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJyRsb2cnLCAnUmVzdWx0U2VydmljZScsICckaHR0cCcsICd2YWxpZFNlcnZpY2UnLCAndG9hc3RyJywnZGF0ZVNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWwsICRsb2csIFJlc3VsdFNlcnZpY2UsICRodHRwLCB2YWxpZFNlcnZpY2UsIHRvYXN0ciwgZGF0ZVNlcnZpY2UpIHtcblx0Ly8gc2V0cyB2YWxpZGF0aW9uIGZyb20gc2VydmljZSBmb3IgZG9tIGNhbGxzXG5cdCRzY29wZS52YWxpZGF0ZUlucHV0ID0gdmFsaWRTZXJ2aWNlLnZhbGlkYXRlSW5wdXQ7XG5cdC8vc2VuZHMgdGhlIGFkdWx0cyBhbmQga2lkcyBhZnRlciB0aGUgcmVzdWx0cyBoYXZlIGJlZW4gb3JnYW5pemVkXG5cdCRzY29wZS5hZHVsdHMgPSBSZXN1bHRTZXJ2aWNlLmFkdWx0cztcblx0JHNjb3BlLmtpZHMgPSBSZXN1bHRTZXJ2aWNlLmtpZHM7XG5cdCRzY29wZS5mYW1pbHkgPSB7XG5cdFx0YWR1bHRPbmU6IHt9LFxuXHRcdGFkdWx0VHdvOiB7fSxcblx0XHRlbWVyZ2VuY3k6IHt9LFxuXHRcdGNoaWxkcmVuOiBbXSxcblx0XHRkb25hdGlvbnM6IFtdXG5cdH07XG5cdCRzY29wZS5uZXdDaGlsZCA9IHt9O1xuXHQkc2NvcGUubmV3RG9uYXRpb24gPSB7fTtcblxuXHQkc2NvcGUuY2xlYXJGYW1pbHkgPSBmdW5jdGlvbiAoZm9ybXNBcnJheSkge1xuXHRcdHRvYXN0ci5lcnJvcignQ2FuY2VsbGVkJyk7XG5cdFx0JHNjb3BlLmZhbWlseSA9IHtcblx0XHRcdGFkdWx0T25lOiB7fSxcblx0XHRcdGFkdWx0VHdvOiB7fSxcblx0XHRcdGVtZXJnZW5jeToge30sXG5cdFx0XHRjaGlsZHJlbjogW10sXG5cdFx0XHRkb25hdGlvbnM6IFtdXG5cdFx0fTtcblx0XHQkc2NvcGUubmV3Q2hpbGQgPSB7fTtcblx0XHQkc2NvcGUubmV3RG9uYXRpb24gPSB7fTtcblx0XHRmb3Jtc0FycmF5LmZvckVhY2goZnVuY3Rpb24gKHYpIHtcblx0XHRcdCQoJyMnKyB2ICsnIC5qcy12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnZhbGlkJykuYXR0cigncGxhY2Vob2xkZXInLCAkKHRoaXMpLmRhdGEoJ3BsYWNlaG9sZGVyJykpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblxuXG5cdCRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XG5cdCRzY29wZS5vcGVuID0gZnVuY3Rpb24gKHNpemUsIGlkKSB7XG5cdFx0Y29uc29sZS5sb2coJ2ZhbWlseSBjYWxsJywgaWQpO1xuXHRcdHJldHVybiAkaHR0cCh7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0dXJsOiAnLi4vZmFtaWx5Jyxcblx0XHRcdHBhcmFtczoge2lkOiBpZH1cblx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRyZXNwb25zZS5kYXRhLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHYsIGksIGEpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJyZWZvcm1hdHRlZFwiLCBkYXRlU2VydmljZS5mcm9tREIoYVtpXS5iaXJ0aGRhdGUpKTtcblx0XHRcdFx0YVtpXS5iaXJ0aGRhdGUgPSBkYXRlU2VydmljZS5mcm9tREIodi5iaXJ0aGRhdGUpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXNwb25zZS5kYXRhLmRvbmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpLCBhKSB7XG5cdFx0XHRcdGFbaV0uZGF0ZSA9IGRhdGVTZXJ2aWNlLmZyb21EQih2LmRhdGUpO1xuXHRcdFx0fSk7XG5cdFx0XHQkc2NvcGUuZmFtaWx5ID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuXHRcdFx0XHRhbmltYXRpb246ICRzY29wZS5hbmltYXRpb25zRW5hYmxlZCxcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwcml2YXRlL2VkaXRmYW1pbHkuaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0XHRcdHNpemU6IHNpemUsXG5cdFx0XHRcdHNjb3BlOiAkc2NvcGUsXG5cdFx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0XHRpdGVtczogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICRzY29wZS5mYW1pbHk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbGVjdGVkSXRlbSkge1xuXHRcdFx0XHQkc2NvcGUuc2VsZWN0ZWQgPSBzZWxlY3RlZEl0ZW07XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXHQkc2NvcGUudG9nZ2xlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuXHRcdCRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9ICEkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQ7XG5cdH07XG5cblx0Ly8gc2F2ZSBmYW1pbHlcblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJTYXZlIHN1Ym1pdHRlZFwiLCAkc2NvcGUuZmFtaWx5KTtcblxuXHRcdC8vIGNoZWNrIGZvciBjaGlsZHJlbiwgcnVuIHRvREIgZm9ybWF0dGluZyBiZWZvcmUgc2VuZGluZ1xuXHRcdGlmKCRzY29wZS5mYW1pbHkuY2hpbGRyZW4ubGVuZ3RoKSB7XG5cdFx0XHQkc2NvcGUuZmFtaWx5LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHYsIGksIGEpIHtcblx0XHRcdFx0YVtpXS5iaXJ0aGRhdGUgPSBkYXRlU2VydmljZS50b0RCKHYuYmlydGhkYXRlKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIGNoZWNrIGZvciBkb25hdGlvbiwgcnVuIHRvREIgZm9ybWF0dGluZyBiZWZvcmUgc2VuZGluZ1xuXHRcdGlmKCRzY29wZS5mYW1pbHkuZG9uYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xuXHRcdFx0XHRhW2ldLmRhdGUgPSBkYXRlU2VydmljZS50b0RCKHYuZGF0ZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhcIlNhdmluZyBmYW1pbHksIGFmdGVyIHRvREIgYmlydGhkYXRlc1wiLCAkc2NvcGUuZmFtaWx5KTtcblxuXHRcdC8vIGlmIGhhcyBpZCwgdGhlbiBwb3N0XG5cblx0XHRpZighJHNjb3BlLmZhbWlseS5pZCkge1xuXG5cdFx0XHRpZih2YWxpZFNlcnZpY2UudmFsaWRhdGVGb3JtKFtcIkFkZEZhbUluZm9Gb3JtXCIsIFwiQWRkRmFtRW1lckZvcm1cIl0pKSB7XG5cdFx0XHRcdCRodHRwKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0XHR1cmw6ICcvZmFtaWx5Jyxcblx0XHRcdFx0XHRkYXRhOiB7ZmFtaWx5OiAkc2NvcGUuZmFtaWx5fVxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlBvc3RlZCBmYW1pbHksIGdvdCBpZCBcIiwgcmVzLmRhdGEpO1xuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuaWQgPSByZXMuZGF0YS5pZDtcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmFkdWx0T25lID0gKHJlcy5kYXRhLmFkdWx0T25lKSA/IHJlcy5kYXRhLmFkdWx0T25lIDoge307XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5hZHVsdFR3byA9IChyZXMuZGF0YS5hZHVsdFR3bykgPyByZXMuZGF0YS5hZHVsdFR3byA6IHt9O1xuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZW1lcmdlbmN5ID0gKHJlcy5kYXRhLmVtZXJnZW5jeSkgPyByZXMuZGF0YS5lbWVyZ2VuY3kgOiB7fTtcblx0XHRcdFx0XHRpZiAoJHNjb3BlLmZhbWlseS5jaGlsZHJlbi5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4gPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbiA9IChyZXMuZGF0YS5jaGlsZHJlbikgPyByZXMuZGF0YS5jaGlsZHJlbiA6IFtdO1xuXHRcdFx0XHRcdGlmICgkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZG9uYXRpb25zID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZG9uYXRpb25zID0gKHJlcy5kYXRhLmRvbmF0aW9ucykgPyByZXMuZGF0YS5kb25hdGlvbnMgOiBbXTtcblx0XHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnRmFtaWx5IHNhdmVkIScpO1xuXHRcdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gYWRkIGZhbWlseScpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0dG9hc3RyLmVycm9yKCdVbmF1dGhvcml6ZWQgY2hhcmFjdGVyJyk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiQWRkIGZhbWlseSBmYWlsZWQgaW5wdXQgdGVzdHNcIik7XG5cdFx0XHR9XG5cdFx0fWVsc2Uge1xuXHRcdFx0aWYodmFsaWRTZXJ2aWNlLnZhbGlkYXRlRm9ybShbXCJFZGl0RmFtSW5mb0Zvcm1cIiwgXCJFZGl0RmFtRW1lckZvcm1cIl0pKSB7XG5cdFx0XHRcdC8vIHVwZGF0ZSBmYW1pbHkgLSBoYXMgbm8gaWRcblx0XHRcdFx0Y29uc29sZS5sb2coXCJ1cGRhdGUgZmFtaWx5XCIsICRzY29wZS5mYW1pbHkpO1xuXHRcdFx0XHQkaHR0cCh7XG5cdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0XHR1cmw6ICcvZmFtaWx5Jyxcblx0XHRcdFx0XHRkYXRhOiB7ZmFtaWx5OiAkc2NvcGUuZmFtaWx5fVxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlB1dCBmYW1pbHksIGdvdCBpZCBcIiwgcmVzLmRhdGEpO1xuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuaWQgPSByZXMuZGF0YS5pZDtcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmFkdWx0T25lID0gKHJlcy5kYXRhLmFkdWx0T25lKSA/IHJlcy5kYXRhLmFkdWx0T25lIDoge307XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5hZHVsdFR3byA9IChyZXMuZGF0YS5hZHVsdFR3bykgPyByZXMuZGF0YS5hZHVsdFR3byA6IHt9O1xuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZW1lcmdlbmN5ID0gKHJlcy5kYXRhLmVtZXJnZW5jeSkgPyByZXMuZGF0YS5lbWVyZ2VuY3kgOiB7fTtcblx0XHRcdFx0XHRpZiAoJHNjb3BlLmZhbWlseS5jaGlsZHJlbi5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4gPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbiA9IChyZXMuZGF0YS5jaGlsZHJlbikgPyByZXMuZGF0YS5jaGlsZHJlbiA6IFtdO1xuXHRcdFx0XHRcdGlmICgkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZG9uYXRpb25zID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZG9uYXRpb25zID0gKHJlcy5kYXRhLmRvbmF0aW9ucykgPyByZXMuZGF0YS5kb25hdGlvbnMgOiBbXTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRWRpdCBmYW1pbHkgZmFpbGVkIGlucHV0IHRlc3RzXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvLyBmb3IgYXBwZW5kaW5nIGNoaWxkcmVuIHRvIG1vZGVsIGJlZm9yZSBzYXZpbmcgbmV3IGZhbWlseVxuXHQkc2NvcGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJjaGlsZCBhZGRlZFwiLCAkc2NvcGUubmV3Q2hpbGQsICRzY29wZS5mYW1pbHkuY2hpbGRyZW4pO1xuXHRcdC8vIGlmIHRydWUsIHRoZW4gdXBkYXRlIHRoYXQgaW5kZXhcblx0XHRpZigkc2NvcGUuZWRpdGluZ0NoaWxkKSB7XG5cdFx0XHQkc2NvcGUuZmFtaWx5LmNoaWxkcmVuWyRzY29wZS5lZGl0aW5nQ2hpbGRdID0gJHNjb3BlLm5ld0NoaWxkO1xuXHRcdFx0JHNjb3BlLmVkaXRpbmdDaGlsZCA9IGZhbHNlO1xuXHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0NoaWxkIHVwZGF0ZWQhJyk7XG5cdFx0fWVsc2Uge1xuXHRcdFx0Ly8gZWxzZSBwdXNoIHRvIGFycmF5XG5cdFx0XHQkc2NvcGUuZmFtaWx5LmNoaWxkcmVuLnB1c2goJHNjb3BlLm5ld0NoaWxkKTtcblx0XHRcdHRvYXN0ci5zdWNjZXNzKCdDaGlsZCBhZGRlZCEnKTtcblx0XHR9XG5cdFx0JHNjb3BlLm5ld0NoaWxkID0ge307XG5cdH07XG5cblx0Ly8gZWRpdCBjaGlsZCBvbiB0aGUgYWRkIGNoaWxkcmVuIHRhYiBvZiBhZGQgZmFtaWx5XG5cdCRzY29wZS5lZGl0Q2hpbGQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0XHQvLyBzYXZlIGluZGV4IG9mIGNoaWxkIGVkaXRpbmdcblx0XHQkc2NvcGUuZWRpdGluZ0NoaWxkID0gaW5kZXg7XG5cdFx0JHNjb3BlLm5ld0NoaWxkID0gJHNjb3BlLmZhbWlseS5jaGlsZHJlbltpbmRleF07XG5cdH07XG5cblx0JHNjb3BlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKGluZGV4KSB7XG5cdFx0Y29uc29sZS5sb2coXCJpbiByZW1vdmUgY2hpbGQgaW5kZXhcIiwgaW5kZXgsIFwiIGVkaXQgXCIsICRzY29wZS5lZGl0aW5nQ2hpbGQpO1xuXHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcblx0XHRpZihpbmRleCA9PSAkc2NvcGUuZWRpdGluZ0NoaWxkKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcImVkaXQgbWF0Y2hcIik7XG5cdFx0XHQkc2NvcGUuY2xlYXJDaGlsZCgpO1xuXHRcdH1lbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKFwibm8gZWRpdCBtYXRjaFwiKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gY2xlYXJzIHRleHQgYm94ZXMgaW4gYWRkIGZhbWlseS0+Y2hpbGRyZW4gdGFiXG5cdCRzY29wZS5jbGVhckNoaWxkID0gZnVuY3Rpb24gKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiaW4gY2xlYXIgY2hpbGRcIik7XG5cdFx0JHNjb3BlLm5ld0NoaWxkID0ge1xuXHRcdFx0Zmlyc3ROYW1lOiAnJyxcblx0XHRcdGxhc3ROYW1lOiAnJyxcblx0XHRcdGJpcnRoZGF0ZTogJycsXG5cdFx0XHRzY2hvb2w6ICcnLFxuXHRcdFx0bm90ZXM6ICcnXG5cdFx0fTtcblx0XHQkc2NvcGUuZWRpdGluZ0NoaWxkID0gZmFsc2U7XG5cdH07XG5cblxuXHQvLyBhZGRzIGRvbmF0aW9uIHRvIGZhbWlseSBvYmplY3RcblxuLy8gYWRkcyBkb25hdGlvbiB0byBmYW1pbHkgb2JqZWN0XG5cdCRzY29wZS5hZGREb25hdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGVtcCA9ICRzY29wZS5uZXdEb25hdGlvbjtcblx0XHR0ZW1wLmRhdGUgPSBkYXRlU2VydmljZS50b0RCKHRlbXAuZGF0ZSk7XG5cdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMucHVzaCgkc2NvcGUubmV3RG9uYXRpb24pO1xuXHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xuXHRcdGNvbnNvbGUubG9nKFwiYWRkZWQgZG9uYXRpb25cIiwgdGVtcCwgJHNjb3BlLmZhbWlseS5kb25hdGlvbnMpO1xuXHR9O1xuXG5cdC8vLy8gcHJldmVudCBhY2NpZGVudGFsIGJhY2tzXG5cdC8vJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCBldmVudCwgb2xkVXJsICkge1xuXHQvL1x0Y29uc29sZS5sb2coXCJvbGQgdXJsOiBcIiwgb2xkVXJsKTtcblx0Ly9cdGlmKC8oYWRkZmFtaWx5KS8udGVzdChvbGRVcmwpKSB7XG5cdC8vXHRcdHZhciBhbnN3ZXIgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoaXMgcGFnZT9cIik7XG5cdC8vXHRcdGlmICghYW5zd2VyKSB7XG5cdC8vXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0Ly9cdFx0fVxuXHQvL1x0fVxuXHQvL30pO1xuXG59XSk7IiwiLy9jb250cm9sbGVycyBmb3IgbG9naW5cbmFwcC5jb250cm9sbGVyKCdsb2dpbkN0cmwnLCBbJyRzY29wZScsICckaHR0cCcsICdhdXRoU2VydmljZScsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsICd0b2FzdHInLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCBhdXRoU2VydmljZSwgJGxvY2F0aW9uLCAkcm9vdFNjb3BlLCB0b2FzdHIpe1xuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAkaHR0cC5wb3N0KCcvbG9naW4nLCAkc2NvcGUuZm9ybSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGF1dGhTZXJ2aWNlLnNhdmVUb2tlbihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvc2VhcmNoXCIpO1xuICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignaW5jb3JyZWN0IHVzZXJuYW1lIG9yIHBhc3N3b3JkJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9O1xufV0pO1xuIiwiXG4vL1RoaXMgc2hvdWxkIGdldCB0aGUgc2VhcmNoIGl0ZW1cbmFwcC5jb250cm9sbGVyKCdzZWFyY2hGdW5jdGlvbicsIFsnJHNjb3BlJywgJyRodHRwJywgJ1Jlc3VsdFNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgUmVzdWx0U2VydmljZSkge1xuICAgICRzY29wZS5mb3JtSW5wdXQ9e307XG5cbiAgICAkc2NvcGUuc2VhcmNoQnRuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL3Bhc3NlcyBpbiBzZWFyY2ggdGV4dCB0byBzZXJ2aWNlXG4gICAgICAgUmVzdWx0U2VydmljZS5tYWtlRGF0YUNhbGwoJHNjb3BlLmZvcm1JbnB1dC5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgdGhlIGlucHV0IHRleHQnLCAkc2NvcGUuZm9ybUlucHV0KTtcbiAgICAgICAgLy9lbXB0eXMgdGhlIHNlYXJjaCBib3hcbiAgICAgICAgJHNjb3BlLmZvcm1JbnB1dD17fTtcbiAgICB9O1xuXG59XSk7XG4iLCIvL1RoaXMgc2VydmljZSBzaG91bGQgcGFzcyBkYXRhIGJldHdlZW4gY29udHJvbGxlcnNcbmFwcC5mYWN0b3J5KCdSZXN1bHRTZXJ2aWNlJywgWyckaHR0cCcsZnVuY3Rpb24oJGh0dHApIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciBhZHVsdHMgPSBbXTtcbiAgICB2YXIgY29tcGFuaWVzID0gW107XG4gICAgdmFyIGtpZHMgPSBbXTtcblxuICAgIHZhciBtYWtlRGF0YUNhbGwgPSBmdW5jdGlvbihwYXNzZWREYXRhKSB7XG4gICAgICAgIHJldHVybiAkaHR0cCh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgdXJsOiAnLi4vc2VhcmNoJyxcbiAgICAgICAgICAgIHBhcmFtczp7c2VhcmNoOnBhc3NlZERhdGF9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIGdldENvbXBhbmllcyhyZXN1bHRzKTtcbiAgICAgICAgICAgIGdldEtpZHMocmVzdWx0cyk7XG4gICAgICAgICAgICBnZXRBZHVsdHMocmVzdWx0cyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGdldENvbXBhbmllcyA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIHZhciBnZXRFbGVtZW50MSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgICAgICBjb21wYW5pZXMuc3BsaWNlKDAsY29tcGFuaWVzLmxlbmd0aCk7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2NvbXBhbnknKVxuICAgICAgICAgICAgICAgIGNvbXBhbmllcy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICBnZXRFbGVtZW50MShhcnJheSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIGdldEVsZW1lbnQxJyxjb21wYW5pZXMpO1xuICAgICAgICByZXR1cm4gY29tcGFuaWVzXG4gICAgfTtcblxuICAgIHZhciBnZXRBZHVsdHMgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICB2YXIgZ2V0RWxlbWVudDIgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAgYWR1bHRzLnNwbGljZSgwLGFkdWx0cy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdhZHVsdCcpXG4gICAgICAgICAgICAgICAgICAgIGFkdWx0cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0RWxlbWVudDIoYXJyYXkpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBpbiBnZXRFbGVtZW50MicsIGFkdWx0cyk7XG4gICAgICAgIHJldHVybiBhZHVsdHNcbiAgICB9O1xuXG4gICAgdmFyIGdldEtpZHMgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICB2YXIgZ2V0RWxlbWVudDMgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAga2lkcy5zcGxpY2UoMCxraWRzLmxlbmd0aCk7XG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT0gJ2NoaWxkJylcbiAgICAgICAgICAgICAgICAgICAga2lkcy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0RWxlbWVudDMoYXJyYXkpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBnZXRFbGVtZW50czMnLCBraWRzKTtcbiAgICAgICAgcmV0dXJuIGtpZHNcbiAgICB9O1xuXG4gICAgLy9wdWJsaWNcbiAgICB2YXIgcHVibGljQXBpID0ge1xuICAgICAgICBnZXRLaWRzOiBnZXRLaWRzLFxuICAgICAgICBnZXRBZHVsdHM6IGdldEFkdWx0cyxcbiAgICAgICAgZ2V0Q29tcGFuaWVzOiBnZXRDb21wYW5pZXMsXG4gICAgICAgIG1ha2VEYXRhQ2FsbDogbWFrZURhdGFDYWxsLFxuICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICBjb21wYW5pZXM6IGNvbXBhbmllcyxcbiAgICAgICAgYWR1bHRzOiBhZHVsdHMsXG4gICAgICAgIGtpZHM6IGtpZHNcbiAgICB9O1xuICAgIHJldHVybiBwdWJsaWNBcGk7XG59XSk7IiwiLy8gUGxlYXNlIG5vdGUgdGhhdCAkbW9kYWxJbnN0YW5jZSByZXByZXNlbnRzIGEgbW9kYWwgd2luZG93IChpbnN0YW5jZSkgZGVwZW5kZW5jeS5cbi8vIEl0IGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgJHVpYk1vZGFsIHNlcnZpY2UgdXNlZCBhYm92ZS5cblxuLy9uZWVkZWQgZm9yIG1vZGFsPz8gcHJldHR5IHN1cmVcbmFwcC5jb250cm9sbGVyKCdNb2RhbEluc3RhbmNlQ3RybCcsWyckc2NvcGUnLCckbW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlKSB7XG5cbiAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRtb2RhbEluc3RhbmNlLmNsb3NlKCRzY29wZS5zZWxlY3RlZC5pdGVtKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgfTtcbn1dKTsiLCJhcHAuY29udHJvbGxlcignbmF2Q3RybCcsIFsnYXV0aFNlcnZpY2UnLCckc2NvcGUnLCckcm9vdFNjb3BlJywnJGxvY2F0aW9uJywgZnVuY3Rpb24oYXV0aFNlcnZpY2UsICRzY29wZSwgJHJvb3RTY29wZSwgJGxvY2F0aW9uKXtcbiAgICAkcm9vdFNjb3BlLnVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG5cbiAgICBpZigkcm9vdFNjb3BlLnVzZXIgJiYgJHJvb3RTY29wZS51c2VyLnVzZXJuYW1lKXtcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ob21lJyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGF1dGhTZXJ2aWNlLmxvZ291dCgpO1xuICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcbiAgICB9XG59XSk7XG4iLCIvLyBBamF4IGZvciBjcmVhdGluZyB0aGUgY29udGFjdCBsaXN0IGluIGNvbnN0YW50IGNvbnRhY3RcbmFwcC5jb250cm9sbGVyKCduZXdDb250YWN0TGlzdENvbnRyb2xsZXInLFsnbmV3Q29udGFjdExpc3REYXRhJywnJHNjb3BlJywgJyRyb290U2NvcGUnLCAndG9hc3RyJywgZnVuY3Rpb24obmV3Q29udGFjdExpc3REYXRhLCAkc2NvcGUsICRyb290U2NvcGUsIHRvYXN0cikge1xuICAgIC8vZGF0YSB0byBjcmVhdGUgYSBuZXcgY29udGFjdCBsaXN0XG5cbiAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdoaWRlJyk7XG4gICAgICAgICRyb290U2NvcGUuaGlkZSA9IHRydWU7XG4gICAgfTtcblxuICAgICRzY29wZS5saXN0bmFtZSA9IHt9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZUxpc3QgID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZSBsaXN0OiBcIiArICRzY29wZS5saXN0bmFtZS5pbnB1dCk7XG4gICAgICAgIC8vcGFzc2VzIGxpc3QgbmFtZSBzZXJ2aWNlXG4gICAgICAgIG5ld0NvbnRhY3RMaXN0RGF0YS5wb3N0TGlzdCgkc2NvcGUubGlzdG5hbWUuaW5wdXQsIGZ1bmN0aW9uIChzdGF0dXMpIHtcblx0XHRcdGlmKHN0YXR1cyA9PT0gdHJ1ZSkge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdsaXN0ICMnLG5ld0NvbnRhY3RMaXN0RGF0YS5saXN0TnVtKTtcblx0XHRcdFx0JHNjb3BlLmxpc3RuYW1lPXt9O1xuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgbGlzdCcpO1xuXHRcdFx0XHQkc2NvcGUuaGlkZSgpO1xuXHRcdFx0fWVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcImZhaWxlZCB0byBjcmVhdGUgbGlzdFwiKTtcblx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGxpc3QnKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXG4gICAgfTtcbn1dKTtcblxuXG4iLCJcbmFwcC5zZXJ2aWNlKCduZXdDb250YWN0TGlzdERhdGEnLCBbJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCAnJGh0dHAnLCAnJHRpbWVvdXQnLFxuICAgIGZ1bmN0aW9uIChDb250YWN0TGlzdERhdGFTZXJ2aWNlLCAkaHR0cCwgJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGxpc3ROdW0gPSBcIlwiO1xuICAgICAgICB2YXIgaW1wb3J0RGF0YUFycmF5ID1bXTtcblxuICAgICAgICB0aGlzLnBvc3RMaXN0ID0gZnVuY3Rpb24gKG5hbWUsIGNiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImRpZCB0aGUgbmFtZSBtYWtlIGl0IHRvIHRoZSBzZXJ2aWNlPyBcIiArIG5hbWUgKTtcblxuXHRcdFx0Ly8kdGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlO30sIDUwMDApO1xuXHRcdFx0Ly9yZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9uZXdDb250YWN0TGlzdCcsIHtuYW1lOiBuYW1lfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICBsaXN0TnVtID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklkPyBcIiwgbGlzdE51bSk7XG5cdFx0XHRcdGNiKHRydWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gY3JlYXRlXCIsIGRhdGEpOyAvL2Vycm9yXG5cdFx0XHRcdC8vcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRjYihmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wb3BMaXN0ID0gZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YU9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBcImltcG9ydERhdGFBcnJheVwiOiBpbXBvcnREYXRhQXJyYXksXG4gICAgICAgICAgICAgICAgXCJsaXN0TnVtXCI6IGxpc3ROdW1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IHRvIHBvcExpc3QnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbXBvcnREYXRhQXJyYXk6ICcsdGhpcy5pbXBvcnREYXRhQXJyYXksICdcXG50eXBlOiAnLCB0eXBlb2YgdGhpcy5pbXBvcnREYXRhQXJyYXkpO1xuICAgICAgICAgICAgZ2V0Q2hlY2tlZChsaXN0KTtcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9wb3B1bGF0ZUNvbnRhY3RMaXN0JywgdGhpcy5kYXRhT2JqZWN0KS50aGVuKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3N0ZWQnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW1wb3J0RGF0YUFycmF5OiAnLHRoaXMuaW1wb3J0RGF0YUFycmF5LCAnXFxudHlwZTogJywgdHlwZW9mIHRoaXMuaW1wb3J0RGF0YUFycmF5KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0pO1xuICAgICAgICB9O1xuICAgICAgICAvL2dldCBhbGwgdGhlIGNoZWNrZWQgZWxlbWVudHMgYW5kIHN0dWZmIHRoZW0gaW4gYW4gYXJyYXlcbiAgICAgICAgdmFyIGdldENoZWNrZWQgPSBmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldENoZWNrZWQgaXMgcnVubmluZycpO1xuICAgICAgICAgICAgbC5mb3JFYWNoKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWN0T2JqZWN0ID1cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbWFpbF9hZGRyZXNzZXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5lbWFpbCB8fCAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlyc3RfbmFtZVwiOm9iamVjdC5maXJzdE5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxhc3RfbmFtZVwiOiBvYmplY3QubGFzdE5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbXBhbnlfbmFtZVwiOiBvYmplY3QuY29tcGFueSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkcmVzc2VzXCI6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogb2JqZWN0LmNpdHkgfHwgJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGFjdE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydERhdGFBcnJheS5wdXNoKHRoaXMuY29udGFjdE9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuXG4iLCJhcHAuY29udHJvbGxlcigncG9wTGlzdENvbnRyb2xsZXInLFsnbmV3Q29udGFjdExpc3REYXRhJywnJHNjb3BlJywnJGh0dHAnLCBmdW5jdGlvbihuZXdDb250YWN0TGlzdERhdGEsICRzY29wZSwgJGh0dHApIHtcbiAgICAvL2RhdGEgdG8gY3JlYXRlIGEgbmV3IGNvbnRhY3QgbGlzdFxuXG5cbiAgICAkc2NvcGUubGlzdE5hbWUgPSB7fTtcblxuICAgICRzY29wZS5wb3B1bGF0ZUxpc3QgID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZSBsaXN0OiBcIiArIHNjb3BlLmxpc3ROYW1lLmlucHV0KTtcbiAgICAgICAgLy9wYXNzZXMgaW4gc2VhcmNoIHRleHQgdG8gc2VydmljZVxuICAgICAgICBuZXdDb250YWN0TGlzdERhdGEucG9wTGlzdCgpO1xuICAgICAgICAvL3ZhciBsaXN0RW5kID0ge1xuICAgICAgICAvLyAgICBcImxpc3RzXCI6IFtsaXN0TnVtXSxcbiAgICAgICAgLy8gICAgXCJjb2x1bW5fbmFtZXNcIjogW1xuICAgICAgICAvLyAgICBcIkVNQUlMXCIsXG4gICAgICAgIC8vICAgIFwiRklSU1QgTkFNRVwiLFxuICAgICAgICAvLyAgICBcIkxBU1QgTkFNRVwiLFxuICAgICAgICAvLyAgICBcIkNJVFlcIixcbiAgICAgICAgLy8gICAgXCJDT01QQU5ZIE5BTUVcIlxuICAgICAgICAvL119XG5cblxuICAgICAgICAkc2NvcGUubGlzdE5hbWU9e307XG4gICAgfTtcbn1dKTtcblxuIiwiXG4vL3JlZ2lzdGVyIGNvbnRyb2xsZXJcbmFwcC5jb250cm9sbGVyKCdyZWdpc3RlckN0cmwnLCBbICckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgJ3RvYXN0cicsICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvY2F0aW9uLCB0b2FzdHIpIHtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlZ2lzdGVyQ3RybFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlZ2lzdGVyQ29udHJvbGxlciBzdWJtaXQ6JywgJHNjb3BlLmZvcm0pO1xuICAgICAgICAkaHR0cC5wb3N0KCcvcmVnaXN0ZXInLCAkc2NvcGUuZm9ybSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9pbmRleFwiKTtcbiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcImFkbWluIGNyZWF0ZWRcIik7XG4gICAgICAgICAgICB9LGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdmYWlsZWQgdG8gYWRkIGFkbWluJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxufV0pO1xuIiwiYXBwLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIFsgJyRzY29wZScsICckaHR0cCcsICckbG9jYXRpb24nLCAnYXV0aFNlcnZpY2UnLCAndG9hc3RyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgYXV0aFNlcnZpY2UsIHRvYXN0cikge1xuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdlZGl0IHBhc3N3b3JkOicsICRzY29wZS5mb3JtKTtcblx0XHR2YXIgdGVtcFVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG5cdFx0Y29uc29sZS5sb2coXCJhdXRoIHVzZXJcIiwgdGVtcFVzZXIpO1xuXHRcdC8vIGFkZCBpbiBpZCwgdXNlcm5hbWVcblx0XHR2YXIgdXNlciA9ICRzY29wZS5mb3JtO1xuXHRcdHVzZXIuaWQgPSB0ZW1wVXNlci5pZDtcblx0XHR1c2VyLnVzZXJuYW1lID0gdGVtcFVzZXIudXNlcm5hbWU7XG5cdFx0Y29uc29sZS5sb2coXCJwcmVwYXJlZFwiLCB1c2VyKTtcbiAgICAgICAgJGh0dHAucHV0KCcvYWRtaW4nLCB1c2VyKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdwYXNzd29yZCBjaGFuZ2VkJyk7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvaW5kZXhcIik7XG4gICAgICAgICAgICB9LGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ2ZhaWxlZCB0byB1cGRhdGUgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG59XSk7XG4iLCJhcHAuc2VydmljZSgndmFsaWRTZXJ2aWNlJywgW2Z1bmN0aW9uICgpIHtcblxuICAgIHZhciB2YWxpZGF0ZUlucHV0ID0gZnVuY3Rpb24gKHR5cGUsIGlkKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ2YWxpZGF0ZUlucHV0KClcIik7XG4gICAgICAgIC8vIHN0b3JlcyB0aGUgZm9ybSBiZWluZyBjYWxsZWQgb25cbiAgICAgICAgdmFyIHBhdHRlcm47XG4gICAgICAgIHZhciAkb2JqID0gKGlkKSA/ICQoJyMnKyBpZCkgOiBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJvYmplY3QgaXMgXCIsICRvYmosIHR5cGUsIGlkKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgICAgY2FzZSBcImNpdHlcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzdGF0ZVwiOlxuICAgICAgICAgICAgICAgIC8vIGFsbG93cyBhbmQgYWxwaGEgY2hhcnMsIGFzIHdlbGwgYXMgd2hpdGUgc3BhY2UgYW5kIGEgZmV3IGV4dHJhIGNoYXJzXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eW2EtekEtelxccywuJy1dezAsMjh9LztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb3JwTmFtZVwiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlthLXpBLVowLTlcXHMsLj9AISMnfipfOystXXswLDc1fS87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWRkcmVzc1wiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlthLXpBLVowLTlcXHMsLj9AISMnfipfOys6KCklJi1dezAsNTB9LztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ6aXBcIjpcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bMC05XXs1fSQvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eKFsoXVswLTldezN9WyldfFswLTldezN9KVtcXHNcXC0uXT9bMC05XXszfVtcXHNcXC0uXT9bMC05XXs0fSQvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eW2EtekEtWjAtOS5fJSstXStAW2EtekEtWjAtOS4tXStcXC5bYS16QS1aXXsyLH0kLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3Rlc1wiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlthLXpBLVowLTlcXHMsLj9AISMnfipfOys6KCklJjw+XFxbXFxde31cXC09XCJ8YFxcXFxcXC9dezAsMjUwfS87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZXh0XCI6XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eW2EtekEtWjAtOVxcczotXXswLDE1fSQvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcbiAgICAgICAgICAgICAgICAvL3BhdHRlcm4gPSAvXjIwWzAtOV17Mn1bLV0oMFsxLTldfDFbMC0yXSlbLV0oMFsxLTldfFsxLTJdWzAtOV18M1swMV0pJC87XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eKDA/WzEtOV18MVswLTJdKVxcLygwP1sxLTldfFsxLTJdWzAtOV18M1swMV0pXFwvMjBbMC05XXsyfSQvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJpcnRoZGF0ZVwiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXigwP1sxLTldfDFbMC0yXSlcXC8oMD9bMS05XXxbMS0yXVswLTldfDNbMDFdKVxcLygoMTk5WzAtOV18MjApWzAtOV17Mn0pJC87XG4gICAgICAgICAgICAgICAgLy9wYXR0ZXJuID0gL14oMTk5WzAtOV18MjBbMC05XXsyfSlbLV0oMFsxLTldfDFbMC0yXSlbLV0oMFsxLTldfFsxLTJdWzAtOV18M1swMV0pJC87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYW1vdW50XCI6XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eKFtcXCRdP1tcXGRdKyhbLl1bXFxkXXsyfSk/KXsxLDEwfSQvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXHRcdFx0Y2FzZSBcInVzZXJuYW1lXCI6XG5cdFx0XHRjYXNlIFwicGFzc3dvcmRcIjpcblx0XHRcdFx0cGF0dGVybiA9IC9eKFthLXpdK1tBLVpdK1swLTldKyl7OCwyMH0kLztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwic2VhcmNoXCI6XG5cdFx0XHRcdHBhdHRlcm4gPSAvXlthLXpBLVowLTlcXHMsLj9AISMnfipfOystXXswLDc1fSQvO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJhZ2VcIjpcblx0XHRcdFx0cGF0dGVybiA9IC9eWzAtOV17MSwyfSQvO1xuXHRcdFx0XHRicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpbnZhbGlkIGNsYXNzIHNlYXJjaFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiByZXF1aXJlZCBvciB0cmltbWVkIGxlbmd0aCBpcyBub3QgMCwgdGhlbiB2YWxpZGF0ZSBpbmZvXG4gICAgICAgIGlmKCRvYmouYXR0cigncmVxdWlyZWQnKSB8fCAkb2JqLnZhbCgpKSB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdmFsdWUgbWF0Y2hlcyByZWdleCBmb3IgZmllbGQgdHlwZVxuICAgICAgICAgICAgaWYoIXBhdHRlcm4udGVzdCgkb2JqLnZhbCgpLnRyaW0oKSkgfHwgJG9iai52YWwoKS50cmltKCkubGVuZ3RoID09IDAgJiYgJG9iai5hdHRyKCdyZXF1aXJlZCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgZmFpbHMsIGFkZHMgaW52YWxpZCBjbGFzcyAoaGlnaGxpZ2h0aW5nKSwgY2hhbmdlcyBwbGFjZWhvbGRlciB0byB3aGF0IHNob3VsZCBiZSBlbnRlcmVkXG4gICAgICAgICAgICAgICAgJG9iai5hZGRDbGFzcygnaW52YWxpZCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJG9iai5kYXRhKCdpbnZhbGlkJykpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codHlwZSwgJyBmYWlsZWQgdGVzdCcsIHBhdHRlcm4pO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGlmIHBhc3NlcywgcmVtb3ZlcyBpbnZhbGlkIGNsYXNzLCByZXNldHMgcGxhY2Vob2xkZXIgdG8gZGVmYXVsdFxuICAgICAgICAgICAgICAgICRvYmoucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKS5hdHRyKCdwbGFjZWhvbGRlcicsICRvYmouZGF0YSgncGxhY2Vob2xkZXInKSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codHlwZSwgJyBwYXNzZWQgdGVzdCcsIHBhdHRlcm4pO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cblx0dmFyIHZhbGlkYXRlRm9ybSA9IGZ1bmN0aW9uIChmb3Jtcykge1xuXHRcdHZhciBwYXNzID0gdHJ1ZTtcblx0XHRmb3Jtcy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpLCBhKSB7XG5cdFx0XHQkKCcjJysgdiArJyAuanMtdmFsaWRhdGUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYodmFsaWRhdGVJbnB1dCgkKHRoaXMpLmRhdGEoJ3R5cGUnKSwgJCh0aGlzKS5hdHRyKCdpZCcpKSA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCQodGhpcykuYXR0cignaWQnKSArXCIgZmFpbGVkIHRoZSB0ZXN0IFwiKyAkKHRoaXMpLmRhdGEoJ3R5cGUnKSArXCIgZW50ZXJlZCBpbmZvOiBcIisgJCh0aGlzKS52YWwoKSk7XG5cdFx0XHRcdFx0cGFzcyA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcGFzcztcblx0fTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHZhbGlkYXRlSW5wdXQ6IHZhbGlkYXRlSW5wdXQsXG5cdFx0dmFsaWRhdGVGb3JtOiB2YWxpZGF0ZUZvcm1cbiAgICB9O1xufV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
