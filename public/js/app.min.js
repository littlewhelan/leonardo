var app=angular.module("leo",["ngRoute","ngAnimate","ui.bootstrap","checklist-model","toastr","angular-momentjs"]);app.config(["$routeProvider",function(t){t.when("/",{templateUrl:"leo/static/login.html"}).when("/search",{templateUrl:"leo/private/search.html"}).when("/register",{templateUrl:"leo/static/register.html"}).when("/contactList",{templateUrl:"leo/private/contactList.html"}).when("/addfamily",{templateUrl:"leo/private/addfamily.html",controller:"editFamilyCtrl"}).when("/addcorp",{templateUrl:"leo/private/addcorp.html",controller:"editCorpCtrl"}).when("/contactlist",{templateUrl:"leo/private/contactlist.html"}).otherwise({redirectTo:"/search"})}]),app.factory("authInterceptor",["$q","$location","authService",function(t,e,a){return{request:function(t){return t.headers=t.headers||{},a.isAuthed()&&(t.headers.Authorization="Bearer "+a.getToken()),t},response:function(a){return 401===a.status&&e.path("/"),a||t.when(a)},responseError:function(a){return 401===a.status?e.path("/"):console.log(a.status),t.reject(a)}}}]),app.service("authService",["$window",function(t){this.parseJwt=function(e){if(e){var a=e.split(".")[1],o=a.replace("-","+").replace("_","/");return JSON.parse(t.atob(o))}return{}},this.saveToken=function(e){t.localStorage.jwtToken=e},this.getToken=function(){return t.localStorage.jwtToken},this.isAuthed=function(){var t=this.getToken();if(t){var e=this.parseJwt(t),a=Math.round((new Date).getTime()/1e3)<=e.exp;return a||this.logout(),a}return!1},this.logout=function(){delete t.localStorage.jwtToken},this.getUser=function(){return this.parseJwt(this.getToken())}}]),app.controller("editCorpCtrl",["$scope","$uibModal","$log","ResultService","$http","validService","dateService","toastr",function(t,e,a,o,n,i,l,r){t.validateInput=i.validateInput,t.companies=o.companies,t.corp={info:{},contact:{},donations:[]},t.newDonation={},t.animationsEnabled=!0,t.clearCorp=function(e){r.error("Cancelled"),t.corp={info:{},contact:{},donations:[]},t.newDonation={},e.forEach(function(t){$("#"+t+" .js-validate").each(function(){$(this).removeClass("invalid").attr("placeholder",$(this).data("placeholder"))})})},t.open=function(o,i){return console.log("corp call",i),n({method:"GET",url:"leo/corporation",params:{id:i}}).then(function(n){n.data.donations.forEach(function(t,e,a){a[e].date=l.fromDB(t.date)}),t.corp=n.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"leo/private/editcorp.html",controller:"ModalInstanceCtrl",size:o,scope:t,resolve:{items:function(){return t.corp}}});i.result.then(function(e){t.selected=e},function(){a.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.save=function(){console.log("Save submitted",t.corp),t.corp.donations.length&&t.corp.donations.forEach(function(t,e,a){a[e].date=l.toDB(t.date)}),t.corp.id?i.validateForm(["EditCorpInfoForm","EditCorpContactForm"])?(console.log("update corp",t.corp),n({method:"PUT",url:"/leo/corporation",data:{corp:t.corp}}).then(function(e){console.log("Put corp, got id ",e.data),t.corp.id=e.data.id,t.corp.info=e.data.info?e.data.info:{},t.contact=e.data.contact?e.data.contact:{},t.corp.donations.length&&(t.corp.donations=[]),t.donations=e.data.donations?e.data.donations:{}})):console.log("Edit corp input tests failed"):i.validateForm(["AddCorpInfoForm","AddCorpContactForm"])?n({method:"POST",url:"/leo/corporation",data:{corp:t.corp}}).then(function(e){console.log("Posted corp, got id ",e.data),t.corp.id=e.data.id,t.corp.info=e.data.info?e.data.info:{},t.contact=e.data.contact?e.data.contact:{},t.corp.donations.length&&(t.corp.donations=[]),t.donations=e.data.donations?e.data.donations:{},r.success("Corporation added!")},function(){r.error("Failed to add corporation")}):(r.error("Unauthorized character"),console.log("Add corp input tests failed"))},t.addDonation=function(){/^[0-9]+(.[0-9]{0,2})?$/.test(t.newDonation.amount)&&(console.log("donation",t.newDonation),t.corp.donations.push(t.newDonation),t.newDonation={},console.log("added donation",t.corp.donations))}}]),app.controller("createListSearch",["$scope","$http","ContactListDataService","newContactListData","toastr","$rootScope",function(t,e,a,o,n,i){t.type={},t.age={},t.zip={},t.emails={},t.emails.includedEmails=[],t.includedEmails=[],t.totalDisplayed=50,t.totalResults=0,t.emailList=[],t.searchListBtn=function(){if(t.emailList=[],"zipCk"==t.type&&a.makeDataCall("zip",t.zip.data).then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")}),"ageCk"==t.type){var e=a.makeDataCall("age",t.age.data);e.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}if("fam"==t.type){var o=a.makeDataCall("family","");o.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}if("corp"==t.type){var i=a.makeDataCall("company","");i.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}t.type={},t.age={},t.zip={}},t.populateList=function(){console.log(t.emails.includedEmails),o.popList(t.emails.includedEmails)?n.success("Successfully deployed contact list."):n.error("Failed to deploy contact list.")},t.loadMore=function(){t.totalDisplayed+=50},t.showAll=function(){t.totalDisplayed=t.totalResults},t.checkAll=function(e){var a=angular.element(e.target);t.emails.includedEmails.length==t.totalResults?(t.emails.includedEmails=[],a.val("Check All")):(t.emails.includedEmails=angular.copy(t.emailList),a.val("Uncheck All"))}}]),app.factory("ContactListDataService",["$http","$q",function(t,e){function a(a,o){var n=e.defer();return console.log("this is in the make data call",a,o),t({method:"GET",url:"leo/createMailList",params:{type:a,search:o}}).then(function(t){data=t.data,n.resolve(t.data)}),n.promise}return{data:[],makeDataCall:a}}]),app.service("dateService",["MomentJS",function(t){var e="YYYY-MM-DD",a="M/D/YYYY",o=function(a){return t(a).format(e)},n=function(e){return t(e).format(a)};return{toDB:o,fromDB:n}}]),app.controller("editFamilyCtrl",["$scope","$uibModal","$log","ResultService","$http","validService","toastr","dateService",function(t,e,a,o,n,i,l,r){t.validateInput=i.validateInput,t.adults=o.adults,t.kids=o.kids,t.family={adultOne:{},adultTwo:{},emergency:{},children:[],donations:[]},t.newChild={},t.newDonation={},t.clearFamily=function(e){l.error("Cancelled"),t.family={adultOne:{},adultTwo:{},emergency:{},children:[],donations:[]},t.newChild={},t.newDonation={},e.forEach(function(t){$("#"+t+" .js-validate").each(function(){$(this).removeClass("invalid").attr("placeholder",$(this).data("placeholder"))})})},t.animationsEnabled=!0,t.open=function(o,i){return console.log("family call",i),n({method:"GET",url:"../leo/family",params:{id:i}}).then(function(n){console.log(n.data),n.data.children.forEach(function(t,e,a){console.log("reformatted",r.fromDB(a[e].birthdate)),a[e].birthdate=r.fromDB(t.birthdate)}),n.data.donations.forEach(function(t,e,a){a[e].date=r.fromDB(t.date)}),t.family=n.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"leo/private/editfamily.html",controller:"ModalInstanceCtrl",size:o,scope:t,resolve:{items:function(){return t.family}}});i.result.then(function(e){t.selected=e},function(){a.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.save=function(){console.log("Save submitted",t.family),t.family.children.length&&t.family.children.forEach(function(t,e,a){a[e].birthdate=r.toDB(t.birthdate)}),t.family.donations.length&&t.family.donations.forEach(function(t,e,a){a[e].date=r.toDB(t.date)}),console.log("Saving family, after toDB birthdates",t.family),t.family.id?i.validateForm(["EditFamInfoForm","EditFamEmerForm"])?(console.log("update family",t.family),n({method:"PUT",url:"/leo/family",data:{family:t.family}}).then(function(e){console.log("Put family, got id ",e.data),t.family.id=e.data.id,t.family.adultOne=e.data.adultOne?e.data.adultOne:{},t.family.adultTwo=e.data.adultTwo?e.data.adultTwo:{},t.family.emergency=e.data.emergency?e.data.emergency:{},t.family.children.length&&(t.family.children=[]),t.family.children=e.data.children?e.data.children:[],t.family.donations.length&&(t.family.donations=[]),t.family.donations=e.data.donations?e.data.donations:[]})):console.log("Edit family failed input tests"):i.validateForm(["AddFamInfoForm","AddFamEmerForm"])?n({method:"POST",url:"/leo/family",data:{family:t.family}}).then(function(e){console.log("Posted family, got id ",e.data),t.family.id=e.data.id,t.family.adultOne=e.data.adultOne?e.data.adultOne:{},t.family.adultTwo=e.data.adultTwo?e.data.adultTwo:{},t.family.emergency=e.data.emergency?e.data.emergency:{},t.family.children.length&&(t.family.children=[]),t.family.children=e.data.children?e.data.children:[],t.family.donations.length&&(t.family.donations=[]),t.family.donations=e.data.donations?e.data.donations:[],l.success("Family saved!")},function(){l.error("Failed to add family")}):(l.error("Unauthorized character"),console.log("Add family failed input tests"))},t.addChild=function(){t.newChild.firstName&&(console.log("child added",t.newChild,t.family.children),t.editingChild?(t.family.children[t.editingChild]=t.newChild,t.editingChild=!1,l.success("Child updated!")):(t.family.children.push(t.newChild),l.success("Child added!")),t.newChild={})},t.editChild=function(e){t.editingChild=e,t.newChild=t.family.children[e]},t.removeChild=function(e){console.log("in remove child index",e," edit ",t.editingChild),t.family.children.splice(e,1),e==t.editingChild?(console.log("edit match"),t.clearChild()):console.log("no edit match")},t.clearChild=function(){console.log("in clear child"),t.newChild={firstName:"",lastName:"",birthdate:"",school:"",notes:""},t.editingChild=!1},t.addDonation=function(){/^[0-9]+(.[0-9]{0,2})?$/.test(t.newDonation.amount)&&(console.log("add donation",t.newDonation),t.family.donations.push(t.newDonation),t.newDonation={},console.log("added donation",t.family.donations))}}]),app.controller("loginCtrl",["$scope","$http","authService","$location","$rootScope","toastr",function(t,e,a,o,n,i){t.submit=function(){e.post("/leo/login",t.form).then(function(t){a.saveToken(t.data),n.user=a.getUser(),o.path("/search")},function(){i.error("incorrect username or password")})}}]),app.controller("searchFunction",["$scope","$http","ResultService",function(t,e,a){t.formInput={},t.searchBtn=function(){a.makeDataCall(t.formInput.data),console.log("this is the input text",t.formInput),t.formInput={}}}]),app.factory("ResultService",["$http",function(t){var e=[],a=[],o=[],n=[],i=function(a){return t({method:"GET",url:"leo/search",params:{search:a}}).then(function(t){e=t.data,l(e),c(e),r(e)})},l=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"company"==t.type&&o.push(t)})};return e(t),console.log("this is getElement1",o),o},r=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"adult"==t.type&&a.push(t)})};return e(t),console.log("this is in getElement2",a),a},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"child"==t.type&&n.push(t)})};return e(t),console.log("this is getElements3",n),n},s={getKids:c,getAdults:r,getCompanies:l,makeDataCall:i,results:e,companies:o,adults:a,kids:n};return s}]),app.controller("ModalInstanceCtrl",["$scope","$modalInstance",function(t,e){t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("navCtrl",["authService","$scope","$rootScope","$location",function(t,e,a,o){a.user=t.getUser(),a.user&&a.user.username&&o.path("/home"),e.logout=function(){t.logout(),a.user=t.getUser(),o.path("/")}}]),app.controller("newContactListController",["newContactListData","$scope","$rootScope","toastr",function(t,e,a,o){e.hide=function(){console.log("hide"),a.hide=!0},e.listname={},e.createList=function(){console.log("create list: "+e.listname.input),t.postList(e.listname.input,function(t){t===!0?(e.listname={},o.success("Successfully created list"),e.hide()):(console.log("failed to create list"),o.error("Failed to create list"))})}}]),app.service("newContactListData",["ContactListDataService","$http","$timeout",function(t,e,a){var o="",n=[];this.postList=function(t,a){console.log("did the name make it to the service? "+t),e.post("/leo/newContactList",{name:t}).then(function(t){console.log(t.data),o=t.data,console.log("Id? ",o),a(!0)},function(t){console.log("failed to create",t),a(!1)})},this.popList=function(t){this.dataObject={importDataArray:n,listNum:o},console.log("got to popList"),console.log("importDataArray: ",this.importDataArray,"\ntype: ",typeof this.importDataArray),i(t),e.post("/leo/populateContactList",this.dataObject).then(function(t,e,a,o){return console.log("posted"),console.log(t),console.log("importDataArray: ",this.importDataArray,"\ntype: ",typeof this.importDataArray),!0},function(){return!1})};var i=function(t){console.log("getChecked is running"),t.forEach(function(t){this.contactObject={email_addresses:[t.email||""],first_name:t.firstName||"",last_name:t.lastName||"",company_name:t.company||"",addresses:[{city:t.city||""}]},console.log(this.contactObject),n.push(this.contactObject)})}}]),app.controller("popListController",["newContactListData","$scope","$http",function(t,e,a){e.listName={},e.populateList=function(){console.log("create list: "+scope.listName.input),t.popList(),e.listName={}}}]),app.controller("registerCtrl",["$scope","$http","$location","toastr","validService",function(t,e,a,o,n){t.validateInput=n.validateInput,t.submit=function(){e.post("/leo/register",t.form).then(function(t){a.path("/index"),o.success("admin created")},function(){o.error("failed to add admin")})}}]),app.controller("resetCtrl",["$scope","$http","$location","authService","toastr",function(t,e,a,o,n){t.submit=function(){console.log("edit password:",t.form);var i=o.getUser();console.log("auth user",i);var l=t.form;l.id=i.id,l.username=i.username,console.log("prepared",l),e.put("/admin",l).then(function(t){console.log(t),n.success("password changed"),a.path("/index")},function(){n.error("failed to update password")})}}]),app.service("validService",[function(){var t=function(t,e){var a,o=e?$("#"+e):!1;switch(t){case"name":case"city":case"state":a=/^[a-zA-z\s,.'-]{0,28}/;break;case"corpName":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+-]{0,75}/;break;case"address":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+:()%&-]{0,50}/;break;case"zip":a=/^[0-9]{5}$/;break;case"phone":a=/^([(][0-9]{3}[)]|[0-9]{3})[\s\-.]?[0-9]{3}[\s\-.]?[0-9]{4}$/;break;case"email":a=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;break;case"notes":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+:()%&<>\[\]{}\-="|`\\\/]{0,250}/;break;case"ext":a=/^[a-zA-Z0-9\s:-]{0,15}$/;break;case"date":a=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[01])\/20[0-9]{2}$/;break;case"birthdate":a=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[01])\/((199[0-9]|20)[0-9]{2})$/;break;case"amount":a=/^([\$]?[\d]+([.][\d]{2})?){1,10}$/;break;case"username":a=/^(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d_\-]{8,20}$/;break;case"password":a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;break;case"search":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+-]{0,75}$/;break;case"age":a=/^[0-9]{1,2}$/;break;default:return!1}return o.attr("required")||o.val()?!a.test(o.val().trim())||0==o.val().trim().length&&o.attr("required")?(o.addClass("invalid").attr("placeholder",o.data("invalid")).val(""),!1):(o.removeClass("invalid").attr("placeholder",o.data("placeholder")),!0):void 0},e=function(e){var a=!0;return e.forEach(function(e,o,n){$("#"+e+" .js-validate").each(function(){0==t($(this).data("type"),$(this).attr("id"))&&(a=!1)})}),a};return{validateInput:t,validateForm:e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhJbnRlcmNlcHRvci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiY29ycENvbnRyb2xsZXIuanMiLCJjcmVhdGVMaXN0Q29udHJvbGxlci5qcyIsImNyZWF0ZUxpc3RTZXJ2aWNlLmpzIiwiZGF0ZVNlcnZpY2UuanMiLCJmYW1pbHlDb250cm9sbGVyLmpzIiwibG9naW5Db250cm9sbGVyLmpzIiwibWFpblNlYXJjaENvbnRyb2xsZXIuanMiLCJtYWluU2VhcmNoU2VydmljZS5qcyIsIm1vZGFsSW5zdGFuY2VDb250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0U2VydmljZS5qcyIsInBvcExpc3RDb250cm9sbGVyLmpzIiwicmVnaXN0ZXJDb250cm9sbGVyLmpzIiwicmVzZXRDb250cm9sbGVyLmpzIiwidmFsaWRTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiZmFjdG9yeSIsIiRxIiwiJGxvY2F0aW9uIiwiYXV0aFNlcnZpY2UiLCJyZXF1ZXN0IiwiaGVhZGVycyIsImlzQXV0aGVkIiwiQXV0aG9yaXphdGlvbiIsImdldFRva2VuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJwYXRoIiwicmVzcG9uc2VFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJyZWplY3QiLCJzZXJ2aWNlIiwiJHdpbmRvdyIsInRoaXMiLCJwYXJzZUp3dCIsInRva2VuIiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNhdmVUb2tlbiIsImxvY2FsU3RvcmFnZSIsImp3dFRva2VuIiwicGFyYW1zIiwibm90RXhwaXJlZCIsIk1hdGgiLCJyb3VuZCIsIkRhdGUiLCJnZXRUaW1lIiwiZXhwIiwibG9nb3V0IiwiZ2V0VXNlciIsIiRzY29wZSIsIiR1aWJNb2RhbCIsIiRsb2ciLCJSZXN1bHRTZXJ2aWNlIiwiJGh0dHAiLCJ2YWxpZFNlcnZpY2UiLCJkYXRlU2VydmljZSIsInRvYXN0ciIsInZhbGlkYXRlSW5wdXQiLCJjb21wYW5pZXMiLCJjb3JwIiwiaW5mbyIsImNvbnRhY3QiLCJkb25hdGlvbnMiLCJuZXdEb25hdGlvbiIsImFuaW1hdGlvbnNFbmFibGVkIiwiY2xlYXJDb3JwIiwiZm9ybXNBcnJheSIsImVycm9yIiwiZm9yRWFjaCIsInYiLCIkIiwiZWFjaCIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImRhdGEiLCJvcGVuIiwic2l6ZSIsImlkIiwibWV0aG9kIiwidXJsIiwidGhlbiIsImkiLCJhIiwiZGF0ZSIsImZyb21EQiIsIm1vZGFsSW5zdGFuY2UiLCJhbmltYXRpb24iLCJzY29wZSIsInJlc29sdmUiLCJpdGVtcyIsInJlc3VsdCIsInNlbGVjdGVkSXRlbSIsInNlbGVjdGVkIiwidG9nZ2xlQW5pbWF0aW9uIiwic2F2ZSIsImxlbmd0aCIsInRvREIiLCJ2YWxpZGF0ZUZvcm0iLCJyZXMiLCJzdWNjZXNzIiwiYWRkRG9uYXRpb24iLCJ0ZXN0IiwiYW1vdW50IiwicHVzaCIsIkNvbnRhY3RMaXN0RGF0YVNlcnZpY2UiLCJuZXdDb250YWN0TGlzdERhdGEiLCIkcm9vdFNjb3BlIiwidHlwZSIsImFnZSIsInppcCIsImVtYWlscyIsImluY2x1ZGVkRW1haWxzIiwidG90YWxEaXNwbGF5ZWQiLCJ0b3RhbFJlc3VsdHMiLCJlbWFpbExpc3QiLCJzZWFyY2hMaXN0QnRuIiwibWFrZURhdGFDYWxsIiwiZmFtIiwiY29tcCIsInBvcHVsYXRlTGlzdCIsInBvcExpc3QiLCJsb2FkTW9yZSIsInNob3dBbGwiLCJjaGVja0FsbCIsImV2ZW50IiwiJGJ1dHRvbiIsImVsZW1lbnQiLCJ0YXJnZXQiLCJ2YWwiLCJjb3B5IiwicGFzc2VkRGF0YSIsImRlZmVycmVkIiwiZGVmZXIiLCJzZWFyY2giLCJwcm9taXNlIiwibW9tZW50IiwiZGJGb3JtYXQiLCJ1aUZvcm1hdCIsInRvRGJGb3JtYXQiLCJmb3JtYXQiLCJmcm9tRGJGb3JtYXQiLCJhZHVsdHMiLCJraWRzIiwiZmFtaWx5IiwiYWR1bHRPbmUiLCJhZHVsdFR3byIsImVtZXJnZW5jeSIsImNoaWxkcmVuIiwibmV3Q2hpbGQiLCJjbGVhckZhbWlseSIsImJpcnRoZGF0ZSIsImFkZENoaWxkIiwiZmlyc3ROYW1lIiwiZWRpdGluZ0NoaWxkIiwiZWRpdENoaWxkIiwiaW5kZXgiLCJyZW1vdmVDaGlsZCIsInNwbGljZSIsImNsZWFyQ2hpbGQiLCJsYXN0TmFtZSIsInNjaG9vbCIsIm5vdGVzIiwic3VibWl0IiwicG9zdCIsImZvcm0iLCJ1c2VyIiwiZm9ybUlucHV0Iiwic2VhcmNoQnRuIiwicmVzdWx0cyIsImdldENvbXBhbmllcyIsImdldEtpZHMiLCJnZXRBZHVsdHMiLCJhcnJheSIsImdldEVsZW1lbnQxIiwiZ2V0RWxlbWVudDIiLCJnZXRFbGVtZW50MyIsInB1YmxpY0FwaSIsIiRtb2RhbEluc3RhbmNlIiwib2siLCJjbG9zZSIsIml0ZW0iLCJjYW5jZWwiLCJkaXNtaXNzIiwidXNlcm5hbWUiLCJoaWRlIiwibGlzdG5hbWUiLCJjcmVhdGVMaXN0IiwiaW5wdXQiLCJwb3N0TGlzdCIsIiR0aW1lb3V0IiwibGlzdE51bSIsImltcG9ydERhdGFBcnJheSIsIm5hbWUiLCJjYiIsImxpc3QiLCJkYXRhT2JqZWN0IiwiZ2V0Q2hlY2tlZCIsImwiLCJvYmplY3QiLCJjb250YWN0T2JqZWN0IiwiZW1haWxfYWRkcmVzc2VzIiwiZW1haWwiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiY29tcGFueV9uYW1lIiwiY29tcGFueSIsImFkZHJlc3NlcyIsImNpdHkiLCJsaXN0TmFtZSIsInRlbXBVc2VyIiwicHV0IiwicGF0dGVybiIsIiRvYmoiLCJ0cmltIiwiYWRkQ2xhc3MiLCJmb3JtcyIsInBhc3Mi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cEYsTUFBQXFGLFNBQUEsR0FBQUQsRUFBQXBGLE1BQUFxRixPQUFBdEgsUUFBQXFILEVBQUEzSSxLQUFBLGFBRUEySSxFQUFBRSxTQUFBLFdBQUE3SSxLQUFBLGNBQUEySSxFQUFBMUksS0FBQSxZQUFBc0QsSUFBQSxLQUVBLElBR0FvRixFQUFBNUksWUFBQSxXQUFBQyxLQUFBLGNBQUEySSxFQUFBMUksS0FBQSxpQkFFQSxHQVhBLFFBZ0JBdUIsRUFBQSxTQUFBc0gsR0FDQSxHQUFBQyxJQUFBLENBU0EsT0FSQUQsR0FBQW5KLFFBQUEsU0FBQUMsRUFBQVksRUFBQUMsR0FDQVosRUFBQSxJQUFBRCxFQUFBLGlCQUFBRSxLQUFBLFdBQ0EsR0FBQWQsRUFBQWEsRUFBQTNDLE1BQUErQyxLQUFBLFFBQUFKLEVBQUEzQyxNQUFBOEMsS0FBQSxTQUVBK0ksR0FBQSxPQUlBQSxFQUdBLFFBQ0EvSixjQUFBQSxFQUNBd0MsYUFBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbGVvJywgWyduZ1JvdXRlJywgJ25nQW5pbWF0ZScsICd1aS5ib290c3RyYXAnLCAnY2hlY2tsaXN0LW1vZGVsJywgJ3RvYXN0cicsICdhbmd1bGFyLW1vbWVudGpzJ10pO1xyXG5cclxuXHJcbmFwcC5jb25maWcoWyckcm91dGVQcm92aWRlcicsXHJcbiAgICBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xyXG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLlxyXG4gICAgICAgICAgICB3aGVuKCcvJywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdsZW8vc3RhdGljL2xvZ2luLmh0bWwnXHJcbiAgICAgICAgICAgIH0pLlxyXG4gICAgICAgICAgICB3aGVuKCcvc2VhcmNoJywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdsZW8vcHJpdmF0ZS9zZWFyY2guaHRtbCdcclxuICAgICAgICAgICAgfSkuXHJcbiAgICAgICAgICAgIHdoZW4oJy9yZWdpc3RlcicsIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbGVvL3N0YXRpYy9yZWdpc3Rlci5odG1sJ1xyXG4gICAgICAgICAgICB9KS5cclxuICAgICAgICAgICAgd2hlbignL2NvbnRhY3RMaXN0Jywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdsZW8vcHJpdmF0ZS9jb250YWN0TGlzdC5odG1sJ1xyXG4gICAgICAgICAgICB9KS5cclxuICAgICAgICAgICAgd2hlbignL2FkZGZhbWlseScsIHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbGVvL3ByaXZhdGUvYWRkZmFtaWx5Lmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdlZGl0RmFtaWx5Q3RybCdcclxuICAgICAgICAgICAgfSkuXHJcbiAgICAgICAgICAgIHdoZW4oJy9hZGRjb3JwJywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdsZW8vcHJpdmF0ZS9hZGRjb3JwLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdlZGl0Q29ycEN0cmwnXHJcbiAgICAgICAgICAgIH0pLlxyXG4gICAgICAgICAgICB3aGVuKCcvY29udGFjdGxpc3QnLCB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2xlby9wcml2YXRlL2NvbnRhY3RsaXN0Lmh0bWwnXHJcbiAgICAgICAgICAgIH0pLlxyXG4gICAgICAgICAgICBvdGhlcndpc2Uoe1xyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogJy9zZWFyY2gnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG5cclxuIiwiYXBwLmZhY3RvcnkoJ2F1dGhJbnRlcmNlcHRvcicsIFsnJHEnLCAnJGxvY2F0aW9uJywgJ2F1dGhTZXJ2aWNlJywgZnVuY3Rpb24gKCRxLCAkbG9jYXRpb24sIGF1dGhTZXJ2aWNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICAgICAgaWYgKGF1dGhTZXJ2aWNlLmlzQXV0aGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWRcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgJHEud2hlbihyZXNwb25zZSk7XHJcbiAgICAgICAgfSwgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZFxyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvXCIpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufV0pIiwiYXBwLnNlcnZpY2UoJ2F1dGhTZXJ2aWNlJywgWyckd2luZG93JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcclxuXHJcbiAgICB0aGlzLnBhcnNlSnd0ID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCAnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XHJcbiAgICAgICAgfSBlbHNlIHJldHVybiB7fTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zYXZlVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbiA9IHRva2VuO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1NhdmVkIHRva2VuOicsJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuand0VG9rZW4pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmdldFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5pc0F1dGhlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmdldFRva2VuKCk7XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnBhcnNlSnd0KHRva2VuKTtcclxuICAgICAgICAgICAgdmFyIG5vdEV4cGlyZWQgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgPD0gcGFyYW1zLmV4cDtcclxuICAgICAgICAgICAgaWYgKCFub3RFeHBpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub3RFeHBpcmVkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlbGV0ZSAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbjtcclxuICAgIH07XHJcblxyXG4gICAgLy8gZXhwb3NlIHVzZXIgYXMgYW4gb2JqZWN0XHJcbiAgICB0aGlzLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VKd3QodGhpcy5nZXRUb2tlbigpKVxyXG4gICAgfTtcclxufV0pOyIsIi8vZWRpdCBjb3Jwb3JhdGlvbiBtb2RhbCB0ZW1wbGF0ZVxyXG5hcHAuY29udHJvbGxlcignZWRpdENvcnBDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJyRsb2cnLCAnUmVzdWx0U2VydmljZScsICckaHR0cCcsICd2YWxpZFNlcnZpY2UnLCAnZGF0ZVNlcnZpY2UnLCAndG9hc3RyJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCAkbG9nLCBSZXN1bHRTZXJ2aWNlLCAkaHR0cCwgdmFsaWRTZXJ2aWNlLCBkYXRlU2VydmljZSwgdG9hc3RyKSB7XHJcblxyXG5cdC8vIHNldHMgdmFsaWRhdGlvbiBmcm9tIHNlcnZpY2UgZm9yIGRvbSBjYWxsc1xyXG5cdCRzY29wZS52YWxpZGF0ZUlucHV0ID0gdmFsaWRTZXJ2aWNlLnZhbGlkYXRlSW5wdXQ7XHJcblx0Ly9zZW5kcyB0aGUgY29tcGFuaWVzIGFmdGVyIHRoZSByZXN1bHRzIGhhdmUgYmVlbiBvcmdhbml6ZWRcclxuXHQkc2NvcGUuY29tcGFuaWVzID0gUmVzdWx0U2VydmljZS5jb21wYW5pZXM7XHJcblx0JHNjb3BlLmNvcnAgPSB7XHJcblx0XHRpbmZvOiB7fSxcclxuXHRcdGNvbnRhY3Q6IHt9LFxyXG5cdFx0ZG9uYXRpb25zOiBbXVxyXG5cdH07XHJcblx0JHNjb3BlLm5ld0RvbmF0aW9uID0ge307XHJcblx0JHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkID0gdHJ1ZTtcclxuXHJcblx0JHNjb3BlLmNsZWFyQ29ycCA9IGZ1bmN0aW9uIChmb3Jtc0FycmF5KSB7XHJcblx0XHR0b2FzdHIuZXJyb3IoJ0NhbmNlbGxlZCcpO1xyXG5cdFx0JHNjb3BlLmNvcnAgPSB7XHJcblx0XHRcdGluZm86e30sXHJcblx0XHRcdGNvbnRhY3Q6e30sXHJcblx0XHRcdGRvbmF0aW9uczpbXVxyXG5cdFx0fTtcclxuXHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xyXG5cdFx0Zm9ybXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XHJcblx0XHRcdCQoJyMnKyB2ICsnIC5qcy12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKS5hdHRyKCdwbGFjZWhvbGRlcicsICQodGhpcykuZGF0YSgncGxhY2Vob2xkZXInKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoc2l6ZSwgaWQpIHtcclxuXHRcdGNvbnNvbGUubG9nKCdjb3JwIGNhbGwnLCBpZCk7XHJcblx0XHRyZXR1cm4gJGh0dHAoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6ICdsZW8vY29ycG9yYXRpb24nLFxyXG5cdFx0XHRwYXJhbXM6IHtpZDogaWR9XHJcblx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cclxuXHRcdFx0cmVzcG9uc2UuZGF0YS5kb25hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xyXG5cdFx0XHRcdGFbaV0uZGF0ZSA9IGRhdGVTZXJ2aWNlLmZyb21EQih2LmRhdGUpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCRzY29wZS5jb3JwID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0YW5pbWF0aW9uOiAkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdsZW8vcHJpdmF0ZS9lZGl0Y29ycC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxJbnN0YW5jZUN0cmwnLFxyXG5cdFx0XHRcdHNpemU6IHNpemUsXHJcblx0XHRcdFx0c2NvcGU6ICRzY29wZSxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRpdGVtczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJHNjb3BlLmNvcnA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbGVjdGVkSXRlbSkge1xyXG5cdFx0XHRcdCRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcclxuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLnRvZ2dsZUFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdCRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9ICEkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQ7XHJcblx0fTtcclxuXHJcblx0Ly8gc2F2ZSBjb3JwXHJcblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcIlNhdmUgc3VibWl0dGVkXCIsICRzY29wZS5jb3JwKTtcclxuXHRcdC8vYWxlcnQoXCJTdWJtaXR0ZWRcIik7XHJcblxyXG5cdFx0Ly8gY2hlY2sgZm9yIGRvbmF0aW9uLCBydW4gdG9EQiBmb3JtYXR0aW5nIGJlZm9yZSBzZW5kaW5nXHJcblx0XHRpZigkc2NvcGUuY29ycC5kb25hdGlvbnMubGVuZ3RoKSB7XHJcblx0XHRcdCRzY29wZS5jb3JwLmRvbmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpLCBhKSB7XHJcblx0XHRcdFx0YVtpXS5kYXRlID0gZGF0ZVNlcnZpY2UudG9EQih2LmRhdGUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpZiBoYXMgaWQsIHRoZW4gcHV0XHJcblx0XHRpZighJHNjb3BlLmNvcnAuaWQpIHtcclxuXHRcdFx0aWYodmFsaWRTZXJ2aWNlLnZhbGlkYXRlRm9ybShbXCJBZGRDb3JwSW5mb0Zvcm1cIiwgXCJBZGRDb3JwQ29udGFjdEZvcm1cIl0pKSB7XHJcblx0XHRcdFx0JGh0dHAoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0XHR1cmw6ICcvbGVvL2NvcnBvcmF0aW9uJyxcclxuXHRcdFx0XHRcdGRhdGE6IHtjb3JwOiAkc2NvcGUuY29ycH1cclxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiUG9zdGVkIGNvcnAsIGdvdCBpZCBcIiwgcmVzLmRhdGEpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmNvcnAuaWQgPSByZXMuZGF0YS5pZDtcclxuXHRcdFx0XHRcdCRzY29wZS5jb3JwLmluZm8gPSAocmVzLmRhdGEuaW5mbykgPyByZXMuZGF0YS5pbmZvIDoge307XHJcblx0XHRcdFx0XHQkc2NvcGUuY29udGFjdCA9IChyZXMuZGF0YS5jb250YWN0KSA/IHJlcy5kYXRhLmNvbnRhY3QgOiB7fTtcclxuXHRcdFx0XHRcdC8vIGluaXRpYWxpemUgZG9uYXRpb25zIGlmIHRoZXJlIGFyZSBhbnlcclxuXHRcdFx0XHRcdGlmICgkc2NvcGUuY29ycC5kb25hdGlvbnMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jb3JwLmRvbmF0aW9ucyA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHNjb3BlLmRvbmF0aW9ucyA9IChyZXMuZGF0YS5kb25hdGlvbnMpID8gcmVzLmRhdGEuZG9uYXRpb25zIDoge307XHJcblx0XHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnQ29ycG9yYXRpb24gYWRkZWQhJyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gYWRkIGNvcnBvcmF0aW9uJyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ1VuYXV0aG9yaXplZCBjaGFyYWN0ZXInKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkFkZCBjb3JwIGlucHV0IHRlc3RzIGZhaWxlZFwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2Uge1xyXG5cdFx0XHRpZih2YWxpZFNlcnZpY2UudmFsaWRhdGVGb3JtKFtcIkVkaXRDb3JwSW5mb0Zvcm1cIiwgXCJFZGl0Q29ycENvbnRhY3RGb3JtXCJdKSkge1xyXG5cdFx0XHRcdC8vIGluc2VydCBjb3JwIC0gaGFzIG5vIGlkXHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJ1cGRhdGUgY29ycFwiLCAkc2NvcGUuY29ycCk7XHJcblx0XHRcdFx0JGh0dHAoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcclxuXHRcdFx0XHRcdHVybDogJy9sZW8vY29ycG9yYXRpb24nLFxyXG5cdFx0XHRcdFx0ZGF0YToge2NvcnA6ICRzY29wZS5jb3JwfVxyXG5cdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJQdXQgY29ycCwgZ290IGlkIFwiLCByZXMuZGF0YSk7XHJcblxyXG5cdFx0XHRcdFx0JHNjb3BlLmNvcnAuaWQgPSByZXMuZGF0YS5pZDtcclxuXHRcdFx0XHRcdCRzY29wZS5jb3JwLmluZm8gPSAocmVzLmRhdGEuaW5mbykgPyByZXMuZGF0YS5pbmZvIDoge307XHJcblx0XHRcdFx0XHQkc2NvcGUuY29udGFjdCA9IChyZXMuZGF0YS5jb250YWN0KSA/IHJlcy5kYXRhLmNvbnRhY3QgOiB7fTtcclxuXHRcdFx0XHRcdC8vIGluaXRpYWxpemUgZG9uYXRpb25zIGlmIHRoZXJlIGFyZSBhbnlcclxuXHRcdFx0XHRcdGlmICgkc2NvcGUuY29ycC5kb25hdGlvbnMubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jb3JwLmRvbmF0aW9ucyA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHNjb3BlLmRvbmF0aW9ucyA9IChyZXMuZGF0YS5kb25hdGlvbnMpID8gcmVzLmRhdGEuZG9uYXRpb25zIDoge307XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkVkaXQgY29ycCBpbnB1dCB0ZXN0cyBmYWlsZWRcIik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBhZGRzIGRvbmF0aW9uIHRvIGZhbWlseSBvYmplY3RcclxuXHQkc2NvcGUuYWRkRG9uYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyByZWdleCBjaGVjayBuZWVkZWQgZm9yIGF1dG8gYWRkIGlmIGNsaWNrIHNhdmUgaW5zdGVhZCBvZiBhZGQgZmlyc3RcclxuXHRcdGlmKC9eWzAtOV0rKC5bMC05XXswLDJ9KT8kLy50ZXN0KCRzY29wZS5uZXdEb25hdGlvbi5hbW91bnQpKSB7XHJcblx0XHRcdC8vdmFyIHRlbXAgPSAkc2NvcGUubmV3RG9uYXRpb247XHJcblx0XHRcdC8vdGVtcC5kYXRlID0gZGF0ZVNlcnZpY2UudG9EQih0ZW1wLmRhdGUpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImRvbmF0aW9uXCIsICRzY29wZS5uZXdEb25hdGlvbik7XHJcblx0XHRcdCRzY29wZS5jb3JwLmRvbmF0aW9ucy5wdXNoKCRzY29wZS5uZXdEb25hdGlvbik7XHJcblx0XHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImFkZGVkIGRvbmF0aW9uXCIsICRzY29wZS5jb3JwLmRvbmF0aW9ucyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcbn1dKTsiLCJhcHAuY29udHJvbGxlcignY3JlYXRlTGlzdFNlYXJjaCcsIFsnJHNjb3BlJywgJyRodHRwJywgJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCAnbmV3Q29udGFjdExpc3REYXRhJywgJ3RvYXN0cicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsIENvbnRhY3RMaXN0RGF0YVNlcnZpY2UsbmV3Q29udGFjdExpc3REYXRhLCB0b2FzdHIsICRyb290U2NvcGUpIHtcclxuICAgICRzY29wZS50eXBlID17fTtcclxuICAgICRzY29wZS5hZ2U9e307XHJcbiAgICAkc2NvcGUuemlwPXt9O1xyXG5cdC8vIGluY2x1ZGUgbGlzdCBuZWVkcyB0byBiZSB3aXRoaW4gYW4gb2JqZWN0IGR1ZSB0byB0aGUgY2hlY2tib3hlcyBiZWluZyBpbiBhIHRhYmxlXHJcblx0JHNjb3BlLmVtYWlscyA9IHt9O1xyXG4gICAgJHNjb3BlLmVtYWlscy5pbmNsdWRlZEVtYWlscyA9IFtdO1xyXG5cdCRzY29wZS5pbmNsdWRlZEVtYWlscyA9IFtdO1xyXG5cdCRzY29wZS50b3RhbERpc3BsYXllZCA9IDUwO1xyXG5cdCRzY29wZS50b3RhbFJlc3VsdHMgPSAwO1xyXG4gICAgLy8kcm9vdFNjb3BlLmhpZGUgPSB0cnVlO1xyXG5cclxuXHJcblxyXG4gICAgJHNjb3BlLmVtYWlsTGlzdCA9IFsgXTtcclxuICAgICRzY29wZS5zZWFyY2hMaXN0QnRuID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0JHNjb3BlLmVtYWlsTGlzdCA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgLy9USElTIFdPUktTICAtLSB3aWxsIHNlYXJjaCBieSB6aXBcclxuICAgICAgICBpZiAoJHNjb3BlLnR5cGUgPT0gJ3ppcENrJykge1xyXG5cclxuICAgICAgICAgICAgQ29udGFjdExpc3REYXRhU2VydmljZS5tYWtlRGF0YUNhbGwoJ3ppcCcsICRzY29wZS56aXAuZGF0YSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XHJcblx0XHRcdFx0XHQkc2NvcGUudG90YWxSZXN1bHRzID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygkc2NvcGUuZW1haWxMaXN0KTtcclxuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdMb2FkZWQgJysgJHNjb3BlLnRvdGFsUmVzdWx0cyArJyByZXN1bHRzJyk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJlc3VsdHMnKTtcclxuXHRcdFx0XHR9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL1RISVMgV09SS1MgLSB3aWxsIHNlYXJjaCBieSBhZ2VcclxuICAgICAgICBpZiAoJHNjb3BlLnR5cGUgPT0gJ2FnZUNrJykge1xyXG4gICAgICAgICAgICB2YXIgYWdlID0gQ29udGFjdExpc3REYXRhU2VydmljZS5tYWtlRGF0YUNhbGwoJ2FnZScsICRzY29wZS5hZ2UuZGF0YSk7XHJcbiAgICAgICAgICAgIGFnZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XHJcblx0XHRcdFx0JHNjb3BlLnRvdGFsUmVzdWx0cyA9IGRhdGEubGVuZ3RoO1xyXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdMb2FkZWQgJysgJHNjb3BlLnRvdGFsUmVzdWx0cyArJyByZXN1bHRzJyk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJlc3VsdHMnKTtcclxuXHRcdFx0fSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1RISVMgV09SS1MgLS1nZXQgYWxsIGZhbWlsaWVzIGlmIGZhbSBpcyB0cnVlXHJcbiAgICAgICAgaWYgKCRzY29wZS50eXBlID09ICdmYW0nKSB7XHJcbiAgICAgICAgICAgIHZhciBmYW0gPSBDb250YWN0TGlzdERhdGFTZXJ2aWNlLm1ha2VEYXRhQ2FsbCgnZmFtaWx5JywgJycpO1xyXG4gICAgICAgICAgICBmYW0udGhlbihmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XHJcblx0XHRcdFx0JHNjb3BlLnRvdGFsUmVzdWx0cyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnTG9hZGVkICcrICRzY29wZS50b3RhbFJlc3VsdHMgKycgcmVzdWx0cycpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCByZXN1bHRzJyk7XHJcblx0XHRcdH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9nZXQgYWxsIGNvcnAgaWYgY29ycCBpcyB0cnVlXHJcbiAgICAgICAgaWYgKCRzY29wZS50eXBlID09ICdjb3JwJykge1xyXG4gICAgICAgICAgICB2YXIgY29tcCA9IENvbnRhY3RMaXN0RGF0YVNlcnZpY2UubWFrZURhdGFDYWxsKCdjb21wYW55JywgJycpO1xyXG4gICAgICAgICAgICBjb21wLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbWFpbExpc3QgPSBkYXRhO1xyXG5cdFx0XHRcdCRzY29wZS50b3RhbFJlc3VsdHMgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0xvYWRlZCAnKyAkc2NvcGUudG90YWxSZXN1bHRzICsnIHJlc3VsdHMnKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVzdWx0cycpO1xyXG5cdFx0XHR9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZW1wdHkgdGhlIHNlYXJjaCBib3hcclxuICAgICAgICRzY29wZS50eXBlPXt9O1xyXG4gICAgICAgICRzY29wZS5hZ2U9e307XHJcbiAgICAgICAgJHNjb3BlLnppcD17fTtcclxuXHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnBvcHVsYXRlTGlzdCAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9hbGVydCgnd29ya2luZycpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5lbWFpbHMuaW5jbHVkZWRFbWFpbHMpO1xyXG4gICAgICAgIGlmKG5ld0NvbnRhY3RMaXN0RGF0YS5wb3BMaXN0KCRzY29wZS5lbWFpbHMuaW5jbHVkZWRFbWFpbHMpKSB7XHJcblx0XHRcdHRvYXN0ci5zdWNjZXNzKCdTdWNjZXNzZnVsbHkgZGVwbG95ZWQgY29udGFjdCBsaXN0LicpO1xyXG5cdFx0fWVsc2Uge1xyXG5cdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBkZXBsb3kgY29udGFjdCBsaXN0LicpO1xyXG5cdFx0fVxyXG4gIH07XHJcblxyXG5cdCRzY29wZS5sb2FkTW9yZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdCRzY29wZS50b3RhbERpc3BsYXllZCArPSA1MDtcclxuXHR9O1xyXG5cclxuXHQkc2NvcGUuc2hvd0FsbCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdCRzY29wZS50b3RhbERpc3BsYXllZCA9ICRzY29wZS50b3RhbFJlc3VsdHM7XHJcblx0fTtcclxuXHJcblx0JHNjb3BlLmNoZWNrQWxsID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdHZhciAkYnV0dG9uID0gYW5ndWxhci5lbGVtZW50KGV2ZW50LnRhcmdldCk7XHJcblx0XHRpZigkc2NvcGUuZW1haWxzLmluY2x1ZGVkRW1haWxzLmxlbmd0aCA9PSAkc2NvcGUudG90YWxSZXN1bHRzKSB7XHJcblx0XHRcdCRzY29wZS5lbWFpbHMuaW5jbHVkZWRFbWFpbHMgPSBbXTtcclxuXHRcdFx0JGJ1dHRvbi52YWwoXCJDaGVjayBBbGxcIik7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0JHNjb3BlLmVtYWlscy5pbmNsdWRlZEVtYWlscyA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZW1haWxMaXN0KTtcclxuXHRcdFx0JGJ1dHRvbi52YWwoXCJVbmNoZWNrIEFsbFwiKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XSk7XHJcblxyXG5cclxuIiwiYXBwLmZhY3RvcnkoJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCBbJyRodHRwJywgJyRxJywgZnVuY3Rpb24gKCRodHRwLCAkcSkge1xyXG5cclxuICAgIGZ1bmN0aW9uIG1ha2VEYXRhQ2FsbCh0eXBlLCBwYXNzZWREYXRhKSB7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBpbiB0aGUgbWFrZSBkYXRhIGNhbGwnLCB0eXBlLCBwYXNzZWREYXRhKTtcclxuICAgICAgICAkaHR0cCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIHVybDogJ2xlby9jcmVhdGVNYWlsTGlzdCcsXHJcbiAgICAgICAgICAgIHBhcmFtczoge3R5cGU6IHR5cGUsIHNlYXJjaDogcGFzc2VkRGF0YX1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IFtdLFxyXG4gICAgICAgIG1ha2VEYXRhQ2FsbDogbWFrZURhdGFDYWxsXHJcbiAgICB9O1xyXG5cclxuXHJcbn1dKTsiLCJhcHAuc2VydmljZSgnZGF0ZVNlcnZpY2UnLCBbJ01vbWVudEpTJywgZnVuY3Rpb24gKG1vbWVudCkge1xyXG5cdHZhciBkYkZvcm1hdCA9IFwiWVlZWS1NTS1ERFwiO1xyXG5cdHZhciB1aUZvcm1hdCA9IFwiTS9EL1lZWVlcIjtcclxuXHJcblx0dmFyIHRvRGJGb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoZGJGb3JtYXQpO1xyXG5cdH07XHJcblxyXG5cdHZhciBmcm9tRGJGb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQodWlGb3JtYXQpO1xyXG5cdH07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0b0RCOiB0b0RiRm9ybWF0LFxyXG5cdFx0ZnJvbURCOiBmcm9tRGJGb3JtYXRcclxuICAgIH07XHJcbn1dKTsiLCIvL2VkaXQgZmFtaWx5IG1vZGFsIHRlbXBsYXRlXHJcbmFwcC5jb250cm9sbGVyKCdlZGl0RmFtaWx5Q3RybCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbCcsICckbG9nJywgJ1Jlc3VsdFNlcnZpY2UnLCAnJGh0dHAnLCAndmFsaWRTZXJ2aWNlJywgJ3RvYXN0cicsJ2RhdGVTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCAkbG9nLCBSZXN1bHRTZXJ2aWNlLCAkaHR0cCwgdmFsaWRTZXJ2aWNlLCB0b2FzdHIsIGRhdGVTZXJ2aWNlKSB7XHJcblx0Ly8gc2V0cyB2YWxpZGF0aW9uIGZyb20gc2VydmljZSBmb3IgZG9tIGNhbGxzXHJcblx0JHNjb3BlLnZhbGlkYXRlSW5wdXQgPSB2YWxpZFNlcnZpY2UudmFsaWRhdGVJbnB1dDtcclxuXHQvL3NlbmRzIHRoZSBhZHVsdHMgYW5kIGtpZHMgYWZ0ZXIgdGhlIHJlc3VsdHMgaGF2ZSBiZWVuIG9yZ2FuaXplZFxyXG5cdCRzY29wZS5hZHVsdHMgPSBSZXN1bHRTZXJ2aWNlLmFkdWx0cztcclxuXHQkc2NvcGUua2lkcyA9IFJlc3VsdFNlcnZpY2Uua2lkcztcclxuXHQkc2NvcGUuZmFtaWx5ID0ge1xyXG5cdFx0YWR1bHRPbmU6IHt9LFxyXG5cdFx0YWR1bHRUd286IHt9LFxyXG5cdFx0ZW1lcmdlbmN5OiB7fSxcclxuXHRcdGNoaWxkcmVuOiBbXSxcclxuXHRcdGRvbmF0aW9uczogW11cclxuXHR9O1xyXG5cdCRzY29wZS5uZXdDaGlsZCA9IHt9O1xyXG5cdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xyXG5cclxuXHQkc2NvcGUuY2xlYXJGYW1pbHkgPSBmdW5jdGlvbiAoZm9ybXNBcnJheSkge1xyXG5cdFx0dG9hc3RyLmVycm9yKCdDYW5jZWxsZWQnKTtcclxuXHRcdCRzY29wZS5mYW1pbHkgPSB7XHJcblx0XHRcdGFkdWx0T25lOiB7fSxcclxuXHRcdFx0YWR1bHRUd286IHt9LFxyXG5cdFx0XHRlbWVyZ2VuY3k6IHt9LFxyXG5cdFx0XHRjaGlsZHJlbjogW10sXHJcblx0XHRcdGRvbmF0aW9uczogW11cclxuXHRcdH07XHJcblx0XHQkc2NvcGUubmV3Q2hpbGQgPSB7fTtcclxuXHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xyXG5cdFx0Zm9ybXNBcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XHJcblx0XHRcdCQoJyMnKyB2ICsnIC5qcy12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKS5hdHRyKCdwbGFjZWhvbGRlcicsICQodGhpcykuZGF0YSgncGxhY2Vob2xkZXInKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblxyXG5cclxuXHQkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xyXG5cdCRzY29wZS5vcGVuID0gZnVuY3Rpb24gKHNpemUsIGlkKSB7XHJcblx0XHRjb25zb2xlLmxvZygnZmFtaWx5IGNhbGwnLCBpZCk7XHJcblx0XHRyZXR1cm4gJGh0dHAoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6ICcuLi9sZW8vZmFtaWx5JyxcclxuXHRcdFx0cGFyYW1zOiB7aWQ6IGlkfVxyXG5cdFx0fSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XHJcblx0XHRcdHJlc3BvbnNlLmRhdGEuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicmVmb3JtYXR0ZWRcIiwgZGF0ZVNlcnZpY2UuZnJvbURCKGFbaV0uYmlydGhkYXRlKSk7XHJcblx0XHRcdFx0YVtpXS5iaXJ0aGRhdGUgPSBkYXRlU2VydmljZS5mcm9tREIodi5iaXJ0aGRhdGUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmVzcG9uc2UuZGF0YS5kb25hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xyXG5cdFx0XHRcdGFbaV0uZGF0ZSA9IGRhdGVTZXJ2aWNlLmZyb21EQih2LmRhdGUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0JHNjb3BlLmZhbWlseSA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGFuaW1hdGlvbjogJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbGVvL3ByaXZhdGUvZWRpdGZhbWlseS5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxJbnN0YW5jZUN0cmwnLFxyXG5cdFx0XHRcdHNpemU6IHNpemUsXHJcblx0XHRcdFx0c2NvcGU6ICRzY29wZSxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRpdGVtczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJHNjb3BlLmZhbWlseTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZWxlY3RlZEl0ZW0pIHtcclxuXHRcdFx0XHQkc2NvcGUuc2VsZWN0ZWQgPSBzZWxlY3RlZEl0ZW07XHJcblx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkbG9nLmluZm8oJ01vZGFsIGRpc21pc3NlZCBhdDogJyArIG5ldyBEYXRlKCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdCRzY29wZS50b2dnbGVBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQgPSAhJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkO1xyXG5cdH07XHJcblxyXG5cdC8vIHNhdmUgZmFtaWx5XHJcblx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcIlNhdmUgc3VibWl0dGVkXCIsICRzY29wZS5mYW1pbHkpO1xyXG5cclxuXHRcdC8vIGNoZWNrIGZvciBjaGlsZHJlbiwgcnVuIHRvREIgZm9ybWF0dGluZyBiZWZvcmUgc2VuZGluZ1xyXG5cdFx0aWYoJHNjb3BlLmZhbWlseS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuXHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpLCBhKSB7XHJcblx0XHRcdFx0YVtpXS5iaXJ0aGRhdGUgPSBkYXRlU2VydmljZS50b0RCKHYuYmlydGhkYXRlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY2hlY2sgZm9yIGRvbmF0aW9uLCBydW4gdG9EQiBmb3JtYXR0aW5nIGJlZm9yZSBzZW5kaW5nXHJcblx0XHRpZigkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucy5sZW5ndGgpIHtcclxuXHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xyXG5cdFx0XHRcdGFbaV0uZGF0ZSA9IGRhdGVTZXJ2aWNlLnRvREIodi5kYXRlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc29sZS5sb2coXCJTYXZpbmcgZmFtaWx5LCBhZnRlciB0b0RCIGJpcnRoZGF0ZXNcIiwgJHNjb3BlLmZhbWlseSk7XHJcblxyXG5cdFx0Ly8gaWYgaGFzIGlkLCB0aGVuIHBvc3RcclxuXHJcblx0XHRpZighJHNjb3BlLmZhbWlseS5pZCkge1xyXG5cclxuXHRcdFx0aWYodmFsaWRTZXJ2aWNlLnZhbGlkYXRlRm9ybShbXCJBZGRGYW1JbmZvRm9ybVwiLCBcIkFkZEZhbUVtZXJGb3JtXCJdKSkge1xyXG5cdFx0XHRcdCRodHRwKHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0dXJsOiAnL2xlby9mYW1pbHknLFxyXG5cdFx0XHRcdFx0ZGF0YToge2ZhbWlseTogJHNjb3BlLmZhbWlseX1cclxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiUG9zdGVkIGZhbWlseSwgZ290IGlkIFwiLCByZXMuZGF0YSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmlkID0gcmVzLmRhdGEuaWQ7XHJcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmFkdWx0T25lID0gKHJlcy5kYXRhLmFkdWx0T25lKSA/IHJlcy5kYXRhLmFkdWx0T25lIDoge307XHJcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmFkdWx0VHdvID0gKHJlcy5kYXRhLmFkdWx0VHdvKSA/IHJlcy5kYXRhLmFkdWx0VHdvIDoge307XHJcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmVtZXJnZW5jeSA9IChyZXMuZGF0YS5lbWVyZ2VuY3kpID8gcmVzLmRhdGEuZW1lcmdlbmN5IDoge307XHJcblx0XHRcdFx0XHRpZiAoJHNjb3BlLmZhbWlseS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbiA9IChyZXMuZGF0YS5jaGlsZHJlbikgPyByZXMuZGF0YS5jaGlsZHJlbiA6IFtdO1xyXG5cdFx0XHRcdFx0aWYgKCRzY29wZS5mYW1pbHkuZG9uYXRpb25zLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucyA9IFtdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMgPSAocmVzLmRhdGEuZG9uYXRpb25zKSA/IHJlcy5kYXRhLmRvbmF0aW9ucyA6IFtdO1xyXG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0ZhbWlseSBzYXZlZCEnKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBhZGQgZmFtaWx5Jyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ1VuYXV0aG9yaXplZCBjaGFyYWN0ZXInKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkFkZCBmYW1pbHkgZmFpbGVkIGlucHV0IHRlc3RzXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZSB7XHJcblx0XHRcdGlmKHZhbGlkU2VydmljZS52YWxpZGF0ZUZvcm0oW1wiRWRpdEZhbUluZm9Gb3JtXCIsIFwiRWRpdEZhbUVtZXJGb3JtXCJdKSkge1xyXG5cdFx0XHRcdC8vIHVwZGF0ZSBmYW1pbHkgLSBoYXMgbm8gaWRcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcInVwZGF0ZSBmYW1pbHlcIiwgJHNjb3BlLmZhbWlseSk7XHJcblx0XHRcdFx0JGh0dHAoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcclxuXHRcdFx0XHRcdHVybDogJy9sZW8vZmFtaWx5JyxcclxuXHRcdFx0XHRcdGRhdGE6IHtmYW1pbHk6ICRzY29wZS5mYW1pbHl9XHJcblx0XHRcdFx0fSkudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlB1dCBmYW1pbHksIGdvdCBpZCBcIiwgcmVzLmRhdGEpO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5pZCA9IHJlcy5kYXRhLmlkO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5hZHVsdE9uZSA9IChyZXMuZGF0YS5hZHVsdE9uZSkgPyByZXMuZGF0YS5hZHVsdE9uZSA6IHt9O1xyXG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5hZHVsdFR3byA9IChyZXMuZGF0YS5hZHVsdFR3bykgPyByZXMuZGF0YS5hZHVsdFR3byA6IHt9O1xyXG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5lbWVyZ2VuY3kgPSAocmVzLmRhdGEuZW1lcmdlbmN5KSA/IHJlcy5kYXRhLmVtZXJnZW5jeSA6IHt9O1xyXG5cdFx0XHRcdFx0aWYgKCRzY29wZS5mYW1pbHkuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4gPSAocmVzLmRhdGEuY2hpbGRyZW4pID8gcmVzLmRhdGEuY2hpbGRyZW4gOiBbXTtcclxuXHRcdFx0XHRcdGlmICgkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucy5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMgPSBbXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuZG9uYXRpb25zID0gKHJlcy5kYXRhLmRvbmF0aW9ucykgPyByZXMuZGF0YS5kb25hdGlvbnMgOiBbXTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fWVsc2Uge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRWRpdCBmYW1pbHkgZmFpbGVkIGlucHV0IHRlc3RzXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gZm9yIGFwcGVuZGluZyBjaGlsZHJlbiB0byBtb2RlbCBiZWZvcmUgc2F2aW5nIG5ldyBmYW1pbHlcclxuXHQkc2NvcGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBleGlzdHMgY2hlY2sgbmVlZGVkIGZvciBhdXRvIGFkZCBpZiBjbGljayBzYXZlIGluc3RlYWQgb2YgYWRkIGZpcnN0XHJcblx0XHRpZigkc2NvcGUubmV3Q2hpbGQuZmlyc3ROYW1lKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiY2hpbGQgYWRkZWRcIiwgJHNjb3BlLm5ld0NoaWxkLCAkc2NvcGUuZmFtaWx5LmNoaWxkcmVuKTtcclxuXHRcdFx0Ly8gaWYgdHJ1ZSwgdGhlbiB1cGRhdGUgdGhhdCBpbmRleFxyXG5cdFx0XHRpZigkc2NvcGUuZWRpdGluZ0NoaWxkKSB7XHJcblx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlblskc2NvcGUuZWRpdGluZ0NoaWxkXSA9ICRzY29wZS5uZXdDaGlsZDtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdGluZ0NoaWxkID0gZmFsc2U7XHJcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0NoaWxkIHVwZGF0ZWQhJyk7XHJcblx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHQvLyBlbHNlIHB1c2ggdG8gYXJyYXlcclxuXHRcdFx0XHQkc2NvcGUuZmFtaWx5LmNoaWxkcmVuLnB1c2goJHNjb3BlLm5ld0NoaWxkKTtcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnQ2hpbGQgYWRkZWQhJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0JHNjb3BlLm5ld0NoaWxkID0ge307XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gZWRpdCBjaGlsZCBvbiB0aGUgYWRkIGNoaWxkcmVuIHRhYiBvZiBhZGQgZmFtaWx5XHJcblx0JHNjb3BlLmVkaXRDaGlsZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG5cdFx0Ly8gc2F2ZSBpbmRleCBvZiBjaGlsZCBlZGl0aW5nXHJcblx0XHQkc2NvcGUuZWRpdGluZ0NoaWxkID0gaW5kZXg7XHJcblx0XHQkc2NvcGUubmV3Q2hpbGQgPSAkc2NvcGUuZmFtaWx5LmNoaWxkcmVuW2luZGV4XTtcclxuXHR9O1xyXG5cclxuXHQkc2NvcGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiaW4gcmVtb3ZlIGNoaWxkIGluZGV4XCIsIGluZGV4LCBcIiBlZGl0IFwiLCAkc2NvcGUuZWRpdGluZ0NoaWxkKTtcclxuXHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdGlmKGluZGV4ID09ICRzY29wZS5lZGl0aW5nQ2hpbGQpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJlZGl0IG1hdGNoXCIpO1xyXG5cdFx0XHQkc2NvcGUuY2xlYXJDaGlsZCgpO1xyXG5cdFx0fWVsc2Uge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIm5vIGVkaXQgbWF0Y2hcIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gY2xlYXJzIHRleHQgYm94ZXMgaW4gYWRkIGZhbWlseS0+Y2hpbGRyZW4gdGFiXHJcblx0JHNjb3BlLmNsZWFyQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zb2xlLmxvZyhcImluIGNsZWFyIGNoaWxkXCIpO1xyXG5cdFx0JHNjb3BlLm5ld0NoaWxkID0ge1xyXG5cdFx0XHRmaXJzdE5hbWU6ICcnLFxyXG5cdFx0XHRsYXN0TmFtZTogJycsXHJcblx0XHRcdGJpcnRoZGF0ZTogJycsXHJcblx0XHRcdHNjaG9vbDogJycsXHJcblx0XHRcdG5vdGVzOiAnJ1xyXG5cdFx0fTtcclxuXHRcdCRzY29wZS5lZGl0aW5nQ2hpbGQgPSBmYWxzZTtcclxuXHR9O1xyXG5cclxuXHJcblx0Ly8gYWRkcyBkb25hdGlvbiB0byBmYW1pbHkgb2JqZWN0XHJcblxyXG4vLyBhZGRzIGRvbmF0aW9uIHRvIGZhbWlseSBvYmplY3RcclxuXHQkc2NvcGUuYWRkRG9uYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHQvL2NvbnNvbGUubG9nKFwiYWRkIGRvbmF0aW9uXCIsICRzY29wZS5uZXdEb25hdGlvbik7XHJcblx0XHQvLyByZWdleCBjaGVjayBuZWVkZWQgZm9yIGF1dG8gYWRkIGlmIGNsaWNrIHNhdmUgaW5zdGVhZCBvZiBhZGQgZmlyc3RcclxuXHRcdGlmKC9eWzAtOV0rKC5bMC05XXswLDJ9KT8kLy50ZXN0KCRzY29wZS5uZXdEb25hdGlvbi5hbW91bnQpKSB7XHJcblx0XHRcdC8vdmFyIHRlbXAgPSAkc2NvcGUubmV3RG9uYXRpb247XHJcblx0XHRcdC8vdGVtcC5kYXRlID0gZGF0ZVNlcnZpY2UudG9EQih0ZW1wLmRhdGUpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImFkZCBkb25hdGlvblwiLCAkc2NvcGUubmV3RG9uYXRpb24pO1xyXG5cdFx0XHQkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucy5wdXNoKCRzY29wZS5uZXdEb25hdGlvbik7XHJcblx0XHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImFkZGVkIGRvbmF0aW9uXCIsICRzY29wZS5mYW1pbHkuZG9uYXRpb25zKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLy8vIHByZXZlbnQgYWNjaWRlbnRhbCBiYWNrc1xyXG5cdC8vJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCBldmVudCwgb2xkVXJsICkge1xyXG5cdC8vXHRjb25zb2xlLmxvZyhcIm9sZCB1cmw6IFwiLCBvbGRVcmwpO1xyXG5cdC8vXHRpZigvKGFkZGZhbWlseSkvLnRlc3Qob2xkVXJsKSkge1xyXG5cdC8vXHRcdHZhciBhbnN3ZXIgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoaXMgcGFnZT9cIik7XHJcblx0Ly9cdFx0aWYgKCFhbnN3ZXIpIHtcclxuXHQvL1x0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0Ly9cdFx0fVxyXG5cdC8vXHR9XHJcblx0Ly99KTtcclxuXHJcbn1dKTsiLCIvL2NvbnRyb2xsZXJzIGZvciBsb2dpblxyXG5hcHAuY29udHJvbGxlcignbG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnYXV0aFNlcnZpY2UnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCAndG9hc3RyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgYXV0aFNlcnZpY2UsICRsb2NhdGlvbiwgJHJvb3RTY29wZSwgdG9hc3RyKXtcclxuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9sZW8vbG9naW4nLCAkc2NvcGUuZm9ybSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBhdXRoU2VydmljZS5zYXZlVG9rZW4ocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9zZWFyY2hcIik7XHJcbiAgICAgICAgICAgIH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignaW5jb3JyZWN0IHVzZXJuYW1lIG9yIHBhc3N3b3JkJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9O1xyXG59XSk7XHJcbiIsIlxyXG4vL1RoaXMgc2hvdWxkIGdldCB0aGUgc2VhcmNoIGl0ZW1cclxuYXBwLmNvbnRyb2xsZXIoJ3NlYXJjaEZ1bmN0aW9uJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnUmVzdWx0U2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCBSZXN1bHRTZXJ2aWNlKSB7XHJcbiAgICAkc2NvcGUuZm9ybUlucHV0PXt9O1xyXG5cclxuICAgICRzY29wZS5zZWFyY2hCdG4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9wYXNzZXMgaW4gc2VhcmNoIHRleHQgdG8gc2VydmljZVxyXG4gICAgICAgUmVzdWx0U2VydmljZS5tYWtlRGF0YUNhbGwoJHNjb3BlLmZvcm1JbnB1dC5kYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyB0aGUgaW5wdXQgdGV4dCcsICRzY29wZS5mb3JtSW5wdXQpO1xyXG4gICAgICAgIC8vZW1wdGllcyB0aGUgc2VhcmNoIGJveFxyXG4gICAgICAgICRzY29wZS5mb3JtSW5wdXQ9e307XHJcbiAgICB9O1xyXG5cclxufV0pO1xyXG4iLCIvL1RoaXMgc2VydmljZSBzaG91bGQgcGFzcyBkYXRhIGJldHdlZW4gY29udHJvbGxlcnNcclxuYXBwLmZhY3RvcnkoJ1Jlc3VsdFNlcnZpY2UnLCBbJyRodHRwJyxmdW5jdGlvbigkaHR0cCkge1xyXG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuICAgIHZhciBhZHVsdHMgPSBbXTtcclxuICAgIHZhciBjb21wYW5pZXMgPSBbXTtcclxuICAgIHZhciBraWRzID0gW107XHJcblxyXG4gICAgdmFyIG1ha2VEYXRhQ2FsbCA9IGZ1bmN0aW9uKHBhc3NlZERhdGEpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICB1cmw6ICdsZW8vc2VhcmNoJyxcclxuICAgICAgICAgICAgcGFyYW1zOntzZWFyY2g6cGFzc2VkRGF0YX1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICByZXN1bHRzID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgZ2V0Q29tcGFuaWVzKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICBnZXRLaWRzKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICBnZXRBZHVsdHMocmVzdWx0cyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldENvbXBhbmllcyA9IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICAgICAgdmFyIGdldEVsZW1lbnQxID0gZnVuY3Rpb24oYXJyYXkpIHtcclxuICAgICAgICAgICAgY29tcGFuaWVzLnNwbGljZSgwLGNvbXBhbmllcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY29tcGFueScpXHJcbiAgICAgICAgICAgICAgICBjb21wYW5pZXMucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBnZXRFbGVtZW50MShhcnJheSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgZ2V0RWxlbWVudDEnLGNvbXBhbmllcyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBhbmllc1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZ2V0QWR1bHRzID0gZnVuY3Rpb24oYXJyYXkpIHtcclxuICAgICAgICB2YXIgZ2V0RWxlbWVudDIgPSBmdW5jdGlvbihhcnJheSkge1xyXG4gICAgICAgICAgICBhZHVsdHMuc3BsaWNlKDAsYWR1bHRzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdhZHVsdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgYWR1bHRzLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuICAgICAgICBnZXRFbGVtZW50MihhcnJheSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgaW4gZ2V0RWxlbWVudDInLCBhZHVsdHMpO1xyXG4gICAgICAgIHJldHVybiBhZHVsdHNcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGdldEtpZHMgPSBmdW5jdGlvbihhcnJheSkge1xyXG4gICAgICAgIHZhciBnZXRFbGVtZW50MyA9IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICAgICAgICAgIGtpZHMuc3BsaWNlKDAsa2lkcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnY2hpbGQnKVxyXG4gICAgICAgICAgICAgICAgICAgIGtpZHMucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIGdldEVsZW1lbnQzKGFycmF5KTtcclxuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBnZXRFbGVtZW50czMnLCBraWRzKTtcclxuICAgICAgICByZXR1cm4ga2lkc1xyXG4gICAgfTtcclxuXHJcbiAgICAvL3B1YmxpY1xyXG4gICAgdmFyIHB1YmxpY0FwaSA9IHtcclxuICAgICAgICBnZXRLaWRzOiBnZXRLaWRzLFxyXG4gICAgICAgIGdldEFkdWx0czogZ2V0QWR1bHRzLFxyXG4gICAgICAgIGdldENvbXBhbmllczogZ2V0Q29tcGFuaWVzLFxyXG4gICAgICAgIG1ha2VEYXRhQ2FsbDogbWFrZURhdGFDYWxsLFxyXG4gICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXHJcbiAgICAgICAgY29tcGFuaWVzOiBjb21wYW5pZXMsXHJcbiAgICAgICAgYWR1bHRzOiBhZHVsdHMsXHJcbiAgICAgICAga2lkczoga2lkc1xyXG4gICAgfTtcclxuICAgIHJldHVybiBwdWJsaWNBcGk7XHJcbn1dKTsiLCIvLyBQbGVhc2Ugbm90ZSB0aGF0ICRtb2RhbEluc3RhbmNlIHJlcHJlc2VudHMgYSBtb2RhbCB3aW5kb3cgKGluc3RhbmNlKSBkZXBlbmRlbmN5LlxyXG4vLyBJdCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlICR1aWJNb2RhbCBzZXJ2aWNlIHVzZWQgYWJvdmUuXHJcblxyXG4vL25lZWRlZCBmb3IgbW9kYWw/PyBwcmV0dHkgc3VyZVxyXG5hcHAuY29udHJvbGxlcignTW9kYWxJbnN0YW5jZUN0cmwnLFsnJHNjb3BlJywnJG1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xyXG5cclxuICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUuc2VsZWN0ZWQuaXRlbSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICB9O1xyXG59XSk7IiwiYXBwLmNvbnRyb2xsZXIoJ25hdkN0cmwnLCBbJ2F1dGhTZXJ2aWNlJywnJHNjb3BlJywnJHJvb3RTY29wZScsJyRsb2NhdGlvbicsIGZ1bmN0aW9uKGF1dGhTZXJ2aWNlLCAkc2NvcGUsICRyb290U2NvcGUsICRsb2NhdGlvbil7XHJcbiAgICAkcm9vdFNjb3BlLnVzZXIgPSBhdXRoU2VydmljZS5nZXRVc2VyKCk7XHJcblxyXG4gICAgaWYoJHJvb3RTY29wZS51c2VyICYmICRyb290U2NvcGUudXNlci51c2VybmFtZSl7XHJcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9ob21lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0KCk7XHJcbiAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xyXG4gICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL1wiKTtcclxuICAgIH1cclxufV0pO1xyXG4iLCIvLyBBamF4IGZvciBjcmVhdGluZyB0aGUgY29udGFjdCBsaXN0IGluIGNvbnN0YW50IGNvbnRhY3RcclxuYXBwLmNvbnRyb2xsZXIoJ25ld0NvbnRhY3RMaXN0Q29udHJvbGxlcicsWyduZXdDb250YWN0TGlzdERhdGEnLCckc2NvcGUnLCAnJHJvb3RTY29wZScsICd0b2FzdHInLCBmdW5jdGlvbihuZXdDb250YWN0TGlzdERhdGEsICRzY29wZSwgJHJvb3RTY29wZSwgdG9hc3RyKSB7XHJcbiAgICAvL2RhdGEgdG8gY3JlYXRlIGEgbmV3IGNvbnRhY3QgbGlzdFxyXG5cclxuICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBjb25zb2xlLmxvZygnaGlkZScpO1xyXG4gICAgICAgICRyb290U2NvcGUuaGlkZSA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5saXN0bmFtZSA9IHt9O1xyXG5cclxuICAgICRzY29wZS5jcmVhdGVMaXN0ICA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZSBsaXN0OiBcIiArICRzY29wZS5saXN0bmFtZS5pbnB1dCk7XHJcbiAgICAgICAgLy9wYXNzZXMgbGlzdCBuYW1lIHNlcnZpY2VcclxuICAgICAgICBuZXdDb250YWN0TGlzdERhdGEucG9zdExpc3QoJHNjb3BlLmxpc3RuYW1lLmlucHV0LCBmdW5jdGlvbiAoc3RhdHVzKSB7XHJcblx0XHRcdGlmKHN0YXR1cyA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2xpc3QgIycsbmV3Q29udGFjdExpc3REYXRhLmxpc3ROdW0pO1xyXG5cdFx0XHRcdCRzY29wZS5saXN0bmFtZT17fTtcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgbGlzdCcpO1xyXG5cdFx0XHRcdCRzY29wZS5oaWRlKCk7XHJcblx0XHRcdH1lbHNlIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcImZhaWxlZCB0byBjcmVhdGUgbGlzdFwiKTtcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgbGlzdCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblxyXG4gICAgfTtcclxufV0pO1xyXG5cclxuXHJcbiIsIlxyXG5hcHAuc2VydmljZSgnbmV3Q29udGFjdExpc3REYXRhJywgWydDb250YWN0TGlzdERhdGFTZXJ2aWNlJywgJyRodHRwJywgJyR0aW1lb3V0JyxcclxuICAgIGZ1bmN0aW9uIChDb250YWN0TGlzdERhdGFTZXJ2aWNlLCAkaHR0cCwgJHRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgbGlzdE51bSA9IFwiXCI7XHJcbiAgICAgICAgdmFyIGltcG9ydERhdGFBcnJheSA9W107XHJcblxyXG4gICAgICAgIHRoaXMucG9zdExpc3QgPSBmdW5jdGlvbiAobmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkaWQgdGhlIG5hbWUgbWFrZSBpdCB0byB0aGUgc2VydmljZT8gXCIgKyBuYW1lICk7XHJcblxyXG5cdFx0XHQvLyR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7fSwgNTAwMCk7XHJcblx0XHRcdC8vcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9sZW8vbmV3Q29udGFjdExpc3QnLCB7bmFtZTogbmFtZX0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGxpc3ROdW0gPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJZD8gXCIsIGxpc3ROdW0pO1xyXG5cdFx0XHRcdGNiKHRydWUpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkIHRvIGNyZWF0ZVwiLCBkYXRhKTsgLy9lcnJvclxyXG5cdFx0XHRcdC8vcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdGNiKGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBvcExpc3QgPSBmdW5jdGlvbiAobGlzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFPYmplY3QgPSB7XHJcbiAgICAgICAgICAgICAgICBcImltcG9ydERhdGFBcnJheVwiOiBpbXBvcnREYXRhQXJyYXksXHJcbiAgICAgICAgICAgICAgICBcImxpc3ROdW1cIjogbGlzdE51bVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ290IHRvIHBvcExpc3QnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ltcG9ydERhdGFBcnJheTogJyx0aGlzLmltcG9ydERhdGFBcnJheSwgJ1xcbnR5cGU6ICcsIHR5cGVvZiB0aGlzLmltcG9ydERhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIGdldENoZWNrZWQobGlzdCk7XHJcbiAgICAgICAgICAgICRodHRwLnBvc3QoJy9sZW8vcG9wdWxhdGVDb250YWN0TGlzdCcsIHRoaXMuZGF0YU9iamVjdCkudGhlbihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3N0ZWQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ltcG9ydERhdGFBcnJheTogJyx0aGlzLmltcG9ydERhdGFBcnJheSwgJ1xcbnR5cGU6ICcsIHR5cGVvZiB0aGlzLmltcG9ydERhdGFBcnJheSk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9nZXQgYWxsIHRoZSBjaGVja2VkIGVsZW1lbnRzIGFuZCBzdHVmZiB0aGVtIGluIGFuIGFycmF5XHJcbiAgICAgICAgdmFyIGdldENoZWNrZWQgPSBmdW5jdGlvbiAobCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0Q2hlY2tlZCBpcyBydW5uaW5nJyk7XHJcbiAgICAgICAgICAgIGwuZm9yRWFjaChcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RPYmplY3QgPVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbWFpbF9hZGRyZXNzZXNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmVtYWlsIHx8ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlyc3RfbmFtZVwiOm9iamVjdC5maXJzdE5hbWUgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGFzdF9uYW1lXCI6IG9iamVjdC5sYXN0TmFtZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb21wYW55X25hbWVcIjogb2JqZWN0LmNvbXBhbnkgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkcmVzc2VzXCI6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5OiBvYmplY3QuY2l0eSB8fCAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jb250YWN0T2JqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpbXBvcnREYXRhQXJyYXkucHVzaCh0aGlzLmNvbnRhY3RPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcblxyXG4iLCJhcHAuY29udHJvbGxlcigncG9wTGlzdENvbnRyb2xsZXInLFsnbmV3Q29udGFjdExpc3REYXRhJywnJHNjb3BlJywnJGh0dHAnLCBmdW5jdGlvbihuZXdDb250YWN0TGlzdERhdGEsICRzY29wZSwgJGh0dHApIHtcclxuICAgIC8vZGF0YSB0byBjcmVhdGUgYSBuZXcgY29udGFjdCBsaXN0XHJcblxyXG5cclxuICAgICRzY29wZS5saXN0TmFtZSA9IHt9O1xyXG5cclxuICAgICRzY29wZS5wb3B1bGF0ZUxpc3QgID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlIGxpc3Q6IFwiICsgc2NvcGUubGlzdE5hbWUuaW5wdXQpO1xyXG4gICAgICAgIC8vcGFzc2VzIGluIHNlYXJjaCB0ZXh0IHRvIHNlcnZpY2VcclxuICAgICAgICBuZXdDb250YWN0TGlzdERhdGEucG9wTGlzdCgpO1xyXG4gICAgICAgIC8vdmFyIGxpc3RFbmQgPSB7XHJcbiAgICAgICAgLy8gICAgXCJsaXN0c1wiOiBbbGlzdE51bV0sXHJcbiAgICAgICAgLy8gICAgXCJjb2x1bW5fbmFtZXNcIjogW1xyXG4gICAgICAgIC8vICAgIFwiRU1BSUxcIixcclxuICAgICAgICAvLyAgICBcIkZJUlNUIE5BTUVcIixcclxuICAgICAgICAvLyAgICBcIkxBU1QgTkFNRVwiLFxyXG4gICAgICAgIC8vICAgIFwiQ0lUWVwiLFxyXG4gICAgICAgIC8vICAgIFwiQ09NUEFOWSBOQU1FXCJcclxuICAgICAgICAvL119XHJcblxyXG5cclxuICAgICAgICAkc2NvcGUubGlzdE5hbWU9e307XHJcbiAgICB9O1xyXG59XSk7XHJcblxyXG4iLCJcclxuLy9yZWdpc3RlciBjb250cm9sbGVyXHJcbmFwcC5jb250cm9sbGVyKCdyZWdpc3RlckN0cmwnLCBbICckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgJ3RvYXN0cicsICd2YWxpZFNlcnZpY2UnLCAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgdG9hc3RyLCB2YWxpZFNlcnZpY2UpIHtcclxuXHQvLyBzZXRzIHZhbGlkYXRpb24gZnJvbSBzZXJ2aWNlIGZvciBkb20gY2FsbHNcclxuXHQkc2NvcGUudmFsaWRhdGVJbnB1dCA9IHZhbGlkU2VydmljZS52YWxpZGF0ZUlucHV0O1xyXG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVnaXN0ZXJDdHJsXCIpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3JlZ2lzdGVyQ29udHJvbGxlciBzdWJtaXQ6JywgJHNjb3BlLmZvcm0sICRzY29wZS5mb3JtLnVzZXJuYW1lKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvbGVvL3JlZ2lzdGVyJywgJHNjb3BlLmZvcm0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9pbmRleFwiKTtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiYWRtaW4gY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdmYWlsZWQgdG8gYWRkIGFkbWluJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XSk7XHJcbiIsImFwcC5jb250cm9sbGVyKCdyZXNldEN0cmwnLCBbICckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgJ2F1dGhTZXJ2aWNlJywgJ3RvYXN0cicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkbG9jYXRpb24sIGF1dGhTZXJ2aWNlLCB0b2FzdHIpIHtcclxuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2VkaXQgcGFzc3dvcmQ6JywgJHNjb3BlLmZvcm0pO1xyXG5cdFx0dmFyIHRlbXBVc2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xyXG5cdFx0Y29uc29sZS5sb2coXCJhdXRoIHVzZXJcIiwgdGVtcFVzZXIpO1xyXG5cdFx0Ly8gYWRkIGluIGlkLCB1c2VybmFtZVxyXG5cdFx0dmFyIHVzZXIgPSAkc2NvcGUuZm9ybTtcclxuXHRcdHVzZXIuaWQgPSB0ZW1wVXNlci5pZDtcclxuXHRcdHVzZXIudXNlcm5hbWUgPSB0ZW1wVXNlci51c2VybmFtZTtcclxuXHRcdGNvbnNvbGUubG9nKFwicHJlcGFyZWRcIiwgdXNlcik7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYWRtaW4nLCB1c2VyKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCdwYXNzd29yZCBjaGFuZ2VkJyk7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9pbmRleFwiKTtcclxuICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ2ZhaWxlZCB0byB1cGRhdGUgcGFzc3dvcmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1dKTtcclxuIiwiYXBwLnNlcnZpY2UoJ3ZhbGlkU2VydmljZScsIFtmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHZhbGlkYXRlSW5wdXQgPSBmdW5jdGlvbiAodHlwZSwgaWQpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwidmFsaWRhdGVJbnB1dCgpXCIpO1xyXG4gICAgICAgIC8vIHN0b3JlcyB0aGUgZm9ybSBiZWluZyBjYWxsZWQgb25cclxuICAgICAgICB2YXIgcGF0dGVybjtcclxuICAgICAgICB2YXIgJG9iaiA9IChpZCkgPyAkKCcjJysgaWQpIDogZmFsc2U7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIm9iamVjdCBpcyBcIiwgJG9iaiwgdHlwZSwgaWQpO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwibmFtZVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiY2l0eVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwic3RhdGVcIjpcclxuICAgICAgICAgICAgICAgIC8vIGFsbG93cyBhbmQgYWxwaGEgY2hhcnMsIGFzIHdlbGwgYXMgd2hpdGUgc3BhY2UgYW5kIGEgZmV3IGV4dHJhIGNoYXJzXHJcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bYS16QS16XFxzLC4nLV17MCwyOH0vO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjb3JwTmFtZVwiOlxyXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eW2EtekEtWjAtOVxccywuP0AhIyd+Kl87Ky1dezAsNzV9LztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYWRkcmVzc1wiOlxyXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eW2EtekEtWjAtOVxccywuP0AhIyd+Kl87KzooKSUmLV17MCw1MH0vO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ6aXBcIjpcclxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlswLTldezV9JC87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XHJcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL14oWyhdWzAtOV17M31bKV18WzAtOV17M30pW1xcc1xcLS5dP1swLTldezN9W1xcc1xcLS5dP1swLTldezR9JC87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6XHJcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bYS16QS1aMC05Ll8lKy1dK0BbYS16QS1aMC05Li1dK1xcLlthLXpBLVpdezIsfSQvO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJub3Rlc1wiOlxyXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eW2EtekEtWjAtOVxccywuP0AhIyd+Kl87KzooKSUmPD5cXFtcXF17fVxcLT1cInxgXFxcXFxcL117MCwyNTB9LztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZXh0XCI6XHJcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bYS16QS1aMC05XFxzOi1dezAsMTV9JC87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcclxuICAgICAgICAgICAgICAgIC8vcGF0dGVybiA9IC9eMjBbMC05XXsyfVstXSgwWzEtOV18MVswLTJdKVstXSgwWzEtOV18WzEtMl1bMC05XXwzWzAxXSkkLztcclxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXigwP1sxLTldfDFbMC0yXSlcXC8oMD9bMS05XXxbMS0yXVswLTldfDNbMDFdKVxcLzIwWzAtOV17Mn0kLztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYmlydGhkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL14oMD9bMS05XXwxWzAtMl0pXFwvKDA/WzEtOV18WzEtMl1bMC05XXwzWzAxXSlcXC8oKDE5OVswLTldfDIwKVswLTldezJ9KSQvO1xyXG4gICAgICAgICAgICAgICAgLy9wYXR0ZXJuID0gL14oMTk5WzAtOV18MjBbMC05XXsyfSlbLV0oMFsxLTldfDFbMC0yXSlbLV0oMFsxLTldfFsxLTJdWzAtOV18M1swMV0pJC87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFtb3VudFwiOlxyXG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eKFtcXCRdP1tcXGRdKyhbLl1bXFxkXXsyfSk/KXsxLDEwfSQvO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0XHRcdGNhc2UgXCJ1c2VybmFtZVwiOlxyXG5cdFx0XHRcdHBhdHRlcm4gPSAvXig/PS4qW2Etel0pKD89LipbQS1aXSlbYS16QS1aXFxkX1xcLV17OCwyMH0kLztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcInBhc3N3b3JkXCI6XHJcblx0XHRcdFx0Ly9wYXR0ZXJuID0gL14oW2Etel0rW0EtWl0rWzAtOV0rWy1fXT8pezgsMjB9JC87XHJcblx0XHRcdFx0cGF0dGVybiA9IC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKVthLXpBLVpcXGRdezgsMjB9JC87XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgXCJzZWFyY2hcIjpcclxuXHRcdFx0XHRwYXR0ZXJuID0gL15bYS16QS1aMC05XFxzLC4/QCEjJ34qXzsrLV17MCw3NX0kLztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBcImFnZVwiOlxyXG5cdFx0XHRcdHBhdHRlcm4gPSAvXlswLTldezEsMn0kLztcclxuXHRcdFx0XHRicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJpbnZhbGlkIGNsYXNzIHNlYXJjaFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaWYgcmVxdWlyZWQgb3IgdHJpbW1lZCBsZW5ndGggaXMgbm90IDAsIHRoZW4gdmFsaWRhdGUgaW5mb1xyXG4gICAgICAgIGlmKCRvYmouYXR0cigncmVxdWlyZWQnKSB8fCAkb2JqLnZhbCgpKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB2YWx1ZSBtYXRjaGVzIHJlZ2V4IGZvciBmaWVsZCB0eXBlXHJcbiAgICAgICAgICAgIGlmKCFwYXR0ZXJuLnRlc3QoJG9iai52YWwoKS50cmltKCkpIHx8ICRvYmoudmFsKCkudHJpbSgpLmxlbmd0aCA9PSAwICYmICRvYmouYXR0cigncmVxdWlyZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgZmFpbHMsIGFkZHMgaW52YWxpZCBjbGFzcyAoaGlnaGxpZ2h0aW5nKSwgY2hhbmdlcyBwbGFjZWhvbGRlciB0byB3aGF0IHNob3VsZCBiZSBlbnRlcmVkXHJcbiAgICAgICAgICAgICAgICAkb2JqLmFkZENsYXNzKCdpbnZhbGlkJykuYXR0cigncGxhY2Vob2xkZXInLCAkb2JqLmRhdGEoJ2ludmFsaWQnKSkudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codHlwZSwgJyBmYWlsZWQgdGVzdCcsIHBhdHRlcm4pO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHBhc3NlcywgcmVtb3ZlcyBpbnZhbGlkIGNsYXNzLCByZXNldHMgcGxhY2Vob2xkZXIgdG8gZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJG9iai5yZW1vdmVDbGFzcygnaW52YWxpZCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJG9iai5kYXRhKCdwbGFjZWhvbGRlcicpKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codHlwZSwgJyBwYXNzZWQgdGVzdCcsIHBhdHRlcm4pO1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblx0dmFyIHZhbGlkYXRlRm9ybSA9IGZ1bmN0aW9uIChmb3Jtcykge1xyXG5cdFx0dmFyIHBhc3MgPSB0cnVlO1xyXG5cdFx0Zm9ybXMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xyXG5cdFx0XHQkKCcjJysgdiArJyAuanMtdmFsaWRhdGUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRpZih2YWxpZGF0ZUlucHV0KCQodGhpcykuZGF0YSgndHlwZScpLCAkKHRoaXMpLmF0dHIoJ2lkJykpID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKCQodGhpcykuYXR0cignaWQnKSArXCIgZmFpbGVkIHRoZSB0ZXN0IFwiKyAkKHRoaXMpLmRhdGEoJ3R5cGUnKSArXCIgZW50ZXJlZCBpbmZvOiBcIisgJCh0aGlzKS52YWwoKSk7XHJcblx0XHRcdFx0XHRwYXNzID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHBhc3M7XHJcblx0fTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkYXRlSW5wdXQ6IHZhbGlkYXRlSW5wdXQsXHJcblx0XHR2YWxpZGF0ZUZvcm06IHZhbGlkYXRlRm9ybVxyXG4gICAgfTtcclxufV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
