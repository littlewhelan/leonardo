var app=angular.module("leo",["ngRoute","ngAnimate","ui.bootstrap","checklist-model","toastr","angular-momentjs"]);app.config(["$routeProvider",function(t){t.when("/",{templateUrl:"static/login.html"}).when("/search",{templateUrl:"private/search.html"}).when("/register",{templateUrl:"static/register.html"}).when("/contactList",{templateUrl:"private/contactList.html"}).when("/addfamily",{templateUrl:"private/addfamily.html",controller:"editFamilyCtrl"}).when("/addcorp",{templateUrl:"private/addcorp.html",controller:"editCorpCtrl"}).when("/contactlist",{templateUrl:"private/contactlist.html"}).otherwise({redirectTo:"/search"})}]),app.factory("authInterceptor",["$q","$location","authService",function(t,e,a){return{request:function(t){return t.headers=t.headers||{},a.isAuthed()&&(t.headers.Authorization="Bearer "+a.getToken()),t},response:function(a){return 401===a.status&&e.path("/"),a||t.when(a)},responseError:function(a){return 401===a.status?e.path("/"):console.log(a.status),t.reject(a)}}}]),app.service("authService",["$window",function(t){this.parseJwt=function(e){if(e){var a=e.split(".")[1],o=a.replace("-","+").replace("_","/");return JSON.parse(t.atob(o))}return{}},this.saveToken=function(e){t.localStorage.jwtToken=e},this.getToken=function(){return t.localStorage.jwtToken},this.isAuthed=function(){var t=this.getToken();if(t){var e=this.parseJwt(t),a=Math.round((new Date).getTime()/1e3)<=e.exp;return a||this.logout(),a}return!1},this.logout=function(){delete t.localStorage.jwtToken},this.getUser=function(){return this.parseJwt(this.getToken())}}]),app.controller("editCorpCtrl",["$scope","$uibModal","$log","ResultService","$http","validService","dateService","toastr",function(t,e,a,o,n,i,l,r){t.validateInput=i.validateInput,t.companies=o.companies,t.corp={info:{},contact:{},donations:[]},t.newDonation={},t.animationsEnabled=!0,t.clearCorp=function(e){r.error("Cancelled"),t.corp={info:{},contact:{},donations:[]},t.newDonation={},e.forEach(function(t){$("#"+t+" .js-validate").each(function(){$(this).removeClass("invalid").attr("placeholder",$(this).data("placeholder"))})})},t.open=function(o,i){return console.log("corp call",i),n({method:"GET",url:"../corporation",params:{id:i}}).then(function(n){n.data.donations.forEach(function(t,e,a){a[e].date=l.fromDB(t.date)}),t.corp=n.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"private/editcorp.html",controller:"ModalInstanceCtrl",size:o,scope:t,resolve:{items:function(){return t.corp}}});i.result.then(function(e){t.selected=e},function(){a.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.save=function(){console.log("Save submitted",t.corp),t.corp.donations.length&&t.corp.donations.forEach(function(t,e,a){a[e].date=l.toDB(t.date)}),t.corp.id?i.validateForm(["EditCorpInfoForm","EditCorpContactForm"])?(console.log("update corp",t.corp),n({method:"PUT",url:"/corporation",data:{corp:t.corp}}).then(function(e){console.log("Put corp, got id ",e.data),t.corp.id=e.data.id,t.corp.info=e.data.info?e.data.info:{},t.contact=e.data.contact?e.data.contact:{},t.corp.donations.length&&(t.corp.donations=[]),t.donations=e.data.donations?e.data.donations:{}})):console.log("Edit corp input tests failed"):i.validateForm(["AddCorpInfoForm","AddCorpContactForm"])?n({method:"POST",url:"/corporation",data:{corp:t.corp}}).then(function(e){console.log("Posted corp, got id ",e.data),t.corp.id=e.data.id,t.corp.info=e.data.info?e.data.info:{},t.contact=e.data.contact?e.data.contact:{},t.corp.donations.length&&(t.corp.donations=[]),t.donations=e.data.donations?e.data.donations:{},r.success("Corporation added!")},function(){r.error("Failed to add corporation")}):(r.error("Unauthorized character"),console.log("Add corp input tests failed"))},t.addDonation=function(){var e=t.newDonation;e.date=l.toDB(e.date),t.corp.donations.push(t.newDonation),t.newDonation={},console.log("added donation",e,t.corp.donations)}}]),app.controller("createListSearch",["$scope","$http","ContactListDataService","newContactListData","toastr","$rootScope",function(t,e,a,o,n,i){t.type={},t.age={},t.zip={},t.emails={},t.emails.includedEmails=[],t.includedEmails=[],t.totalDisplayed=50,t.totalResults=0,t.emailList=[],t.searchListBtn=function(){if(t.emailList=[],"zipCk"==t.type&&a.makeDataCall("zip",t.zip.data).then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")}),"ageCk"==t.type){var e=a.makeDataCall("age",t.age.data);e.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}if("fam"==t.type){var o=a.makeDataCall("family","");o.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}if("corp"==t.type){var i=a.makeDataCall("company","");i.then(function(e){t.emailList=e,t.totalResults=e.length,n.success("Loaded "+t.totalResults+" results")})["catch"](function(){n.error("Failed to load results")})}t.type={},t.age={},t.zip={}},t.populateList=function(){console.log(t.emails.includedEmails),o.popList(t.emails.includedEmails)?n.success("Successfully deployed contact list."):n.error("Failed to deploy contact list.")},t.loadMore=function(){t.totalDisplayed+=50},t.showAll=function(){t.totalDisplayed=t.totalResults},t.checkAll=function(e){var a=angular.element(e.target);t.emails.includedEmails.length==t.totalResults?(t.emails.includedEmails=[],a.val("Check All")):(t.emails.includedEmails=angular.copy(t.emailList),a.val("Uncheck All"))}}]),app.factory("ContactListDataService",["$http","$q",function(t,e){function a(a,o){var n=e.defer();return console.log("this is in the make data call",a,o),t({method:"GET",url:"../createMailList",params:{type:a,search:o}}).then(function(t){data=t.data,n.resolve(t.data)}),n.promise}return{data:[],makeDataCall:a}}]),app.service("dateService",["MomentJS",function(t){var e="YYYY-MM-DD",a="M/D/YYYY",o=function(a){return t(a).format(e)},n=function(e){return t(e).format(a)};return{toDB:o,fromDB:n}}]),app.controller("editFamilyCtrl",["$scope","$uibModal","$log","ResultService","$http","validService","toastr","dateService",function(t,e,a,o,n,i,l,r){t.validateInput=i.validateInput,t.adults=o.adults,t.kids=o.kids,t.family={adultOne:{},adultTwo:{},emergency:{},children:[],donations:[]},t.newChild={},t.newDonation={},t.clearFamily=function(e){l.error("Cancelled"),t.family={adultOne:{},adultTwo:{},emergency:{},children:[],donations:[]},t.newChild={},t.newDonation={},e.forEach(function(t){$("#"+t+" .js-validate").each(function(){$(this).removeClass("invalid").attr("placeholder",$(this).data("placeholder"))})})},t.animationsEnabled=!0,t.open=function(o,i){return console.log("family call",i),n({method:"GET",url:"../family",params:{id:i}}).then(function(n){console.log(n.data),n.data.children.forEach(function(t,e,a){console.log("reformatted",r.fromDB(a[e].birthdate)),a[e].birthdate=r.fromDB(t.birthdate)}),n.data.donations.forEach(function(t,e,a){a[e].date=r.fromDB(t.date)}),t.family=n.data;var i=e.open({animation:t.animationsEnabled,templateUrl:"private/editfamily.html",controller:"ModalInstanceCtrl",size:o,scope:t,resolve:{items:function(){return t.family}}});i.result.then(function(e){t.selected=e},function(){a.info("Modal dismissed at: "+new Date)})})},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.save=function(){console.log("Save submitted",t.family),t.family.children.length&&t.family.children.forEach(function(t,e,a){a[e].birthdate=r.toDB(t.birthdate)}),t.family.donations.length&&t.family.donations.forEach(function(t,e,a){a[e].date=r.toDB(t.date)}),console.log("Saving family, after toDB birthdates",t.family),t.family.id?i.validateForm(["EditFamInfoForm","EditFamEmerForm"])?(console.log("update family",t.family),n({method:"PUT",url:"/family",data:{family:t.family}}).then(function(e){console.log("Put family, got id ",e.data),t.family.id=e.data.id,t.family.adultOne=e.data.adultOne?e.data.adultOne:{},t.family.adultTwo=e.data.adultTwo?e.data.adultTwo:{},t.family.emergency=e.data.emergency?e.data.emergency:{},t.family.children.length&&(t.family.children=[]),t.family.children=e.data.children?e.data.children:[],t.family.donations.length&&(t.family.donations=[]),t.family.donations=e.data.donations?e.data.donations:[]})):console.log("Edit family failed input tests"):i.validateForm(["AddFamInfoForm","AddFamEmerForm"])?n({method:"POST",url:"/family",data:{family:t.family}}).then(function(e){console.log("Posted family, got id ",e.data),t.family.id=e.data.id,t.family.adultOne=e.data.adultOne?e.data.adultOne:{},t.family.adultTwo=e.data.adultTwo?e.data.adultTwo:{},t.family.emergency=e.data.emergency?e.data.emergency:{},t.family.children.length&&(t.family.children=[]),t.family.children=e.data.children?e.data.children:[],t.family.donations.length&&(t.family.donations=[]),t.family.donations=e.data.donations?e.data.donations:[],l.success("Family saved!")},function(){l.error("Failed to add family")}):(l.error("Unauthorized character"),console.log("Add family failed input tests"))},t.addChild=function(){console.log("child added",t.newChild,t.family.children),t.editingChild?(t.family.children[t.editingChild]=t.newChild,t.editingChild=!1,l.success("Child updated!")):(t.family.children.push(t.newChild),l.success("Child added!")),t.newChild={}},t.editChild=function(e){t.editingChild=e,t.newChild=t.family.children[e]},t.removeChild=function(e){console.log("in remove child index",e," edit ",t.editingChild),t.family.children.splice(e,1),e==t.editingChild?(console.log("edit match"),t.clearChild()):console.log("no edit match")},t.clearChild=function(){console.log("in clear child"),t.newChild={firstName:"",lastName:"",birthdate:"",school:"",notes:""},t.editingChild=!1},t.addDonation=function(){var e=t.newDonation;e.date=r.toDB(e.date),t.corp.donations.push(t.newDonation),t.newDonation={},console.log("added donation",e,t.corp.donations)}}]),app.controller("loginCtrl",["$scope","$http","authService","$location","$rootScope","toastr",function(t,e,a,o,n,i){t.submit=function(){e.post("/login",t.form).then(function(t){a.saveToken(t.data),n.user=a.getUser(),o.path("/search")},function(){i.error("incorrect username or password")})}}]),app.controller("searchFunction",["$scope","$http","ResultService",function(t,e,a){t.formInput={},t.searchBtn=function(){a.makeDataCall(t.formInput.data),console.log("this is the input text",t.formInput),t.formInput={}}}]),app.factory("ResultService",["$http",function(t){var e=[],a=[],o=[],n=[],i=function(a){return t({method:"GET",url:"../search",params:{search:a}}).then(function(t){e=t.data,l(e),c(e),r(e)})},l=function(t){var e=function(t){o.splice(0,o.length),t.forEach(function(t){"company"==t.type&&o.push(t)})};return e(t),console.log("this is getElement1",o),o},r=function(t){var e=function(t){a.splice(0,a.length),t.forEach(function(t){"adult"==t.type&&a.push(t)})};return e(t),console.log("this is in getElement2",a),a},c=function(t){var e=function(t){n.splice(0,n.length),t.forEach(function(t){"child"==t.type&&n.push(t)})};return e(t),console.log("this is getElements3",n),n},s={getKids:c,getAdults:r,getCompanies:l,makeDataCall:i,results:e,companies:o,adults:a,kids:n};return s}]),app.controller("ModalInstanceCtrl",["$scope","$modalInstance",function(t,e){t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}]),app.controller("navCtrl",["authService","$scope","$rootScope","$location",function(t,e,a,o){a.user=t.getUser(),a.user&&a.user.username&&o.path("/home"),e.logout=function(){t.logout(),a.user=t.getUser(),o.path("/")}}]),app.controller("newContactListController",["newContactListData","$scope","$rootScope","toastr",function(t,e,a,o){e.hide=function(){console.log("hide"),a.hide=!0},e.listname={},e.createList=function(){console.log("create list: "+e.listname.input),t.postList(e.listname.input,function(t){t===!0?(e.listname={},o.success("Successfully created list"),e.hide()):(console.log("failed to create list"),o.error("Failed to create list"))})}}]),app.service("newContactListData",["ContactListDataService","$http","$timeout",function(t,e,a){var o="",n=[];this.postList=function(t,a){console.log("did the name make it to the service? "+t),e.post("/newContactList",{name:t}).then(function(t){console.log(t.data),o=t.data,console.log("Id? ",o),a(!0)},function(t){console.log("failed to create",t),a(!1)})},this.popList=function(t){this.dataObject={importDataArray:n,listNum:o},console.log("got to popList"),console.log("importDataArray: ",this.importDataArray,"\ntype: ",typeof this.importDataArray),i(t),e.post("/populateContactList",this.dataObject).then(function(t,e,a,o){return console.log("posted"),console.log(t),console.log("importDataArray: ",this.importDataArray,"\ntype: ",typeof this.importDataArray),!0},function(){return!1})};var i=function(t){console.log("getChecked is running"),t.forEach(function(t){this.contactObject={email_addresses:[t.email||""],first_name:t.firstName||"",last_name:t.lastName||"",company_name:t.company||"",addresses:[{city:t.city||""}]},console.log(this.contactObject),n.push(this.contactObject)})}}]),app.controller("popListController",["newContactListData","$scope","$http",function(t,e,a){e.listName={},e.populateList=function(){console.log("create list: "+scope.listName.input),t.popList(),e.listName={}}}]),app.controller("registerCtrl",["$scope","$http","$location","toastr",function(t,e,a,o){t.submit=function(){console.log("registerCtrl"),console.log("registerController submit:",t.form),e.post("/register",t.form).then(function(t){console.log(t),a.path("/index"),o.success("admin created")},function(){o.error("failed to add admin")})}}]),app.controller("resetCtrl",["$scope","$http","$location","authService","toastr",function(t,e,a,o,n){t.submit=function(){console.log("edit password:",t.form);var i=o.getUser();console.log("auth user",i);var l=t.form;l.id=i.id,l.username=i.username,console.log("prepared",l),e.put("/admin",l).then(function(t){console.log(t),n.success("password changed"),a.path("/index")},function(){n.error("failed to update password")})}}]),app.service("validService",[function(){var t=function(t,e){var a,o=e?$("#"+e):!1;switch(console.log("object is ",o,t,e),t){case"name":case"city":case"state":a=/^[a-zA-z\s,.'-]{0,28}/;break;case"corpName":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+-]{0,75}/;break;case"address":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+:()%&-]{0,50}/;break;case"zip":a=/^[0-9]{5}$/;break;case"phone":a=/^([(][0-9]{3}[)]|[0-9]{3})[\s\-.]?[0-9]{3}[\s\-.]?[0-9]{4}$/;break;case"email":a=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;break;case"notes":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+:()%&<>\[\]{}\-="|`\\\/]{0,250}/;break;case"ext":a=/^[a-zA-Z0-9\s:-]{0,15}$/;break;case"date":a=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[01])\/20[0-9]{2}$/;break;case"birthdate":a=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[1-2][0-9]|3[01])\/((199[0-9]|20)[0-9]{2})$/;break;case"amount":a=/^([\$]?[\d]+([.][\d]{2})?){1,10}$/;break;case"username":case"password":a=/^([a-z]+[A-Z]+[0-9]+){8,20}$/;break;case"search":a=/^[a-zA-Z0-9\s,.?@!#'~*_;+-]{0,75}$/;break;case"age":a=/^[0-9]{1,2}$/;break;default:return console.log("invalid class search"),!1}return o.attr("required")||o.val()?!a.test(o.val().trim())||0==o.val().trim().length&&o.attr("required")?(o.addClass("invalid").attr("placeholder",o.data("invalid")).val(""),console.log(t," failed test",a),!1):(o.removeClass("invalid").attr("placeholder",o.data("placeholder")),console.log(t," passed test",a),!0):void 0},e=function(e){var a=!0;return e.forEach(function(e,o,n){$("#"+e+" .js-validate").each(function(){0==t($(this).data("type"),$(this).attr("id"))&&(console.log($(this).attr("id")+" failed the test "+$(this).data("type")+" entered info: "+$(this).val()),a=!1)})}),a};return{validateInput:t,validateForm:e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImF1dGhJbnRlcmNlcHRvci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwiY29ycENvbnRyb2xsZXIuanMiLCJjcmVhdGVMaXN0Q29udHJvbGxlci5qcyIsImNyZWF0ZUxpc3RTZXJ2aWNlLmpzIiwiZGF0ZVNlcnZpY2UuanMiLCJmYW1pbHlDb250cm9sbGVyLmpzIiwibG9naW5Db250cm9sbGVyLmpzIiwibWFpblNlYXJjaENvbnRyb2xsZXIuanMiLCJtYWluU2VhcmNoU2VydmljZS5qcyIsIm1vZGFsSW5zdGFuY2VDb250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0Q29udHJvbGxlci5qcyIsIm5ld0NvbnRhY3RMaXN0U2VydmljZS5qcyIsInBvcExpc3RDb250cm9sbGVyLmpzIiwicmVnaXN0ZXJDb250cm9sbGVyLmpzIiwicmVzZXRDb250cm9sbGVyLmpzIiwidmFsaWRTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiZmFjdG9yeSIsIiRxIiwiJGxvY2F0aW9uIiwiYXV0aFNlcnZpY2UiLCJyZXF1ZXN0IiwiaGVhZGVycyIsImlzQXV0aGVkIiwiQXV0aG9yaXphdGlvbiIsImdldFRva2VuIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJwYXRoIiwicmVzcG9uc2VFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJyZWplY3QiLCJzZXJ2aWNlIiwiJHdpbmRvdyIsInRoaXMiLCJwYXJzZUp3dCIsInRva2VuIiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNhdmVUb2tlbiIsImxvY2FsU3RvcmFnZSIsImp3dFRva2VuIiwicGFyYW1zIiwibm90RXhwaXJlZCIsIk1hdGgiLCJyb3VuZCIsIkRhdGUiLCJnZXRUaW1lIiwiZXhwIiwibG9nb3V0IiwiZ2V0VXNlciIsIiRzY29wZSIsIiR1aWJNb2RhbCIsIiRsb2ciLCJSZXN1bHRTZXJ2aWNlIiwiJGh0dHAiLCJ2YWxpZFNlcnZpY2UiLCJkYXRlU2VydmljZSIsInRvYXN0ciIsInZhbGlkYXRlSW5wdXQiLCJjb21wYW5pZXMiLCJjb3JwIiwiaW5mbyIsImNvbnRhY3QiLCJkb25hdGlvbnMiLCJuZXdEb25hdGlvbiIsImFuaW1hdGlvbnNFbmFibGVkIiwiY2xlYXJDb3JwIiwiZm9ybXNBcnJheSIsImVycm9yIiwiZm9yRWFjaCIsInYiLCIkIiwiZWFjaCIsInJlbW92ZUNsYXNzIiwiYXR0ciIsImRhdGEiLCJvcGVuIiwic2l6ZSIsImlkIiwibWV0aG9kIiwidXJsIiwidGhlbiIsImkiLCJhIiwiZGF0ZSIsImZyb21EQiIsIm1vZGFsSW5zdGFuY2UiLCJhbmltYXRpb24iLCJzY29wZSIsInJlc29sdmUiLCJpdGVtcyIsInJlc3VsdCIsInNlbGVjdGVkSXRlbSIsInNlbGVjdGVkIiwidG9nZ2xlQW5pbWF0aW9uIiwic2F2ZSIsImxlbmd0aCIsInRvREIiLCJ2YWxpZGF0ZUZvcm0iLCJyZXMiLCJzdWNjZXNzIiwiYWRkRG9uYXRpb24iLCJ0ZW1wIiwicHVzaCIsIkNvbnRhY3RMaXN0RGF0YVNlcnZpY2UiLCJuZXdDb250YWN0TGlzdERhdGEiLCIkcm9vdFNjb3BlIiwidHlwZSIsImFnZSIsInppcCIsImVtYWlscyIsImluY2x1ZGVkRW1haWxzIiwidG90YWxEaXNwbGF5ZWQiLCJ0b3RhbFJlc3VsdHMiLCJlbWFpbExpc3QiLCJzZWFyY2hMaXN0QnRuIiwibWFrZURhdGFDYWxsIiwiZmFtIiwiY29tcCIsInBvcHVsYXRlTGlzdCIsInBvcExpc3QiLCJsb2FkTW9yZSIsInNob3dBbGwiLCJjaGVja0FsbCIsImV2ZW50IiwiJGJ1dHRvbiIsImVsZW1lbnQiLCJ0YXJnZXQiLCJ2YWwiLCJjb3B5IiwicGFzc2VkRGF0YSIsImRlZmVycmVkIiwiZGVmZXIiLCJzZWFyY2giLCJwcm9taXNlIiwibW9tZW50IiwiZGJGb3JtYXQiLCJ1aUZvcm1hdCIsInRvRGJGb3JtYXQiLCJmb3JtYXQiLCJmcm9tRGJGb3JtYXQiLCJhZHVsdHMiLCJraWRzIiwiZmFtaWx5IiwiYWR1bHRPbmUiLCJhZHVsdFR3byIsImVtZXJnZW5jeSIsImNoaWxkcmVuIiwibmV3Q2hpbGQiLCJjbGVhckZhbWlseSIsImJpcnRoZGF0ZSIsImFkZENoaWxkIiwiZWRpdGluZ0NoaWxkIiwiZWRpdENoaWxkIiwiaW5kZXgiLCJyZW1vdmVDaGlsZCIsInNwbGljZSIsImNsZWFyQ2hpbGQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInNjaG9vbCIsIm5vdGVzIiwic3VibWl0IiwicG9zdCIsImZvcm0iLCJ1c2VyIiwiZm9ybUlucHV0Iiwic2VhcmNoQnRuIiwicmVzdWx0cyIsImdldENvbXBhbmllcyIsImdldEtpZHMiLCJnZXRBZHVsdHMiLCJhcnJheSIsImdldEVsZW1lbnQxIiwiZ2V0RWxlbWVudDIiLCJnZXRFbGVtZW50MyIsInB1YmxpY0FwaSIsIiRtb2RhbEluc3RhbmNlIiwib2siLCJjbG9zZSIsIml0ZW0iLCJjYW5jZWwiLCJkaXNtaXNzIiwidXNlcm5hbWUiLCJoaWRlIiwibGlzdG5hbWUiLCJjcmVhdGVMaXN0IiwiaW5wdXQiLCJwb3N0TGlzdCIsIiR0aW1lb3V0IiwibGlzdE51bSIsImltcG9ydERhdGFBcnJheSIsIm5hbWUiLCJjYiIsImxpc3QiLCJkYXRhT2JqZWN0IiwiZ2V0Q2hlY2tlZCIsImwiLCJvYmplY3QiLCJjb250YWN0T2JqZWN0IiwiZW1haWxfYWRkcmVzc2VzIiwiZW1haWwiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiY29tcGFueV9uYW1lIiwiY29tcGFueSIsImFkZHJlc3NlcyIsImNpdHkiLCJsaXN0TmFtZSIsInRlbXBVc2VyIiwicHV0IiwicGF0dGVybiIsIiRvYmoiLCJ0ZXN0IiwidHJpbSIsImFkZENsYXNzIiwiZm9ybXMiLCJwYXNzIl0s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S0EsTUFBQTRMLEdBQUExSSxLQUFBLGFBQUEwSSxFQUFBcEYsT0FFQW1GLEVBQUFFLEtBQUFELEVBQUFwRixNQUFBc0YsU0FBQSxHQUFBRixFQUFBcEYsTUFBQXNGLE9BQUF0SCxRQUFBb0gsRUFBQTFJLEtBQUEsYUFFQTBJLEVBQUFHLFNBQUEsV0FBQTdJLEtBQUEsY0FBQTBJLEVBQUF6SSxLQUFBLFlBQUFxRCxJQUFBLElBQ0F6RyxRQUFBQyxJQUFBbUYsRUFBQSxlQUFBd0csSUFDQSxJQUdBQyxFQUFBM0ksWUFBQSxXQUFBQyxLQUFBLGNBQUEwSSxFQUFBekksS0FBQSxnQkFDQXBELFFBQUFDLElBQUFtRixFQUFBLGVBQUF3RyxJQUNBLEdBWEEsUUFnQkFqSCxFQUFBLFNBQUFzSCxHQUNBLEdBQUFDLElBQUEsQ0FTQSxPQVJBRCxHQUFBbkosUUFBQSxTQUFBQyxFQUFBWSxFQUFBQyxHQUNBWixFQUFBLElBQUFELEVBQUEsaUJBQUFFLEtBQUEsV0FDQSxHQUFBZCxFQUFBYSxFQUFBM0MsTUFBQStDLEtBQUEsUUFBQUosRUFBQTNDLE1BQUE4QyxLQUFBLFNBQ0FuRCxRQUFBQyxJQUFBK0MsRUFBQTNDLE1BQUE4QyxLQUFBLE1BQUEsb0JBQUFILEVBQUEzQyxNQUFBK0MsS0FBQSxRQUFBLGtCQUFBSixFQUFBM0MsTUFBQW9HLE9BQ0F5RixHQUFBLE9BSUFBLEVBR0EsUUFDQS9KLGNBQUFBLEVBQ0F3QyxhQUFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdsZW8nLCBbJ25nUm91dGUnLCAnbmdBbmltYXRlJywgJ3VpLmJvb3RzdHJhcCcsICdjaGVja2xpc3QtbW9kZWwnLCAndG9hc3RyJywgJ2FuZ3VsYXItbW9tZW50anMnXSk7XG5cblxuYXBwLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJyxcbiAgICBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlci5cbiAgICAgICAgICAgIHdoZW4oJy8nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzdGF0aWMvbG9naW4uaHRtbCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvc2VhcmNoLmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9yZWdpc3RlcicsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXRpYy9yZWdpc3Rlci5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvY29udGFjdExpc3QnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2NvbnRhY3RMaXN0Lmh0bWwnXG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIHdoZW4oJy9hZGRmYW1pbHknLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcml2YXRlL2FkZGZhbWlseS5odG1sJyxcblx0XHRcdFx0Y29udHJvbGxlcjogJ2VkaXRGYW1pbHlDdHJsJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICB3aGVuKCcvYWRkY29ycCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvYWRkY29ycC5odG1sJyxcblx0XHRcdFx0Y29udHJvbGxlcjogJ2VkaXRDb3JwQ3RybCdcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgd2hlbignL2NvbnRhY3RsaXN0Jywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJpdmF0ZS9jb250YWN0bGlzdC5odG1sJ1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBvdGhlcndpc2Uoe1xuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvc2VhcmNoJ1xuICAgICAgICAgICAgfSk7XG4gICAgfV0pO1xuXG5cblxuXG4iLCJhcHAuZmFjdG9yeSgnYXV0aEludGVyY2VwdG9yJywgWyckcScsICckbG9jYXRpb24nLCAnYXV0aFNlcnZpY2UnLCBmdW5jdGlvbiAoJHEsICRsb2NhdGlvbiwgYXV0aFNlcnZpY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICAgICAgaWYgKGF1dGhTZXJ2aWNlLmlzQXV0aGVkKCkpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgJHEud2hlbihyZXNwb25zZSk7XG4gICAgICAgIH0sIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1dKSIsImFwcC5zZXJ2aWNlKCdhdXRoU2VydmljZScsIFsnJHdpbmRvdycsIGZ1bmN0aW9uICgkd2luZG93KSB7XG5cbiAgICB0aGlzLnBhcnNlSnd0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCAnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIHt9O1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5qd3RUb2tlbiA9IHRva2VuO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdTYXZlZCB0b2tlbjonLCR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuO1xuICAgIH07XG5cbiAgICB0aGlzLmlzQXV0aGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmdldFRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMucGFyc2VKd3QodG9rZW4pO1xuICAgICAgICAgICAgdmFyIG5vdEV4cGlyZWQgPSBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgPD0gcGFyYW1zLmV4cDtcbiAgICAgICAgICAgIGlmICghbm90RXhwaXJlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm90RXhwaXJlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlICR3aW5kb3cubG9jYWxTdG9yYWdlLmp3dFRva2VuO1xuICAgIH07XG5cbiAgICAvLyBleHBvc2UgdXNlciBhcyBhbiBvYmplY3RcbiAgICB0aGlzLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlSnd0KHRoaXMuZ2V0VG9rZW4oKSlcbiAgICB9O1xufV0pOyIsIi8vZWRpdCBjb3Jwb3JhdGlvbiBtb2RhbCB0ZW1wbGF0ZVxuYXBwLmNvbnRyb2xsZXIoJ2VkaXRDb3JwQ3RybCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbCcsICckbG9nJywgJ1Jlc3VsdFNlcnZpY2UnLCAnJGh0dHAnLCAndmFsaWRTZXJ2aWNlJywgJ2RhdGVTZXJ2aWNlJywgJ3RvYXN0cicsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgJGxvZywgUmVzdWx0U2VydmljZSwgJGh0dHAsIHZhbGlkU2VydmljZSwgZGF0ZVNlcnZpY2UsIHRvYXN0cikge1xuXG5cdC8vIHNldHMgdmFsaWRhdGlvbiBmcm9tIHNlcnZpY2UgZm9yIGRvbSBjYWxsc1xuXHQkc2NvcGUudmFsaWRhdGVJbnB1dCA9IHZhbGlkU2VydmljZS52YWxpZGF0ZUlucHV0O1xuXHQvL3NlbmRzIHRoZSBjb21wYW5pZXMgYWZ0ZXIgdGhlIHJlc3VsdHMgaGF2ZSBiZWVuIG9yZ2FuaXplZFxuXHQkc2NvcGUuY29tcGFuaWVzID0gUmVzdWx0U2VydmljZS5jb21wYW5pZXM7XG5cdCRzY29wZS5jb3JwID0ge1xuXHRcdGluZm86IHt9LFxuXHRcdGNvbnRhY3Q6IHt9LFxuXHRcdGRvbmF0aW9uczogW11cblx0fTtcblx0JHNjb3BlLm5ld0RvbmF0aW9uID0ge307XG5cdCRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9IHRydWU7XG5cblx0JHNjb3BlLmNsZWFyQ29ycCA9IGZ1bmN0aW9uIChmb3Jtc0FycmF5KSB7XG5cdFx0dG9hc3RyLmVycm9yKCdDYW5jZWxsZWQnKTtcblx0XHQkc2NvcGUuY29ycCA9IHtcblx0XHRcdGluZm86e30sXG5cdFx0XHRjb250YWN0Ont9LFxuXHRcdFx0ZG9uYXRpb25zOltdXG5cdFx0fTtcblx0XHQkc2NvcGUubmV3RG9uYXRpb24gPSB7fTtcblx0XHRmb3Jtc0FycmF5LmZvckVhY2goZnVuY3Rpb24gKHYpIHtcblx0XHRcdCQoJyMnKyB2ICsnIC5qcy12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnZhbGlkJykuYXR0cigncGxhY2Vob2xkZXInLCAkKHRoaXMpLmRhdGEoJ3BsYWNlaG9sZGVyJykpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblx0JHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoc2l6ZSwgaWQpIHtcblx0XHRjb25zb2xlLmxvZygnY29ycCBjYWxsJywgaWQpO1xuXHRcdHJldHVybiAkaHR0cCh7XG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0dXJsOiAnLi4vY29ycG9yYXRpb24nLFxuXHRcdFx0cGFyYW1zOiB7aWQ6IGlkfVxuXHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cblx0XHRcdHJlc3BvbnNlLmRhdGEuZG9uYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHYsIGksIGEpIHtcblx0XHRcdFx0YVtpXS5kYXRlID0gZGF0ZVNlcnZpY2UuZnJvbURCKHYuZGF0ZSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JHNjb3BlLmNvcnAgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG5cdFx0XHRcdGFuaW1hdGlvbjogJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkLFxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvZWRpdGNvcnAuaHRtbCcsXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0XHRcdHNpemU6IHNpemUsXG5cdFx0XHRcdHNjb3BlOiAkc2NvcGUsXG5cdFx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0XHRpdGVtczogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICRzY29wZS5jb3JwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbGVjdGVkSXRlbSkge1xuXHRcdFx0XHQkc2NvcGUuc2VsZWN0ZWQgPSBzZWxlY3RlZEl0ZW07XG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRsb2cuaW5mbygnTW9kYWwgZGlzbWlzc2VkIGF0OiAnICsgbmV3IERhdGUoKSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXHQkc2NvcGUudG9nZ2xlQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuXHRcdCRzY29wZS5hbmltYXRpb25zRW5hYmxlZCA9ICEkc2NvcGUuYW5pbWF0aW9uc0VuYWJsZWQ7XG5cdH07XG5cblx0Ly8gc2F2ZSBjb3JwXG5cdCRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiU2F2ZSBzdWJtaXR0ZWRcIiwgJHNjb3BlLmNvcnApO1xuXHRcdC8vYWxlcnQoXCJTdWJtaXR0ZWRcIik7XG5cblx0XHQvLyBjaGVjayBmb3IgZG9uYXRpb24sIHJ1biB0b0RCIGZvcm1hdHRpbmcgYmVmb3JlIHNlbmRpbmdcblx0XHRpZigkc2NvcGUuY29ycC5kb25hdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHQkc2NvcGUuY29ycC5kb25hdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xuXHRcdFx0XHRhW2ldLmRhdGUgPSBkYXRlU2VydmljZS50b0RCKHYuZGF0ZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBpZiBoYXMgaWQsIHRoZW4gcHV0XG5cdFx0aWYoISRzY29wZS5jb3JwLmlkKSB7XG5cdFx0XHRpZih2YWxpZFNlcnZpY2UudmFsaWRhdGVGb3JtKFtcIkFkZENvcnBJbmZvRm9ybVwiLCBcIkFkZENvcnBDb250YWN0Rm9ybVwiXSkpIHtcblx0XHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogJy9jb3Jwb3JhdGlvbicsXG5cdFx0XHRcdFx0ZGF0YToge2NvcnA6ICRzY29wZS5jb3JwfVxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlBvc3RlZCBjb3JwLCBnb3QgaWQgXCIsIHJlcy5kYXRhKTtcblx0XHRcdFx0XHQkc2NvcGUuY29ycC5pZCA9IHJlcy5kYXRhLmlkO1xuXHRcdFx0XHRcdCRzY29wZS5jb3JwLmluZm8gPSAocmVzLmRhdGEuaW5mbykgPyByZXMuZGF0YS5pbmZvIDoge307XG5cdFx0XHRcdFx0JHNjb3BlLmNvbnRhY3QgPSAocmVzLmRhdGEuY29udGFjdCkgPyByZXMuZGF0YS5jb250YWN0IDoge307XG5cdFx0XHRcdFx0Ly8gaW5pdGlhbGl6ZSBkb25hdGlvbnMgaWYgdGhlcmUgYXJlIGFueVxuXHRcdFx0XHRcdGlmICgkc2NvcGUuY29ycC5kb25hdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkc2NvcGUuY29ycC5kb25hdGlvbnMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHNjb3BlLmRvbmF0aW9ucyA9IChyZXMuZGF0YS5kb25hdGlvbnMpID8gcmVzLmRhdGEuZG9uYXRpb25zIDoge307XG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0NvcnBvcmF0aW9uIGFkZGVkIScpO1xuXHRcdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gYWRkIGNvcnBvcmF0aW9uJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fWVsc2Uge1xuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ1VuYXV0aG9yaXplZCBjaGFyYWN0ZXInKTtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJBZGQgY29ycCBpbnB1dCB0ZXN0cyBmYWlsZWRcIik7XG5cdFx0XHR9XG5cdFx0fWVsc2Uge1xuXHRcdFx0aWYodmFsaWRTZXJ2aWNlLnZhbGlkYXRlRm9ybShbXCJFZGl0Q29ycEluZm9Gb3JtXCIsIFwiRWRpdENvcnBDb250YWN0Rm9ybVwiXSkpIHtcblx0XHRcdFx0Ly8gaW5zZXJ0IGNvcnAgLSBoYXMgbm8gaWRcblx0XHRcdFx0Y29uc29sZS5sb2coXCJ1cGRhdGUgY29ycFwiLCAkc2NvcGUuY29ycCk7XG5cdFx0XHRcdCRodHRwKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxuXHRcdFx0XHRcdHVybDogJy9jb3Jwb3JhdGlvbicsXG5cdFx0XHRcdFx0ZGF0YToge2NvcnA6ICRzY29wZS5jb3JwfVxuXHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlB1dCBjb3JwLCBnb3QgaWQgXCIsIHJlcy5kYXRhKTtcblxuXHRcdFx0XHRcdCRzY29wZS5jb3JwLmlkID0gcmVzLmRhdGEuaWQ7XG5cdFx0XHRcdFx0JHNjb3BlLmNvcnAuaW5mbyA9IChyZXMuZGF0YS5pbmZvKSA/IHJlcy5kYXRhLmluZm8gOiB7fTtcblx0XHRcdFx0XHQkc2NvcGUuY29udGFjdCA9IChyZXMuZGF0YS5jb250YWN0KSA/IHJlcy5kYXRhLmNvbnRhY3QgOiB7fTtcblx0XHRcdFx0XHQvLyBpbml0aWFsaXplIGRvbmF0aW9ucyBpZiB0aGVyZSBhcmUgYW55XG5cdFx0XHRcdFx0aWYgKCRzY29wZS5jb3JwLmRvbmF0aW9ucy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdCRzY29wZS5jb3JwLmRvbmF0aW9ucyA9IFtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkc2NvcGUuZG9uYXRpb25zID0gKHJlcy5kYXRhLmRvbmF0aW9ucykgPyByZXMuZGF0YS5kb25hdGlvbnMgOiB7fTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRWRpdCBjb3JwIGlucHV0IHRlc3RzIGZhaWxlZFwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Ly8gYWRkcyBkb25hdGlvbiB0byBmYW1pbHkgb2JqZWN0XG5cdCRzY29wZS5hZGREb25hdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGVtcCA9ICRzY29wZS5uZXdEb25hdGlvbjtcblx0XHR0ZW1wLmRhdGUgPSBkYXRlU2VydmljZS50b0RCKHRlbXAuZGF0ZSk7XG5cdFx0JHNjb3BlLmNvcnAuZG9uYXRpb25zLnB1c2goJHNjb3BlLm5ld0RvbmF0aW9uKTtcblx0XHQkc2NvcGUubmV3RG9uYXRpb24gPSB7fTtcblx0XHRjb25zb2xlLmxvZyhcImFkZGVkIGRvbmF0aW9uXCIsIHRlbXAsICRzY29wZS5jb3JwLmRvbmF0aW9ucyk7XG5cdH07XG5cbn1dKTsiLCJhcHAuY29udHJvbGxlcignY3JlYXRlTGlzdFNlYXJjaCcsIFsnJHNjb3BlJywgJyRodHRwJywgJ0NvbnRhY3RMaXN0RGF0YVNlcnZpY2UnLCAnbmV3Q29udGFjdExpc3REYXRhJywgJ3RvYXN0cicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsIENvbnRhY3RMaXN0RGF0YVNlcnZpY2UsbmV3Q29udGFjdExpc3REYXRhLCB0b2FzdHIsICRyb290U2NvcGUpIHtcbiAgICAkc2NvcGUudHlwZSA9e307XG4gICAgJHNjb3BlLmFnZT17fTtcbiAgICAkc2NvcGUuemlwPXt9O1xuXHQvLyBpbmNsdWRlIGxpc3QgbmVlZHMgdG8gYmUgd2l0aGluIGFuIG9iamVjdCBkdWUgdG8gdGhlIGNoZWNrYm94ZXMgYmVpbmcgaW4gYSB0YWJsZVxuXHQkc2NvcGUuZW1haWxzID0ge307XG4gICAgJHNjb3BlLmVtYWlscy5pbmNsdWRlZEVtYWlscyA9IFtdO1xuXHQkc2NvcGUuaW5jbHVkZWRFbWFpbHMgPSBbXTtcblx0JHNjb3BlLnRvdGFsRGlzcGxheWVkID0gNTA7XG5cdCRzY29wZS50b3RhbFJlc3VsdHMgPSAwO1xuICAgIC8vJHJvb3RTY29wZS5oaWRlID0gdHJ1ZTtcblxuXG5cbiAgICAkc2NvcGUuZW1haWxMaXN0ID0gWyBdO1xuICAgICRzY29wZS5zZWFyY2hMaXN0QnRuID0gZnVuY3Rpb24gKCkge1xuXHRcdCRzY29wZS5lbWFpbExpc3QgPSBbXTtcblxuXG4gICAgICAgIC8vVEhJUyBXT1JLUyAgLS0gd2lsbCBzZWFyY2ggYnkgemlwXG4gICAgICAgIGlmICgkc2NvcGUudHlwZSA9PSAnemlwQ2snKSB7XG5cbiAgICAgICAgICAgIENvbnRhY3RMaXN0RGF0YVNlcnZpY2UubWFrZURhdGFDYWxsKCd6aXAnLCAkc2NvcGUuemlwLmRhdGEpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XG5cdFx0XHRcdFx0JHNjb3BlLnRvdGFsUmVzdWx0cyA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCRzY29wZS5lbWFpbExpc3QpO1xuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdMb2FkZWQgJysgJHNjb3BlLnRvdGFsUmVzdWx0cyArJyByZXN1bHRzJyk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVzdWx0cycpO1xuXHRcdFx0XHR9KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy9USElTIFdPUktTIC0gd2lsbCBzZWFyY2ggYnkgYWdlXG4gICAgICAgIGlmICgkc2NvcGUudHlwZSA9PSAnYWdlQ2snKSB7XG4gICAgICAgICAgICB2YXIgYWdlID0gQ29udGFjdExpc3REYXRhU2VydmljZS5tYWtlRGF0YUNhbGwoJ2FnZScsICRzY29wZS5hZ2UuZGF0YSk7XG4gICAgICAgICAgICBhZ2UudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XG5cdFx0XHRcdCRzY29wZS50b3RhbFJlc3VsdHMgPSBkYXRhLmxlbmd0aDtcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0xvYWRlZCAnKyAkc2NvcGUudG90YWxSZXN1bHRzICsnIHJlc3VsdHMnKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCByZXN1bHRzJyk7XG5cdFx0XHR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vVEhJUyBXT1JLUyAtLWdldCBhbGwgZmFtaWxpZXMgaWYgZmFtIGlzIHRydWVcbiAgICAgICAgaWYgKCRzY29wZS50eXBlID09ICdmYW0nKSB7XG4gICAgICAgICAgICB2YXIgZmFtID0gQ29udGFjdExpc3REYXRhU2VydmljZS5tYWtlRGF0YUNhbGwoJ2ZhbWlseScsICcnKTtcbiAgICAgICAgICAgIGZhbS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsTGlzdCA9IGRhdGE7XG5cdFx0XHRcdCRzY29wZS50b3RhbFJlc3VsdHMgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcygnTG9hZGVkICcrICRzY29wZS50b3RhbFJlc3VsdHMgKycgcmVzdWx0cycpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHJlc3VsdHMnKTtcblx0XHRcdH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9nZXQgYWxsIGNvcnAgaWYgY29ycCBpcyB0cnVlXG4gICAgICAgIGlmICgkc2NvcGUudHlwZSA9PSAnY29ycCcpIHtcbiAgICAgICAgICAgIHZhciBjb21wID0gQ29udGFjdExpc3REYXRhU2VydmljZS5tYWtlRGF0YUNhbGwoJ2NvbXBhbnknLCAnJyk7XG4gICAgICAgICAgICBjb21wLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW1haWxMaXN0ID0gZGF0YTtcblx0XHRcdFx0JHNjb3BlLnRvdGFsUmVzdWx0cyA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdMb2FkZWQgJysgJHNjb3BlLnRvdGFsUmVzdWx0cyArJyByZXN1bHRzJyk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVzdWx0cycpO1xuXHRcdFx0fSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2VtcHR5IHRoZSBzZWFyY2ggYm94XG4gICAgICAgJHNjb3BlLnR5cGU9e307XG4gICAgICAgICRzY29wZS5hZ2U9e307XG4gICAgICAgICRzY29wZS56aXA9e307XG5cbiAgICB9O1xuICAgICRzY29wZS5wb3B1bGF0ZUxpc3QgID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL2FsZXJ0KCd3b3JraW5nJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5lbWFpbHMuaW5jbHVkZWRFbWFpbHMpO1xuICAgICAgICBpZihuZXdDb250YWN0TGlzdERhdGEucG9wTGlzdCgkc2NvcGUuZW1haWxzLmluY2x1ZGVkRW1haWxzKSkge1xuXHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ1N1Y2Nlc3NmdWxseSBkZXBsb3llZCBjb250YWN0IGxpc3QuJyk7XG5cdFx0fWVsc2Uge1xuXHRcdFx0dG9hc3RyLmVycm9yKCdGYWlsZWQgdG8gZGVwbG95IGNvbnRhY3QgbGlzdC4nKTtcblx0XHR9XG4gIH07XG5cblx0JHNjb3BlLmxvYWRNb3JlID0gZnVuY3Rpb24gKCkge1xuXHRcdCRzY29wZS50b3RhbERpc3BsYXllZCArPSA1MDtcblx0fTtcblxuXHQkc2NvcGUuc2hvd0FsbCA9IGZ1bmN0aW9uICgpIHtcblx0XHQkc2NvcGUudG90YWxEaXNwbGF5ZWQgPSAkc2NvcGUudG90YWxSZXN1bHRzO1xuXHR9O1xuXG5cdCRzY29wZS5jaGVja0FsbCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyICRidXR0b24gPSBhbmd1bGFyLmVsZW1lbnQoZXZlbnQudGFyZ2V0KTtcblx0XHRpZigkc2NvcGUuZW1haWxzLmluY2x1ZGVkRW1haWxzLmxlbmd0aCA9PSAkc2NvcGUudG90YWxSZXN1bHRzKSB7XG5cdFx0XHQkc2NvcGUuZW1haWxzLmluY2x1ZGVkRW1haWxzID0gW107XG5cdFx0XHQkYnV0dG9uLnZhbChcIkNoZWNrIEFsbFwiKTtcblx0XHR9ZWxzZXtcblx0XHRcdCRzY29wZS5lbWFpbHMuaW5jbHVkZWRFbWFpbHMgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmVtYWlsTGlzdCk7XG5cdFx0XHQkYnV0dG9uLnZhbChcIlVuY2hlY2sgQWxsXCIpO1xuXHRcdH1cblx0fTtcbn1dKTtcblxuXG4iLCJhcHAuZmFjdG9yeSgnQ29udGFjdExpc3REYXRhU2VydmljZScsIFsnJGh0dHAnLCAnJHEnLCBmdW5jdGlvbiAoJGh0dHAsICRxKSB7XG5cbiAgICBmdW5jdGlvbiBtYWtlRGF0YUNhbGwodHlwZSwgcGFzc2VkRGF0YSkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBpbiB0aGUgbWFrZSBkYXRhIGNhbGwnLCB0eXBlLCBwYXNzZWREYXRhKTtcbiAgICAgICAgJGh0dHAoe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogJy4uL2NyZWF0ZU1haWxMaXN0JyxcbiAgICAgICAgICAgIHBhcmFtczoge3R5cGU6IHR5cGUsIHNlYXJjaDogcGFzc2VkRGF0YX1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBtYWtlRGF0YUNhbGw6IG1ha2VEYXRhQ2FsbFxuICAgIH07XG5cblxufV0pOyIsImFwcC5zZXJ2aWNlKCdkYXRlU2VydmljZScsIFsnTW9tZW50SlMnLCBmdW5jdGlvbiAobW9tZW50KSB7XG5cdHZhciBkYkZvcm1hdCA9IFwiWVlZWS1NTS1ERFwiO1xuXHR2YXIgdWlGb3JtYXQgPSBcIk0vRC9ZWVlZXCI7XG5cblx0dmFyIHRvRGJGb3JtYXQgPSBmdW5jdGlvbiAoZGF0ZSkge1xuXHRcdHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KGRiRm9ybWF0KTtcblx0fTtcblxuXHR2YXIgZnJvbURiRm9ybWF0ID0gZnVuY3Rpb24gKGRhdGUpIHtcblx0XHRyZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdCh1aUZvcm1hdCk7XG5cdH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b0RCOiB0b0RiRm9ybWF0LFxuXHRcdGZyb21EQjogZnJvbURiRm9ybWF0XG4gICAgfTtcbn1dKTsiLCIvL2VkaXQgZmFtaWx5IG1vZGFsIHRlbXBsYXRlXG5hcHAuY29udHJvbGxlcignZWRpdEZhbWlseUN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAnJGxvZycsICdSZXN1bHRTZXJ2aWNlJywgJyRodHRwJywgJ3ZhbGlkU2VydmljZScsICd0b2FzdHInLCdkYXRlU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgJGxvZywgUmVzdWx0U2VydmljZSwgJGh0dHAsIHZhbGlkU2VydmljZSwgdG9hc3RyLCBkYXRlU2VydmljZSkge1xuXHQvLyBzZXRzIHZhbGlkYXRpb24gZnJvbSBzZXJ2aWNlIGZvciBkb20gY2FsbHNcblx0JHNjb3BlLnZhbGlkYXRlSW5wdXQgPSB2YWxpZFNlcnZpY2UudmFsaWRhdGVJbnB1dDtcblx0Ly9zZW5kcyB0aGUgYWR1bHRzIGFuZCBraWRzIGFmdGVyIHRoZSByZXN1bHRzIGhhdmUgYmVlbiBvcmdhbml6ZWRcblx0JHNjb3BlLmFkdWx0cyA9IFJlc3VsdFNlcnZpY2UuYWR1bHRzO1xuXHQkc2NvcGUua2lkcyA9IFJlc3VsdFNlcnZpY2Uua2lkcztcblx0JHNjb3BlLmZhbWlseSA9IHtcblx0XHRhZHVsdE9uZToge30sXG5cdFx0YWR1bHRUd286IHt9LFxuXHRcdGVtZXJnZW5jeToge30sXG5cdFx0Y2hpbGRyZW46IFtdLFxuXHRcdGRvbmF0aW9uczogW11cblx0fTtcblx0JHNjb3BlLm5ld0NoaWxkID0ge307XG5cdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xuXG5cdCRzY29wZS5jbGVhckZhbWlseSA9IGZ1bmN0aW9uIChmb3Jtc0FycmF5KSB7XG5cdFx0dG9hc3RyLmVycm9yKCdDYW5jZWxsZWQnKTtcblx0XHQkc2NvcGUuZmFtaWx5ID0ge1xuXHRcdFx0YWR1bHRPbmU6IHt9LFxuXHRcdFx0YWR1bHRUd286IHt9LFxuXHRcdFx0ZW1lcmdlbmN5OiB7fSxcblx0XHRcdGNoaWxkcmVuOiBbXSxcblx0XHRcdGRvbmF0aW9uczogW11cblx0XHR9O1xuXHRcdCRzY29wZS5uZXdDaGlsZCA9IHt9O1xuXHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xuXHRcdGZvcm1zQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodikge1xuXHRcdFx0JCgnIycrIHYgKycgLmpzLXZhbGlkYXRlJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2ludmFsaWQnKS5hdHRyKCdwbGFjZWhvbGRlcicsICQodGhpcykuZGF0YSgncGxhY2Vob2xkZXInKSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXG5cblx0JHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkID0gdHJ1ZTtcblx0JHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoc2l6ZSwgaWQpIHtcblx0XHRjb25zb2xlLmxvZygnZmFtaWx5IGNhbGwnLCBpZCk7XG5cdFx0cmV0dXJuICRodHRwKHtcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR1cmw6ICcuLi9mYW1pbHknLFxuXHRcdFx0cGFyYW1zOiB7aWQ6IGlkfVxuXHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcblx0XHRcdHJlc3BvbnNlLmRhdGEuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcInJlZm9ybWF0dGVkXCIsIGRhdGVTZXJ2aWNlLmZyb21EQihhW2ldLmJpcnRoZGF0ZSkpO1xuXHRcdFx0XHRhW2ldLmJpcnRoZGF0ZSA9IGRhdGVTZXJ2aWNlLmZyb21EQih2LmJpcnRoZGF0ZSk7XG5cdFx0XHR9KTtcblx0XHRcdHJlc3BvbnNlLmRhdGEuZG9uYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHYsIGksIGEpIHtcblx0XHRcdFx0YVtpXS5kYXRlID0gZGF0ZVNlcnZpY2UuZnJvbURCKHYuZGF0ZSk7XG5cdFx0XHR9KTtcblx0XHRcdCRzY29wZS5mYW1pbHkgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG5cdFx0XHRcdGFuaW1hdGlvbjogJHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkLFxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3ByaXZhdGUvZWRpdGZhbWlseS5odG1sJyxcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHRcdFx0c2l6ZTogc2l6ZSxcblx0XHRcdFx0c2NvcGU6ICRzY29wZSxcblx0XHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHRcdGl0ZW1zOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJHNjb3BlLmZhbWlseTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoc2VsZWN0ZWRJdGVtKSB7XG5cdFx0XHRcdCRzY29wZS5zZWxlY3RlZCA9IHNlbGVjdGVkSXRlbTtcblx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JGxvZy5pbmZvKCdNb2RhbCBkaXNtaXNzZWQgYXQ6ICcgKyBuZXcgRGF0ZSgpKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9O1xuXG5cdCRzY29wZS50b2dnbGVBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFx0JHNjb3BlLmFuaW1hdGlvbnNFbmFibGVkID0gISRzY29wZS5hbmltYXRpb25zRW5hYmxlZDtcblx0fTtcblxuXHQvLyBzYXZlIGZhbWlseVxuXHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRjb25zb2xlLmxvZyhcIlNhdmUgc3VibWl0dGVkXCIsICRzY29wZS5mYW1pbHkpO1xuXG5cdFx0Ly8gY2hlY2sgZm9yIGNoaWxkcmVuLCBydW4gdG9EQiBmb3JtYXR0aW5nIGJlZm9yZSBzZW5kaW5nXG5cdFx0aWYoJHNjb3BlLmZhbWlseS5jaGlsZHJlbi5sZW5ndGgpIHtcblx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xuXHRcdFx0XHRhW2ldLmJpcnRoZGF0ZSA9IGRhdGVTZXJ2aWNlLnRvREIodi5iaXJ0aGRhdGUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gY2hlY2sgZm9yIGRvbmF0aW9uLCBydW4gdG9EQiBmb3JtYXR0aW5nIGJlZm9yZSBzZW5kaW5nXG5cdFx0aWYoJHNjb3BlLmZhbWlseS5kb25hdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHQkc2NvcGUuZmFtaWx5LmRvbmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpLCBhKSB7XG5cdFx0XHRcdGFbaV0uZGF0ZSA9IGRhdGVTZXJ2aWNlLnRvREIodi5kYXRlKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwiU2F2aW5nIGZhbWlseSwgYWZ0ZXIgdG9EQiBiaXJ0aGRhdGVzXCIsICRzY29wZS5mYW1pbHkpO1xuXG5cdFx0Ly8gaWYgaGFzIGlkLCB0aGVuIHBvc3RcblxuXHRcdGlmKCEkc2NvcGUuZmFtaWx5LmlkKSB7XG5cblx0XHRcdGlmKHZhbGlkU2VydmljZS52YWxpZGF0ZUZvcm0oW1wiQWRkRmFtSW5mb0Zvcm1cIiwgXCJBZGRGYW1FbWVyRm9ybVwiXSkpIHtcblx0XHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRcdHVybDogJy9mYW1pbHknLFxuXHRcdFx0XHRcdGRhdGE6IHtmYW1pbHk6ICRzY29wZS5mYW1pbHl9XG5cdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiUG9zdGVkIGZhbWlseSwgZ290IGlkIFwiLCByZXMuZGF0YSk7XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5pZCA9IHJlcy5kYXRhLmlkO1xuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuYWR1bHRPbmUgPSAocmVzLmRhdGEuYWR1bHRPbmUpID8gcmVzLmRhdGEuYWR1bHRPbmUgOiB7fTtcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmFkdWx0VHdvID0gKHJlcy5kYXRhLmFkdWx0VHdvKSA/IHJlcy5kYXRhLmFkdWx0VHdvIDoge307XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5lbWVyZ2VuY3kgPSAocmVzLmRhdGEuZW1lcmdlbmN5KSA/IHJlcy5kYXRhLmVtZXJnZW5jeSA6IHt9O1xuXHRcdFx0XHRcdGlmICgkc2NvcGUuZmFtaWx5LmNoaWxkcmVuLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbiA9IFtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmNoaWxkcmVuID0gKHJlcy5kYXRhLmNoaWxkcmVuKSA/IHJlcy5kYXRhLmNoaWxkcmVuIDogW107XG5cdFx0XHRcdFx0aWYgKCRzY29wZS5mYW1pbHkuZG9uYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMgPSAocmVzLmRhdGEuZG9uYXRpb25zKSA/IHJlcy5kYXRhLmRvbmF0aW9ucyA6IFtdO1xuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKCdGYW1pbHkgc2F2ZWQhJyk7XG5cdFx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBhZGQgZmFtaWx5Jyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fWVsc2Uge1xuXHRcdFx0XHR0b2FzdHIuZXJyb3IoJ1VuYXV0aG9yaXplZCBjaGFyYWN0ZXInKTtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJBZGQgZmFtaWx5IGZhaWxlZCBpbnB1dCB0ZXN0c1wiKTtcblx0XHRcdH1cblx0XHR9ZWxzZSB7XG5cdFx0XHRpZih2YWxpZFNlcnZpY2UudmFsaWRhdGVGb3JtKFtcIkVkaXRGYW1JbmZvRm9ybVwiLCBcIkVkaXRGYW1FbWVyRm9ybVwiXSkpIHtcblx0XHRcdFx0Ly8gdXBkYXRlIGZhbWlseSAtIGhhcyBubyBpZFxuXHRcdFx0XHRjb25zb2xlLmxvZyhcInVwZGF0ZSBmYW1pbHlcIiwgJHNjb3BlLmZhbWlseSk7XG5cdFx0XHRcdCRodHRwKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxuXHRcdFx0XHRcdHVybDogJy9mYW1pbHknLFxuXHRcdFx0XHRcdGRhdGE6IHtmYW1pbHk6ICRzY29wZS5mYW1pbHl9XG5cdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiUHV0IGZhbWlseSwgZ290IGlkIFwiLCByZXMuZGF0YSk7XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5pZCA9IHJlcy5kYXRhLmlkO1xuXHRcdFx0XHRcdCRzY29wZS5mYW1pbHkuYWR1bHRPbmUgPSAocmVzLmRhdGEuYWR1bHRPbmUpID8gcmVzLmRhdGEuYWR1bHRPbmUgOiB7fTtcblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmFkdWx0VHdvID0gKHJlcy5kYXRhLmFkdWx0VHdvKSA/IHJlcy5kYXRhLmFkdWx0VHdvIDoge307XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5lbWVyZ2VuY3kgPSAocmVzLmRhdGEuZW1lcmdlbmN5KSA/IHJlcy5kYXRhLmVtZXJnZW5jeSA6IHt9O1xuXHRcdFx0XHRcdGlmICgkc2NvcGUuZmFtaWx5LmNoaWxkcmVuLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbiA9IFtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkc2NvcGUuZmFtaWx5LmNoaWxkcmVuID0gKHJlcy5kYXRhLmNoaWxkcmVuKSA/IHJlcy5kYXRhLmNoaWxkcmVuIDogW107XG5cdFx0XHRcdFx0aWYgKCRzY29wZS5mYW1pbHkuZG9uYXRpb25zLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMgPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHNjb3BlLmZhbWlseS5kb25hdGlvbnMgPSAocmVzLmRhdGEuZG9uYXRpb25zKSA/IHJlcy5kYXRhLmRvbmF0aW9ucyA6IFtdO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJFZGl0IGZhbWlseSBmYWlsZWQgaW5wdXQgdGVzdHNcIik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIGZvciBhcHBlbmRpbmcgY2hpbGRyZW4gdG8gbW9kZWwgYmVmb3JlIHNhdmluZyBuZXcgZmFtaWx5XG5cdCRzY29wZS5hZGRDaGlsZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRjb25zb2xlLmxvZyhcImNoaWxkIGFkZGVkXCIsICRzY29wZS5uZXdDaGlsZCwgJHNjb3BlLmZhbWlseS5jaGlsZHJlbik7XG5cdFx0Ly8gaWYgdHJ1ZSwgdGhlbiB1cGRhdGUgdGhhdCBpbmRleFxuXHRcdGlmKCRzY29wZS5lZGl0aW5nQ2hpbGQpIHtcblx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW5bJHNjb3BlLmVkaXRpbmdDaGlsZF0gPSAkc2NvcGUubmV3Q2hpbGQ7XG5cdFx0XHQkc2NvcGUuZWRpdGluZ0NoaWxkID0gZmFsc2U7XG5cdFx0XHR0b2FzdHIuc3VjY2VzcygnQ2hpbGQgdXBkYXRlZCEnKTtcblx0XHR9ZWxzZSB7XG5cdFx0XHQvLyBlbHNlIHB1c2ggdG8gYXJyYXlcblx0XHRcdCRzY29wZS5mYW1pbHkuY2hpbGRyZW4ucHVzaCgkc2NvcGUubmV3Q2hpbGQpO1xuXHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ0NoaWxkIGFkZGVkIScpO1xuXHRcdH1cblx0XHQkc2NvcGUubmV3Q2hpbGQgPSB7fTtcblx0fTtcblxuXHQvLyBlZGl0IGNoaWxkIG9uIHRoZSBhZGQgY2hpbGRyZW4gdGFiIG9mIGFkZCBmYW1pbHlcblx0JHNjb3BlLmVkaXRDaGlsZCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdC8vIHNhdmUgaW5kZXggb2YgY2hpbGQgZWRpdGluZ1xuXHRcdCRzY29wZS5lZGl0aW5nQ2hpbGQgPSBpbmRleDtcblx0XHQkc2NvcGUubmV3Q2hpbGQgPSAkc2NvcGUuZmFtaWx5LmNoaWxkcmVuW2luZGV4XTtcblx0fTtcblxuXHQkc2NvcGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblx0XHRjb25zb2xlLmxvZyhcImluIHJlbW92ZSBjaGlsZCBpbmRleFwiLCBpbmRleCwgXCIgZWRpdCBcIiwgJHNjb3BlLmVkaXRpbmdDaGlsZCk7XG5cdFx0JHNjb3BlLmZhbWlseS5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdGlmKGluZGV4ID09ICRzY29wZS5lZGl0aW5nQ2hpbGQpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiZWRpdCBtYXRjaFwiKTtcblx0XHRcdCRzY29wZS5jbGVhckNoaWxkKCk7XG5cdFx0fWVsc2Uge1xuXHRcdFx0Y29uc29sZS5sb2coXCJubyBlZGl0IG1hdGNoXCIpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBjbGVhcnMgdGV4dCBib3hlcyBpbiBhZGQgZmFtaWx5LT5jaGlsZHJlbiB0YWJcblx0JHNjb3BlLmNsZWFyQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc29sZS5sb2coXCJpbiBjbGVhciBjaGlsZFwiKTtcblx0XHQkc2NvcGUubmV3Q2hpbGQgPSB7XG5cdFx0XHRmaXJzdE5hbWU6ICcnLFxuXHRcdFx0bGFzdE5hbWU6ICcnLFxuXHRcdFx0YmlydGhkYXRlOiAnJyxcblx0XHRcdHNjaG9vbDogJycsXG5cdFx0XHRub3RlczogJydcblx0XHR9O1xuXHRcdCRzY29wZS5lZGl0aW5nQ2hpbGQgPSBmYWxzZTtcblx0fTtcblxuXG5cdC8vIGFkZHMgZG9uYXRpb24gdG8gZmFtaWx5IG9iamVjdFxuXG4vLyBhZGRzIGRvbmF0aW9uIHRvIGZhbWlseSBvYmplY3Rcblx0JHNjb3BlLmFkZERvbmF0aW9uID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0ZW1wID0gJHNjb3BlLm5ld0RvbmF0aW9uO1xuXHRcdHRlbXAuZGF0ZSA9IGRhdGVTZXJ2aWNlLnRvREIodGVtcC5kYXRlKTtcblx0XHQkc2NvcGUuY29ycC5kb25hdGlvbnMucHVzaCgkc2NvcGUubmV3RG9uYXRpb24pO1xuXHRcdCRzY29wZS5uZXdEb25hdGlvbiA9IHt9O1xuXHRcdGNvbnNvbGUubG9nKFwiYWRkZWQgZG9uYXRpb25cIiwgdGVtcCwgJHNjb3BlLmNvcnAuZG9uYXRpb25zKTtcblx0fTtcblxuXHQvLy8vIHByZXZlbnQgYWNjaWRlbnRhbCBiYWNrc1xuXHQvLyRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiggZXZlbnQsIG9sZFVybCApIHtcblx0Ly9cdGNvbnNvbGUubG9nKFwib2xkIHVybDogXCIsIG9sZFVybCk7XG5cdC8vXHRpZigvKGFkZGZhbWlseSkvLnRlc3Qob2xkVXJsKSkge1xuXHQvL1x0XHR2YXIgYW5zd2VyID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSB0aGlzIHBhZ2U/XCIpO1xuXHQvL1x0XHRpZiAoIWFuc3dlcikge1xuXHQvL1x0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdC8vXHRcdH1cblx0Ly9cdH1cblx0Ly99KTtcblxufV0pOyIsIi8vY29udHJvbGxlcnMgZm9yIGxvZ2luXG5hcHAuY29udHJvbGxlcignbG9naW5DdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnYXV0aFNlcnZpY2UnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCAndG9hc3RyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgYXV0aFNlcnZpY2UsICRsb2NhdGlvbiwgJHJvb3RTY29wZSwgdG9hc3RyKXtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJGh0dHAucG9zdCgnL2xvZ2luJywgJHNjb3BlLmZvcm0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBhdXRoU2VydmljZS5zYXZlVG9rZW4ocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL3NlYXJjaFwiKTtcbiAgICAgICAgICAgIH0sZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ2luY29ycmVjdCB1c2VybmFtZSBvciBwYXNzd29yZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfTtcbn1dKTtcbiIsIlxuLy9UaGlzIHNob3VsZCBnZXQgdGhlIHNlYXJjaCBpdGVtXG5hcHAuY29udHJvbGxlcignc2VhcmNoRnVuY3Rpb24nLCBbJyRzY29wZScsICckaHR0cCcsICdSZXN1bHRTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsIFJlc3VsdFNlcnZpY2UpIHtcbiAgICAkc2NvcGUuZm9ybUlucHV0PXt9O1xuXG4gICAgJHNjb3BlLnNlYXJjaEJ0biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9wYXNzZXMgaW4gc2VhcmNoIHRleHQgdG8gc2VydmljZVxuICAgICAgIFJlc3VsdFNlcnZpY2UubWFrZURhdGFDYWxsKCRzY29wZS5mb3JtSW5wdXQuZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIHRoZSBpbnB1dCB0ZXh0JywgJHNjb3BlLmZvcm1JbnB1dCk7XG4gICAgICAgIC8vZW1wdHlzIHRoZSBzZWFyY2ggYm94XG4gICAgICAgICRzY29wZS5mb3JtSW5wdXQ9e307XG4gICAgfTtcblxufV0pO1xuIiwiLy9UaGlzIHNlcnZpY2Ugc2hvdWxkIHBhc3MgZGF0YSBiZXR3ZWVuIGNvbnRyb2xsZXJzXG5hcHAuZmFjdG9yeSgnUmVzdWx0U2VydmljZScsIFsnJGh0dHAnLGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgYWR1bHRzID0gW107XG4gICAgdmFyIGNvbXBhbmllcyA9IFtdO1xuICAgIHZhciBraWRzID0gW107XG5cbiAgICB2YXIgbWFrZURhdGFDYWxsID0gZnVuY3Rpb24ocGFzc2VkRGF0YSkge1xuICAgICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogJy4uL3NlYXJjaCcsXG4gICAgICAgICAgICBwYXJhbXM6e3NlYXJjaDpwYXNzZWREYXRhfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICBnZXRDb21wYW5pZXMocmVzdWx0cyk7XG4gICAgICAgICAgICBnZXRLaWRzKHJlc3VsdHMpO1xuICAgICAgICAgICAgZ2V0QWR1bHRzKHJlc3VsdHMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBnZXRDb21wYW5pZXMgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICB2YXIgZ2V0RWxlbWVudDEgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICAgICAgY29tcGFuaWVzLnNwbGljZSgwLGNvbXBhbmllcy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdjb21wYW55JylcbiAgICAgICAgICAgICAgICBjb21wYW5pZXMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgZ2V0RWxlbWVudDEoYXJyYXkpO1xuICAgICAgICBjb25zb2xlLmxvZygndGhpcyBpcyBnZXRFbGVtZW50MScsY29tcGFuaWVzKTtcbiAgICAgICAgcmV0dXJuIGNvbXBhbmllc1xuICAgIH07XG5cbiAgICB2YXIgZ2V0QWR1bHRzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQyID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIGFkdWx0cy5zcGxpY2UoMCxhZHVsdHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PSAnYWR1bHQnKVxuICAgICAgICAgICAgICAgICAgICBhZHVsdHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGdldEVsZW1lbnQyKGFycmF5KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgaW4gZ2V0RWxlbWVudDInLCBhZHVsdHMpO1xuICAgICAgICByZXR1cm4gYWR1bHRzXG4gICAgfTtcblxuICAgIHZhciBnZXRLaWRzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgdmFyIGdldEVsZW1lbnQzID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgICAgIGtpZHMuc3BsaWNlKDAsa2lkcy5sZW5ndGgpO1xuICAgICAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09ICdjaGlsZCcpXG4gICAgICAgICAgICAgICAgICAgIGtpZHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGdldEVsZW1lbnQzKGFycmF5KTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgZ2V0RWxlbWVudHMzJywga2lkcyk7XG4gICAgICAgIHJldHVybiBraWRzXG4gICAgfTtcblxuICAgIC8vcHVibGljXG4gICAgdmFyIHB1YmxpY0FwaSA9IHtcbiAgICAgICAgZ2V0S2lkczogZ2V0S2lkcyxcbiAgICAgICAgZ2V0QWR1bHRzOiBnZXRBZHVsdHMsXG4gICAgICAgIGdldENvbXBhbmllczogZ2V0Q29tcGFuaWVzLFxuICAgICAgICBtYWtlRGF0YUNhbGw6IG1ha2VEYXRhQ2FsbCxcbiAgICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgICAgY29tcGFuaWVzOiBjb21wYW5pZXMsXG4gICAgICAgIGFkdWx0czogYWR1bHRzLFxuICAgICAgICBraWRzOiBraWRzXG4gICAgfTtcbiAgICByZXR1cm4gcHVibGljQXBpO1xufV0pOyIsIi8vIFBsZWFzZSBub3RlIHRoYXQgJG1vZGFsSW5zdGFuY2UgcmVwcmVzZW50cyBhIG1vZGFsIHdpbmRvdyAoaW5zdGFuY2UpIGRlcGVuZGVuY3kuXG4vLyBJdCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlICR1aWJNb2RhbCBzZXJ2aWNlIHVzZWQgYWJvdmUuXG5cbi8vbmVlZGVkIGZvciBtb2RhbD8/IHByZXR0eSBzdXJlXG5hcHAuY29udHJvbGxlcignTW9kYWxJbnN0YW5jZUN0cmwnLFsnJHNjb3BlJywnJG1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkbW9kYWxJbnN0YW5jZSkge1xuXG4gICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkbW9kYWxJbnN0YW5jZS5jbG9zZSgkc2NvcGUuc2VsZWN0ZWQuaXRlbSk7XG4gICAgfTtcblxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgIH07XG59XSk7IiwiYXBwLmNvbnRyb2xsZXIoJ25hdkN0cmwnLCBbJ2F1dGhTZXJ2aWNlJywnJHNjb3BlJywnJHJvb3RTY29wZScsJyRsb2NhdGlvbicsIGZ1bmN0aW9uKGF1dGhTZXJ2aWNlLCAkc2NvcGUsICRyb290U2NvcGUsICRsb2NhdGlvbil7XG4gICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuXG4gICAgaWYoJHJvb3RTY29wZS51c2VyICYmICRyb290U2NvcGUudXNlci51c2VybmFtZSl7XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvaG9tZScpO1xuICAgIH1cblxuICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xuICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQoKTtcbiAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgICAkbG9jYXRpb24ucGF0aChcIi9cIik7XG4gICAgfVxufV0pO1xuIiwiLy8gQWpheCBmb3IgY3JlYXRpbmcgdGhlIGNvbnRhY3QgbGlzdCBpbiBjb25zdGFudCBjb250YWN0XG5hcHAuY29udHJvbGxlcignbmV3Q29udGFjdExpc3RDb250cm9sbGVyJyxbJ25ld0NvbnRhY3RMaXN0RGF0YScsJyRzY29wZScsICckcm9vdFNjb3BlJywgJ3RvYXN0cicsIGZ1bmN0aW9uKG5ld0NvbnRhY3RMaXN0RGF0YSwgJHNjb3BlLCAkcm9vdFNjb3BlLCB0b2FzdHIpIHtcbiAgICAvL2RhdGEgdG8gY3JlYXRlIGEgbmV3IGNvbnRhY3QgbGlzdFxuXG4gICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICBjb25zb2xlLmxvZygnaGlkZScpO1xuICAgICAgICAkcm9vdFNjb3BlLmhpZGUgPSB0cnVlO1xuICAgIH07XG5cbiAgICAkc2NvcGUubGlzdG5hbWUgPSB7fTtcblxuICAgICRzY29wZS5jcmVhdGVMaXN0ICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGUgbGlzdDogXCIgKyAkc2NvcGUubGlzdG5hbWUuaW5wdXQpO1xuICAgICAgICAvL3Bhc3NlcyBsaXN0IG5hbWUgc2VydmljZVxuICAgICAgICBuZXdDb250YWN0TGlzdERhdGEucG9zdExpc3QoJHNjb3BlLmxpc3RuYW1lLmlucHV0LCBmdW5jdGlvbiAoc3RhdHVzKSB7XG5cdFx0XHRpZihzdGF0dXMgPT09IHRydWUpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnbGlzdCAjJyxuZXdDb250YWN0TGlzdERhdGEubGlzdE51bSk7XG5cdFx0XHRcdCRzY29wZS5saXN0bmFtZT17fTtcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoJ1N1Y2Nlc3NmdWxseSBjcmVhdGVkIGxpc3QnKTtcblx0XHRcdFx0JHNjb3BlLmhpZGUoKTtcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJmYWlsZWQgdG8gY3JlYXRlIGxpc3RcIik7XG5cdFx0XHRcdHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBsaXN0Jyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblxuICAgIH07XG59XSk7XG5cblxuIiwiXG5hcHAuc2VydmljZSgnbmV3Q29udGFjdExpc3REYXRhJywgWydDb250YWN0TGlzdERhdGFTZXJ2aWNlJywgJyRodHRwJywgJyR0aW1lb3V0JyxcbiAgICBmdW5jdGlvbiAoQ29udGFjdExpc3REYXRhU2VydmljZSwgJGh0dHAsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBsaXN0TnVtID0gXCJcIjtcbiAgICAgICAgdmFyIGltcG9ydERhdGFBcnJheSA9W107XG5cbiAgICAgICAgdGhpcy5wb3N0TGlzdCA9IGZ1bmN0aW9uIChuYW1lLCBjYikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkaWQgdGhlIG5hbWUgbWFrZSBpdCB0byB0aGUgc2VydmljZT8gXCIgKyBuYW1lICk7XG5cblx0XHRcdC8vJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTt9LCA1MDAwKTtcblx0XHRcdC8vcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvbmV3Q29udGFjdExpc3QnLCB7bmFtZTogbmFtZX0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgbGlzdE51bSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJZD8gXCIsIGxpc3ROdW0pO1xuXHRcdFx0XHRjYih0cnVlKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkIHRvIGNyZWF0ZVwiLCBkYXRhKTsgLy9lcnJvclxuXHRcdFx0XHQvL3JldHVybiBmYWxzZTtcblx0XHRcdFx0Y2IoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucG9wTGlzdCA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFPYmplY3QgPSB7XG4gICAgICAgICAgICAgICAgXCJpbXBvcnREYXRhQXJyYXlcIjogaW1wb3J0RGF0YUFycmF5LFxuICAgICAgICAgICAgICAgIFwibGlzdE51bVwiOiBsaXN0TnVtXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvdCB0byBwb3BMaXN0Jyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW1wb3J0RGF0YUFycmF5OiAnLHRoaXMuaW1wb3J0RGF0YUFycmF5LCAnXFxudHlwZTogJywgdHlwZW9mIHRoaXMuaW1wb3J0RGF0YUFycmF5KTtcbiAgICAgICAgICAgIGdldENoZWNrZWQobGlzdCk7XG4gICAgICAgICAgICAkaHR0cC5wb3N0KCcvcG9wdWxhdGVDb250YWN0TGlzdCcsIHRoaXMuZGF0YU9iamVjdCkudGhlbihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncG9zdGVkJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ltcG9ydERhdGFBcnJheTogJyx0aGlzLmltcG9ydERhdGFBcnJheSwgJ1xcbnR5cGU6ICcsIHR5cGVvZiB0aGlzLmltcG9ydERhdGFBcnJheSk7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy9nZXQgYWxsIHRoZSBjaGVja2VkIGVsZW1lbnRzIGFuZCBzdHVmZiB0aGVtIGluIGFuIGFycmF5XG4gICAgICAgIHZhciBnZXRDaGVja2VkID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRDaGVja2VkIGlzIHJ1bm5pbmcnKTtcbiAgICAgICAgICAgIGwuZm9yRWFjaChcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdE9iamVjdCA9XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZW1haWxfYWRkcmVzc2VzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZW1haWwgfHwgJydcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZpcnN0X25hbWVcIjpvYmplY3QuZmlyc3ROYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsYXN0X25hbWVcIjogb2JqZWN0Lmxhc3ROYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb21wYW55X25hbWVcIjogb2JqZWN0LmNvbXBhbnkgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFkZHJlc3Nlc1wiOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6IG9iamVjdC5jaXR5IHx8ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRhY3RPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnREYXRhQXJyYXkucHVzaCh0aGlzLmNvbnRhY3RPYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cblxuIiwiYXBwLmNvbnRyb2xsZXIoJ3BvcExpc3RDb250cm9sbGVyJyxbJ25ld0NvbnRhY3RMaXN0RGF0YScsJyRzY29wZScsJyRodHRwJywgZnVuY3Rpb24obmV3Q29udGFjdExpc3REYXRhLCAkc2NvcGUsICRodHRwKSB7XG4gICAgLy9kYXRhIHRvIGNyZWF0ZSBhIG5ldyBjb250YWN0IGxpc3RcblxuXG4gICAgJHNjb3BlLmxpc3ROYW1lID0ge307XG5cbiAgICAkc2NvcGUucG9wdWxhdGVMaXN0ICA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGUgbGlzdDogXCIgKyBzY29wZS5saXN0TmFtZS5pbnB1dCk7XG4gICAgICAgIC8vcGFzc2VzIGluIHNlYXJjaCB0ZXh0IHRvIHNlcnZpY2VcbiAgICAgICAgbmV3Q29udGFjdExpc3REYXRhLnBvcExpc3QoKTtcbiAgICAgICAgLy92YXIgbGlzdEVuZCA9IHtcbiAgICAgICAgLy8gICAgXCJsaXN0c1wiOiBbbGlzdE51bV0sXG4gICAgICAgIC8vICAgIFwiY29sdW1uX25hbWVzXCI6IFtcbiAgICAgICAgLy8gICAgXCJFTUFJTFwiLFxuICAgICAgICAvLyAgICBcIkZJUlNUIE5BTUVcIixcbiAgICAgICAgLy8gICAgXCJMQVNUIE5BTUVcIixcbiAgICAgICAgLy8gICAgXCJDSVRZXCIsXG4gICAgICAgIC8vICAgIFwiQ09NUEFOWSBOQU1FXCJcbiAgICAgICAgLy9dfVxuXG5cbiAgICAgICAgJHNjb3BlLmxpc3ROYW1lPXt9O1xuICAgIH07XG59XSk7XG5cbiIsIlxuLy9yZWdpc3RlciBjb250cm9sbGVyXG5hcHAuY29udHJvbGxlcigncmVnaXN0ZXJDdHJsJywgWyAnJHNjb3BlJywgJyRodHRwJywgJyRsb2NhdGlvbicsICd0b2FzdHInLCAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgdG9hc3RyKSB7XG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWdpc3RlckN0cmxcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWdpc3RlckNvbnRyb2xsZXIgc3VibWl0OicsICRzY29wZS5mb3JtKTtcbiAgICAgICAgJGh0dHAucG9zdCgnL3JlZ2lzdGVyJywgJHNjb3BlLmZvcm0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvaW5kZXhcIik7XG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJhZG1pbiBjcmVhdGVkXCIpO1xuICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xuICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignZmFpbGVkIHRvIGFkZCBhZG1pbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbn1dKTtcbiIsImFwcC5jb250cm9sbGVyKCdyZXNldEN0cmwnLCBbICckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgJ2F1dGhTZXJ2aWNlJywgJ3RvYXN0cicsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkbG9jYXRpb24sIGF1dGhTZXJ2aWNlLCB0b2FzdHIpIHtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnZWRpdCBwYXNzd29yZDonLCAkc2NvcGUuZm9ybSk7XG5cdFx0dmFyIHRlbXBVc2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xuXHRcdGNvbnNvbGUubG9nKFwiYXV0aCB1c2VyXCIsIHRlbXBVc2VyKTtcblx0XHQvLyBhZGQgaW4gaWQsIHVzZXJuYW1lXG5cdFx0dmFyIHVzZXIgPSAkc2NvcGUuZm9ybTtcblx0XHR1c2VyLmlkID0gdGVtcFVzZXIuaWQ7XG5cdFx0dXNlci51c2VybmFtZSA9IHRlbXBVc2VyLnVzZXJuYW1lO1xuXHRcdGNvbnNvbGUubG9nKFwicHJlcGFyZWRcIiwgdXNlcik7XG4gICAgICAgICRodHRwLnB1dCgnL2FkbWluJywgdXNlcilcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygncGFzc3dvcmQgY2hhbmdlZCcpO1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL2luZGV4XCIpO1xuICAgICAgICAgICAgfSxmdW5jdGlvbigpe1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdmYWlsZWQgdG8gdXBkYXRlIHBhc3N3b3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxufV0pO1xuIiwiYXBwLnNlcnZpY2UoJ3ZhbGlkU2VydmljZScsIFtmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdmFsaWRhdGVJbnB1dCA9IGZ1bmN0aW9uICh0eXBlLCBpZCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwidmFsaWRhdGVJbnB1dCgpXCIpO1xuICAgICAgICAvLyBzdG9yZXMgdGhlIGZvcm0gYmVpbmcgY2FsbGVkIG9uXG4gICAgICAgIHZhciBwYXR0ZXJuO1xuICAgICAgICB2YXIgJG9iaiA9IChpZCkgPyAkKCcjJysgaWQpIDogZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKFwib2JqZWN0IGlzIFwiLCAkb2JqLCB0eXBlLCBpZCk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjaXR5XCI6XG4gICAgICAgICAgICBjYXNlIFwic3RhdGVcIjpcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgYW5kIGFscGhhIGNoYXJzLCBhcyB3ZWxsIGFzIHdoaXRlIHNwYWNlIGFuZCBhIGZldyBleHRyYSBjaGFyc1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlthLXpBLXpcXHMsLictXXswLDI4fS87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29ycE5hbWVcIjpcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bYS16QS1aMC05XFxzLC4/QCEjJ34qXzsrLV17MCw3NX0vO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFkZHJlc3NcIjpcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bYS16QS1aMC05XFxzLC4/QCEjJ34qXzsrOigpJSYtXXswLDUwfS87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiemlwXCI6XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IC9eWzAtOV17NX0kLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwaG9uZVwiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXihbKF1bMC05XXszfVspXXxbMC05XXszfSlbXFxzXFwtLl0/WzAtOV17M31bXFxzXFwtLl0/WzAtOV17NH0kLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlthLXpBLVowLTkuXyUrLV0rQFthLXpBLVowLTkuLV0rXFwuW2EtekEtWl17Mix9JC87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm90ZXNcIjpcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL15bYS16QS1aMC05XFxzLC4/QCEjJ34qXzsrOigpJSY8PlxcW1xcXXt9XFwtPVwifGBcXFxcXFwvXXswLDI1MH0vO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImV4dFwiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXlthLXpBLVowLTlcXHM6LV17MCwxNX0kLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgICAgICAgICAgLy9wYXR0ZXJuID0gL14yMFswLTldezJ9Wy1dKDBbMS05XXwxWzAtMl0pWy1dKDBbMS05XXxbMS0yXVswLTldfDNbMDFdKSQvO1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXigwP1sxLTldfDFbMC0yXSlcXC8oMD9bMS05XXxbMS0yXVswLTldfDNbMDFdKVxcLzIwWzAtOV17Mn0kLztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJiaXJ0aGRhdGVcIjpcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gL14oMD9bMS05XXwxWzAtMl0pXFwvKDA/WzEtOV18WzEtMl1bMC05XXwzWzAxXSlcXC8oKDE5OVswLTldfDIwKVswLTldezJ9KSQvO1xuICAgICAgICAgICAgICAgIC8vcGF0dGVybiA9IC9eKDE5OVswLTldfDIwWzAtOV17Mn0pWy1dKDBbMS05XXwxWzAtMl0pWy1dKDBbMS05XXxbMS0yXVswLTldfDNbMDFdKSQvO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImFtb3VudFwiOlxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSAvXihbXFwkXT9bXFxkXSsoWy5dW1xcZF17Mn0pPyl7MSwxMH0kLztcbiAgICAgICAgICAgICAgICBicmVhaztcblx0XHRcdGNhc2UgXCJ1c2VybmFtZVwiOlxuXHRcdFx0Y2FzZSBcInBhc3N3b3JkXCI6XG5cdFx0XHRcdHBhdHRlcm4gPSAvXihbYS16XStbQS1aXStbMC05XSspezgsMjB9JC87XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInNlYXJjaFwiOlxuXHRcdFx0XHRwYXR0ZXJuID0gL15bYS16QS1aMC05XFxzLC4/QCEjJ34qXzsrLV17MCw3NX0kLztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYWdlXCI6XG5cdFx0XHRcdHBhdHRlcm4gPSAvXlswLTldezEsMn0kLztcblx0XHRcdFx0YnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW52YWxpZCBjbGFzcyBzZWFyY2hcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgcmVxdWlyZWQgb3IgdHJpbW1lZCBsZW5ndGggaXMgbm90IDAsIHRoZW4gdmFsaWRhdGUgaW5mb1xuICAgICAgICBpZigkb2JqLmF0dHIoJ3JlcXVpcmVkJykgfHwgJG9iai52YWwoKSkge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHZhbHVlIG1hdGNoZXMgcmVnZXggZm9yIGZpZWxkIHR5cGVcbiAgICAgICAgICAgIGlmKCFwYXR0ZXJuLnRlc3QoJG9iai52YWwoKS50cmltKCkpIHx8ICRvYmoudmFsKCkudHJpbSgpLmxlbmd0aCA9PSAwICYmICRvYmouYXR0cigncmVxdWlyZWQnKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGZhaWxzLCBhZGRzIGludmFsaWQgY2xhc3MgKGhpZ2hsaWdodGluZyksIGNoYW5nZXMgcGxhY2Vob2xkZXIgdG8gd2hhdCBzaG91bGQgYmUgZW50ZXJlZFxuICAgICAgICAgICAgICAgICRvYmouYWRkQ2xhc3MoJ2ludmFsaWQnKS5hdHRyKCdwbGFjZWhvbGRlcicsICRvYmouZGF0YSgnaW52YWxpZCcpKS52YWwoJycpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHR5cGUsICcgZmFpbGVkIHRlc3QnLCBwYXR0ZXJuKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBwYXNzZXMsIHJlbW92ZXMgaW52YWxpZCBjbGFzcywgcmVzZXRzIHBsYWNlaG9sZGVyIHRvIGRlZmF1bHRcbiAgICAgICAgICAgICAgICAkb2JqLnJlbW92ZUNsYXNzKCdpbnZhbGlkJykuYXR0cigncGxhY2Vob2xkZXInLCAkb2JqLmRhdGEoJ3BsYWNlaG9sZGVyJykpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHR5cGUsICcgcGFzc2VkIHRlc3QnLCBwYXR0ZXJuKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG5cdHZhciB2YWxpZGF0ZUZvcm0gPSBmdW5jdGlvbiAoZm9ybXMpIHtcblx0XHR2YXIgcGFzcyA9IHRydWU7XG5cdFx0Zm9ybXMuZm9yRWFjaChmdW5jdGlvbiAodiwgaSwgYSkge1xuXHRcdFx0JCgnIycrIHYgKycgLmpzLXZhbGlkYXRlJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmKHZhbGlkYXRlSW5wdXQoJCh0aGlzKS5kYXRhKCd0eXBlJyksICQodGhpcykuYXR0cignaWQnKSkgPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygkKHRoaXMpLmF0dHIoJ2lkJykgK1wiIGZhaWxlZCB0aGUgdGVzdCBcIisgJCh0aGlzKS5kYXRhKCd0eXBlJykgK1wiIGVudGVyZWQgaW5mbzogXCIrICQodGhpcykudmFsKCkpO1xuXHRcdFx0XHRcdHBhc3MgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHBhc3M7XG5cdH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWxpZGF0ZUlucHV0OiB2YWxpZGF0ZUlucHV0LFxuXHRcdHZhbGlkYXRlRm9ybTogdmFsaWRhdGVGb3JtXG4gICAgfTtcbn1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
